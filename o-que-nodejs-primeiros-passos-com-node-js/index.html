
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="http://tableless.com.br/">
  <title>Tableless</title>
  <link rel="canonical" href="http://tableless.com.br/o-que-nodejs-primeiros-passos-com-node-js/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">
  
</head>
<body>


  <header id="tb-header">
    <a href="http://tableless.com.br/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na prática
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/o-que-nodejs-primeiros-passos-com-node-js/">O que é Node.js e saiba os primeiros passos</a></h1>
  <p class="tb-hero-p">
    
    Da instalação ao seu primeiro web server com JavaScript.
    
  </p>
      <span class="tb-author">por <a href="/author/cosme-lopes">Cosme Lopes</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<h2 id="o-que-é-node-js">O que é Node.js?</h2>

<p><a href="http://www.nodejs.org/" rel="noreferrer">Node.js</a> é uma plataforma para desenvolvimento de aplicações <em>server-side</em> baseadas em rede utilizando <strong>JavaScript</strong> e o <strong>V8 JavaScript Engine</strong>, ou seja, com <strong>Node.js</strong> podemos criar uma variedade de aplicações <em>Web</em> utilizando apenas código em <strong>JavaScript</strong>.</p>

<p>Em uma primeira análise essa informação pode não parecer tão interessante, uma vez que existem diversas outras maneiras em que esses tipos de serviços podem ser implementados. Mas se pensarmos um pouco mais sobre as demandas de aplicações na internet e o modo em que o código em <strong>JavaScript</strong> pode ser estruturado, vamos nos deparar com uma gama de novas possibilidades para desenvolvimento <em>Web</em>, e provavelmente nos juntar à crescente comunidade que tem adotado essa plataforma.</p>

<p>Uma importante diferença está no fato do Node ser <em>single threaded</em>. Embora isso possa parecer uma desvantagem em um primeiro momento, o que percebemos ao desenvolver com <strong>Node.js</strong> é que isso simplifica extremamente a construção da aplicação, e por <strong>Node.js</strong> utilizar uma abordagem não obstrutiva, essa diferença vai ser imperceptível na maioria dos casos.</p>

<h3 id="v8-javascript-engine">V8 JavaScript Engine</h3>

<p>É o interpretador de <strong>JavaScript</strong> open source implementado pelo <strong>Google</strong> em <strong>C++</strong> e utilizado pelo <strong>Chrome</strong>. O que sem dúvidas gera uma grande expectativa em relação ao desempenho do <strong>Node.js</strong>.</p>

<h2 id="instalando-o-node-js">Instalando o Node.js</h2>

<p>A instalação do <strong>Node.js</strong> é extremamente simples graças ao fato de o <strong>V8 JavaScript Engine</strong> ser completamente multi-plataforma, tudo que você precisa fazer é visitar a <a href="http://www.nodejs.org/" rel="noreferrer">página oficial do Node.js</a>, clicar em &#8220;INSTALL&#8221; e seguir as instruções.</p>

<p><img style="width: 100%" src="http://tableless.com.br/wp-content/uploads/2014/07/node_2.png" alt="img node 2" /></p>

<p>Após a instalação, basta executar o seguinte comando no seu terminal para verificar se foi instalado corretamente:</p>

<pre class="lang-plain">$ node -v
&gt; v0.10.26
</pre>

<p>deve retornar a versão do node que foi instalada, como por exemplo <em>v0.10.26</em>.</p>

<h2 id="o-web-server-8216-olá-mundo">O web server &#8216;Olá mundo!’</h2>

<p>Ok, então vamos construir alguma coisa.</p>

<p>Nosso primeiro exemplo é um servidor que retorna a string &#8216;Olá mundo&#8217; para qualquer requisição. Para fazer isso utilizando Node você vai precisar de criar um arquivo <strong>JavaScript</strong> que pode ser chamado <em>olanode.js</em> e de três minutos do seu tempo.</p>

<p>Escreva o seguinte código no seu arquivo:</p>

<pre class="lang-javascript">var http = require('http');
http.createServer(function(req,res) {
  res.writeHead(200, { 'Content-Type': 'text/plain; charset=utf-8' }); 
  res.end('Olá mundo!');
}).listen(3000);
console.log('Servidor iniciado em localhost:3000. Ctrl+C para encerrar…');
</pre>

<p>Para executar o seu programa Node basta o seguinte comando no seu terminal:</p>

<pre class="lang-plain">$ node olanode.js
</pre>

<p>Para testar seu servidor você pode acessar <em>localhost:3000</em> no seu navegador ou utilizar linha de comando com o comando <code>curl</code> (em uma nova instância do terminal) como mostrado a seguir:</p>

<pre class="lang-plain">$ curl http://0.0.0.0:3000/
&gt; Olá mundo!
</pre>

<p>Caso você prefira retornar algum <em>html</em> válido para o navegador, basta alterar <code>'text/plain'</code> para <code>'text/html'</code> no código acima e utilizar uma <em>tag html</em> legal como <code>&lt;h2&gt;</code>, como foi feito a seguir:</p>

<pre class="lang-javascript">var http = require('http');

http.createServer(function(req,res) { 
  res.writeHead(200, { 'Content-Type': 'text/html; charset=utf-8' }); 
  res.end('&lt;h2&gt; Olá mundo! &lt;/h2&gt;');
}).listen(3000);

console.log('Servidor iniciado em localhost:3000. Ctrl+C para encerrar…’);
</pre>

<p><img style="width: 100%" src="http://tableless.com.br/wp-content/uploads/2014/07/node_1.png" alt="img node 1" /></p>

<p>Agora basta voltar ao seu navegador e ver o resultado.</p>

<h2 id="orientado-a-eventos-e-não-obstrutivo">Orientado a eventos e não obstrutivo</h2>

<h3 id="orientado-a-eventos">Orientado a eventos</h3>

<p>Vamos aproveitar este momento de euforia após a construção do seu primeiro servidor para aprender um pouco mais sobre <strong>Node.js</strong>.</p>

<p>Quando estamos desenvolvendo com <strong>Node.js</strong> devemos utilizar uma abordagem orientada a eventos, isso quer dizer que o desenvolvedor precisa conhecer os eventos que serão emitidos em diferentes momentos da execução e também saber como ouvi-los para executar as operações necessárias.</p>

<p>Um bom exemplo de orientação a eventos está na construção de interfaces de usuário. Muitas vezes utilizamos elementos como por exemplo os botões que ao serem clicados emitem um evento do tipo <em>click</em> ao qual podemos ouvir e executar alguma operação.</p>

<p>No nosso exemplo anterior utilizamos esse conceito quando chamamos método <code>listen</code> do objeto do tipo <em>web server</em> e passamos como parâmetro a porta 3000, com isso fizemos que a nossa aplicação ouvisse ao evento que é emitido sempre que alguém faz uma requisição no <code>localhost:3000</code> e a nossa resposta foi servir a string ou a página html. Este evento é chamado <em>request</em>.</p>

<p>Para ilustrar estes conceitos, podemos escrever o nosso exemplo anterior em uma sintaxe alternativa da seguinte forma:</p>

<pre class="lang-javascript">var http = require('http');

var server = http.createServer();

server.on('request', function(req,res) { 
  res.writeHead(200, { 'Content-Type': 'text/html; charset=utf-8' }); 
  res.end('&lt;h2&gt; Olá mundo! &lt;/h2&gt;');
});

server.listen(3000);

console.log('Servidor iniciado em localhost:3000. Ctrl+C para encerrar…’);
</pre>

<p>Dessa forma podemos ver claramente a maneira em que o <strong>Node.js</strong> opera para servir a sua página. Utilizamos o método <code>on</code> do nosso objeto <em>server</em> para ouvir ao evento <em>request</em> e fazer as operações. E definimos que estamos servindo na porta 3000.</p>

<h3 id="não-obstrutivo">Não obstrutivo</h3>

<p>Todos os recursos presentes no <strong>Node.js</strong> e também a maioria das bibliotecas feitas para ele adotaram um padrão não obstrutivo de escrever código, isso quer dizer que em <strong>Node.js</strong> você geralmente vai conseguir estruturar seu código de uma maneira que operações que não dependem de nada que está sendo executado possam ser executadas de forma independente.</p>

<p>Para mostrar um pouco como isso funciona, vamos um programa que escreve duas frases no terminal, porém uma dessas frases precisa ser carregada da memória antes de ser impressa.</p>

<pre class="lang-javascript">var frase;

carregaFrase = function (callback) {  
  setTimeout(function() {
    //Simula leitura da frase no banco de dados.
    frase = "Minha frase obstrutiva";
    callback();
  }, 3000)
}

imprimeFrase = function () {
  console.log(frase);
}

carregaFrase(imprimeFrase);

console.log(“Olá");
</pre>

<p>Nesse exemplo foi criada uma função chamada <code>carregaFrase</code> cujo objetivo é ler uma determinada frase de uma fonte de dados, e uma outra função chamada <code>imprimeFrase</code> que imprime o valor de uma determinada variável no console. Como dependemos da leitura da frase na fonte de dados para imprimir o valor, passamos a função que imprime como parâmetro para a função de leitura para que possamos executar essa função quando a leitura for concluída. Esse tipo de função que é passada como parâmetro dessa maneira é chamada de <em>callback</em>.</p>

<p>Ao executar este exemplo com <strong>Node.js</strong> ou qualquer mecanismo <strong>JavaScript</strong> você vai perceber que a frase &#8220;Olá&#8221; será impressa antes da outra frase mesmo estando posicionada depois no código, isso se deve ao fato de sua execução não depender de nada enquanto a execução da outra frase depende de uma operação que leva 3 segundos.</p>

<p>Este é um exemplo extremamente simples de como criar um código não obstrutivo, portanto use sua imaginação para imaginar cenários em que isso pode ser útil.</p>

<p>Observe que no nosso primeiro exemplo com <strong>Node.js</strong> tanto a função <code>on</code> quanto a função <code>createServer</code> podem receber uma função de <em>callback</em>.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Espero que este tutorial tenha sido o suficiente para provocar o seu interesse em aprender mais sobre <strong>Node.js</strong>. Portanto visite a <a href="http://nodejs.org/api/" rel="noreferrer">documentação do Node.js</a> para obter mais informações e exemplos de aplicações dessa plataforma e também a página da <a href="https://www.joyent.com" rel="noreferrer">Joyent</a>, patrocinadora oficial do projeto.</p>

<p>E finalmente, <strong>Node.js</strong> é um projeto <em>open source</em>, portanto você pode visualizar o código fonte e contribuir no <a href="https://github.com/joyent/node" rel="noreferrer">repositório do Node.js no GitHub</a>.</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos código front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

