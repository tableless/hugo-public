<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ecmascript on Tableless</title>
    <link>https://tableless.github.io/hugo-public/tags/ecmascript/index.xml</link>
    <description>Recent content in Ecmascript on Tableless</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <atom:link href="https://tableless.github.io/hugo-public/tags/ecmascript/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Trabalhando com servi√ßos no Javascript</title>
      <link>https://tableless.github.io/hugo-public/trabalhando-com-servicos-no-javascript/</link>
      <pubDate>Tue, 08 Nov 2016 00:00:00 +0000</pubDate>
      
      <guid>https://tableless.github.io/hugo-public/trabalhando-com-servicos-no-javascript/</guid>
      <description>

&lt;p&gt;JavaScript √© uma &lt;em&gt;linguagem multiparadigma&lt;/em&gt;. Pode-se ‚Äú_emular_‚Äù v√°rias t√©cnicas de programa√ß√£o com ele, e isso √© &lt;strong&gt;incr√≠vel&lt;/strong&gt; pois podemos decidir qual o melhor paradigma para a resolu√ß√£o dos problemas dos nossos projetos. Por√©m se por um lado isso pode parecer poderoso para a linguagem, tamb√©m pode deixar os iniciantes bem confusos, √© muito comum escolher a abordagem errada para o problema. Por esse motivo que o JavaScript em sido pol√™mico nos √∫ltimos anos.&lt;/p&gt;

&lt;p&gt;Pensando nisso muitos desenvolvedores criam suas pr√≥prias solu√ß√µes, uns pensando em ajudar e outros em for√ßar padr√µes.&lt;/p&gt;

&lt;p&gt;Eu prefiro ensinar a pescar, pois JavaScript n√£o tem que ser complexo. A &lt;strong&gt;vers√£o 6 do JavaScript (ES6/ES2015)&lt;/strong&gt; tornou a linguagem muito mais expressiva, facilitando muito o entendimento.&lt;/p&gt;

&lt;h3 id=&#34;encapsulando-l√≥gicas&#34;&gt;Encapsulando l√≥gicas&lt;/h3&gt;

&lt;p&gt;Tudo em JavaScript s√£o objetos (exceto &lt;em&gt;undefined&lt;/em&gt;), ent√£o &lt;strong&gt;servi√ßos tamb√©m s√£o objetos&lt;/strong&gt;, dominando como criamos e trabalhamos com objetos todas as coisas ficam bem mais tranquilas.&lt;/p&gt;

&lt;p&gt;O Jean Carlo Emer fez um artigo muito, &lt;a href=&#34;http://tableless.com.br/modularizacao-em-javascript/&#34;&gt;mas muito bom sobre Modulariza√ß√£o no JavaScript&lt;/a&gt;. Sugiro que voc√™ leia, mas vou explicar um pouco sobre o assunto logo abaixo.&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;size-medium aligncenter&#34; src=&#34;https://cdn-images-1.medium.com/max/800/1*hsXIPyBqqI7ZTh2QyLfizw.gif&#34; alt=&#34;i know JavaScript basics &#34; width=&#34;320&#34; height=&#34;237&#34; /&gt;&lt;/p&gt;

&lt;h4 id=&#34;scope-e-closures&#34;&gt;Scope e¬†Closures&lt;/h4&gt;

&lt;p&gt;JavaScript possui escopo l√©xico. Entre outras coisas isso permite que voc√™ crie &lt;em&gt;closures&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;De maneira resumida voc√™ cria um ‚Äúambiente controlado‚Äù onde h√° fun√ß√µes/vari√°veis que s√≥ podem ser acessadas naquele escopo, criando um enclausuramento (&lt;em&gt;closure&lt;/em&gt;).&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;const initPage = (root) =&amp;gt; {
  const $root = $(root);
  const $menu = $root.find(&#39;.menu&#39;);
  const $profile = $menu.find(&#39;.profile&#39;);

  const initProfile = () =&amp;gt; {
    $.get(&#39;/me&#39;)
      .then(response =&amp;gt; $profile.text(response.username));
    // ...
  };

  const showProfileModal = e =&amp;gt; {
   // ...
  };

  $profile.on(&#39;click&#39;, e =&amp;gt; showProfileModal(e));

  initProfile();
};

initPage(&#39;body&#39;);
&lt;/pre&gt;

&lt;p&gt;Este √© um exemplo bem bobo, mas que ilustra bem como criamos &lt;em&gt;closures&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;As vari√°veis declaradas dentro de &lt;em&gt;initPage&lt;/em&gt; s√≥ existem naquele escopo.&lt;/p&gt;

&lt;p&gt;No mesmo exemplo podemos refatorar esse c√≥digo em uma &lt;strong&gt;IIFE (Immediately-Invoked Function Expression)&lt;/strong&gt;&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;((root) =&amp;gt; {
  const $root = $(root);
  const $menu = $root.find(&#39;.menu&#39;);
  const $profile = $menu.find(&#39;.profile&#39;);

  const initProfile = () =&amp;gt; {
    $.get(&#39;/me&#39;)
     .then(response =&amp;gt; $profile.text(response.username));
    //  ...
  };

  const showProfileModal = e =&amp;gt; {
    // ...
  };

  $profile.on(&#39;click&#39;, e =&amp;gt; showProfileModal(e));

  initProfile();
})(&#39;body&#39;);
&lt;/pre&gt;

&lt;p&gt;Nesse c√≥digo declaramos uma fun√ß√£o e a executamos imediatamente, passando um argumento. Isso √© extremamente √∫til quando queremos fazer um processamento de uma informa√ß√£o que vai servir apenas para criar uma vari√°vel.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;const timezones = (() =&amp;gt; {
  const zones = [];
  const min = -12;
  const max = 13;
  let simbol;

  for (let i = min; i &amp;lt;= max; i++) {
    simbol = (i &amp;lt; 0) ? &#39;&#39; : &#39;+&#39;;
    zones.push(`GMT${simbol}${i}`);
  }

  return zones;
})();
&lt;/pre&gt;

&lt;p&gt;Como voc√™ j√° pode perceber, √© poss√≠vel expor dados de uma &lt;em&gt;closure&lt;/em&gt; como no exemplo anterior. A vari√°vel zones √© retornada, assim a vari√°vel &lt;em&gt;timezones&lt;/em&gt; agora possui como valor o resultado da &lt;em&gt;closure&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Nesse exemplo a &lt;em&gt;closure&lt;/em&gt; n√£o usa dados externos a ela (&lt;em&gt;parent scope&lt;/em&gt;/escopo pai) por√©m dada a natureza do JavaScript isso √© perfeitamente poss√≠vel.&lt;/p&gt;

&lt;p&gt;Isso √© √∫til para n√£o poluir o escopo principal com informa√ß√µes irrelevantes.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;const makeCounter = (start = 0) =&amp;gt; {
  let current = start;

  const add = (value = 1) =&amp;gt; current += value;
  const remove = (value = 1) =&amp;gt; add(value * -1);
  const get = () =&amp;gt; current;

  return { add, remove, get };
};

const counter = makeCounter(10);

counter.add() // 11
counter.add() // 12
counter.add(8) // 20
counter.remove(10) // 10
&lt;/pre&gt;

&lt;p&gt;Este √© um exemplo bem interessante. Estamos combinando &lt;em&gt;closures&lt;/em&gt; com &lt;em&gt;factory&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Com isso podemos criar v√°rios contadores, e trabalhar como melhor convir com estes contadores.&lt;/p&gt;

&lt;div id=&#34;attachment_56186&#34; style=&#34;width: 510px&#34; class=&#34;wp-caption aligncenter&#34;&gt;
  &lt;img class=&#34;wp-image-56186 size-full&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2016/10/wtf.gif&#34; alt=&#34;S√≥ isso! Simples, n√©?&#34; width=&#34;500&#34; height=&#34;284&#34; /&gt;
  
  &lt;p class=&#34;wp-caption-text&#34;&gt;
    S√≥ isso! Simples, n√©?
  &lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Se voc√™ entendeu como o exemplo do contador funciona, parab√©ns voc√™ j√° sabe criar servi√ßos com javascript.&lt;/p&gt;

&lt;p&gt;Isso mesmo, este contator √© um servi√ßo. Na verdade ele √© um &lt;em&gt;factory&lt;/em&gt;, mas com pequenos ajustes ele vira um servi√ßo de f√°cil reuso.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;// makeCounter.js -&amp;gt; factory
const makeCounter = (start = 0) =&amp;gt; {
  let current = start;

  const add = (value = 1) =&amp;gt; current += value;
  const remove = (value = 1) =&amp;gt; add(value * -1);
  const get = () =&amp;gt; current;

  return { add, remove, get };
};

export default makeCounter
&lt;/pre&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;// counter.js -&amp;gt; service
import makeCounter from &#39;./makeCounter.js&#39;;

export default makeCounter(0);
&lt;/pre&gt;

&lt;p&gt;Agora temos dois arquivos, um contendo o &lt;em&gt;factory&lt;/em&gt; do contador, e outro contendo o servi√ßo de contagem.&lt;/p&gt;

&lt;h2 id=&#34;m√≥dulos-javascript&#34;&gt;M√≥dulos JavaScript&lt;/h2&gt;

&lt;p&gt;&lt;img class=&#34;size-full wp-image-56185 aligncenter&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2016/10/module.gif&#34; alt=&#34;module&#34; width=&#34;400&#34; height=&#34;250&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Como visto anteriormente, √© bem simples criar servi√ßos com JavaScript, basta antes entender alguns conceitos.&lt;/p&gt;

&lt;p&gt;Por√©m isso n√£o √© tudo, se voc√™ esta criando um servi√ßo √© porque tem a inten√ß√£o de reusar esta l√≥gica em mais de um local da aplica√ß√£o. Isto n√£o √© uma regra, talvez voc√™ queira apenas centralizar a l√≥gica da opera√ß√£o.&lt;/p&gt;

&lt;p&gt;N√£o importa o objetivo inicial, voc√™ vai acabar criando um m√≥dulo JavaScript para aquela sua opera√ß√£o/servi√ßo. No exemplo do contador foram criados dois arquivos, o &lt;em&gt;contador&lt;/em&gt; e o &lt;em&gt;factory do contador&lt;/em&gt;. Nesse momento voc√™ precisa entender minimamente o que s√£o m√≥dulos JavaScript.&lt;/p&gt;

&lt;p&gt;Em resumo: um arquivo JavaScript √© um m√≥dulo e um m√≥dulo JavaScript √© um arquivo.&lt;/p&gt;

&lt;p&gt;Voc√™ pode criar um m√≥dulo a partir de outros m√≥dulos, como √© o exemplo do contador, ele √© composto a partir do m√≥dulo &lt;em&gt;makeCouter&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Em geral a l√≥gica dos m√≥dulo √© encapsulada em &lt;em&gt;closures&lt;/em&gt; e o retorno delas √© &lt;em&gt;cacheado&lt;/em&gt;, sendo assim, uma vez que voc√™ importa um m√≥dulo, ele ser√° &lt;strong&gt;o mesmo sempre, compartilhando seu estado&lt;/strong&gt;. Saiba mais &lt;a href=&#34;http://www.vuejs-brasil.com.br/utilizando-vuex-na-forma-modular-2/#vamosentenderoqueaconteceu&#34;&gt;aqui&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;usando-servi√ßos&#34;&gt;Usando servi√ßos&lt;/h3&gt;

&lt;p&gt;Agora que voc√™ possui essas informa√ß√µes acredito que criar seus pr√≥prios servi√ßos n√£o ser√° nenhum &lt;em&gt;bicho de sete cabe√ßas&lt;/em&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Vale a pena dizer que tudo pode ser considerado um servi√ßo, inclusive &lt;em&gt;factories&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Para refor√ßar vou deixar mais um exemplo de uso de servi√ßos.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;import Http from &#39;./http.js&#39;;
import UsersService from &#39;./modules/users/service.js&#39;;

Http.setToken(&#39;XPTO&#39;); // Define o token de autentifica√ß√£o

// Cattega a primeira p√°gina de usu√°rios
// Exibe um alerta com o nome do primeiro usu√°rio retornado pelo servi√ßo

UsersService
  .getAll({ page: 1 })
  .then(result =&amp;gt; result.data)
  .then(data =&amp;gt; data[0])
  .then(first =&amp;gt; {
    alert(first.name);
  });
&lt;/pre&gt;

&lt;p&gt;Para efeito de aprendizado uma sintaxe alternativa, com &lt;a href=&#34;https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/import&#34;&gt;&lt;em&gt;import binding&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;import { setToken } from &#39;./http.js&#39;;
import { getAll as getAllUsers } from &#39;./modules/users/service.js&#39;;

setToken(&#39;XPTO&#39;); // Define o token de autentifica√ß√£o

// Carrega a primeira p√°gina de usu√°rios
// Exibe um alerta com o nome do primeiro usu√°rio retornado pelo servi√ßo

getAllUsers({ page: 1 })
  .then(result =&amp;gt; result.data)
  .then(data =&amp;gt; data[0])
  .then(first =&amp;gt; {
    alert(first.name);
  });
&lt;/pre&gt;

&lt;p&gt;Este pode n√£o parecer para alguns mas √© um exemplo bem pr√°tico do uso de servi√ßos.&lt;/p&gt;

&lt;p&gt;O servi√ßo de &lt;em&gt;Http&lt;/em&gt; tamb√©m √© usado pelo &lt;em&gt;servi√ßo de usu√°rios&lt;/em&gt;, por isso √© poss√≠vel definir o &lt;strong&gt;&lt;em&gt;token&lt;/em&gt;&lt;/strong&gt; de autentifica√ß√£o antes de efetivamente usar os servi√ßos, pois eles v√£o compartilhar o mesmo estado/servi√ßo.&lt;/p&gt;

&lt;p&gt;Outra caracter√≠stica interessante √© que esses servi√ßos n√£o est√£o ligados diretamente a nenhum contexto. Isso significa que n√£o importa que ambiente voc√™ esteja ou que &lt;em&gt;framework&lt;/em&gt; voc√™ esta usando, os servi√ßos s√£o agn√≥sticos. Eles podem ser usados no &lt;strong&gt;NodeJS, VueJS, ReactJS&lt;/strong&gt;, etc.&lt;/p&gt;

&lt;p&gt;Este √© um dos princ√≠pios do polimorfismos do JavaScript por√©m este √© outro assunto.&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;Se quiser saber mais sobre meu trabalho visite meu blog&lt;a href=&#34;https://medium.com/@luizvinicius73&#34;&gt;¬†https://medium.com/@luizvinicius73&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Este artigo foi originalmente postado no meu &lt;a href=&#34;https://medium.com/by-vinicius-reis/trabalhando-com-servicos-no-javascript-864310cf386c&#34;&gt;blog no medium&lt;/a&gt;¬†em 31 de Julho de 2016&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ECMAScript 6, uma breve introdu√ß√£o √† POO</title>
      <link>https://tableless.github.io/hugo-public/ecmascript-6-uma-breve-introducao-a-poo/</link>
      <pubDate>Mon, 15 Dec 2014 00:00:00 +0000</pubDate>
      
      <guid>https://tableless.github.io/hugo-public/ecmascript-6-uma-breve-introducao-a-poo/</guid>
      <description>

&lt;p&gt;Bom galera, j√° falei aqui no tableless, sobre o uso de classes na ECMAScript 6, por√©m, foram exemplos bem superficiais. Ent√£o decidi criar um exemplo mais pr√°tico de como utiliz√°-la. Voc√™ pode encontrar o artigo que estou falando &lt;a href=&#34;http://tableless.com.br/tableless-weekly-5/&#34; title=&#34;Tableless Weekly 5&#34;&gt;aqui&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;entendendo-o-projeto&#34;&gt;Entendendo o projeto&lt;/h2&gt;

&lt;p&gt;A ideia inicial foi criar uma mini (e p√µe mini nisso) loja virtual, utilizando dados em¬†JSON.&lt;/p&gt;

&lt;p&gt;O que teremos, nada mais √© que uma vari√°vel contendo dados em JSON e estes dados ser√£o transformados em objetos&amp;#8230; Advinha? Objetos de uma classe da ES6.&lt;/p&gt;

&lt;h3 id=&#34;t√°-mas-pra-qu√™&#34;&gt;T√°, mas pra qu√™?&lt;/h3&gt;

&lt;p&gt;Bem, hoje em dia temos muitas ferramentas no mercado que utilizam dados em JSON o tempo todo para o front-end. O AngularJS, o backbone.js, e v√°rios outros, s√£o frameworks que utilizam de dados JSON parar gerar views.&lt;/p&gt;

&lt;h2 id=&#34;estrutura-dos-arquivos&#34;&gt;¬†Estrutura dos arquivos&lt;/h2&gt;

&lt;p&gt;Os arquivos do projeto seguem a seguinte estrutura:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;/&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/css&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† bootstrap.min.css&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/img&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 01.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 02.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 03.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/js&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† script.js&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;index.html&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Como voc√™ j√° deve ter percebido, na pasta css temos o bootstrap, na pasta img, temos algumas imagens, temos tamb√©m o arquivo index.html na raiz do projeto, e por fim, na pasta js temos o arquivo script.js, que √© onde acontece a m√°gica.&lt;/p&gt;

&lt;p&gt;No final do artigo deixarei um link com o reposit√≥rio deste projeto no github.&lt;/p&gt;

&lt;h2 id=&#34;finalmente-m√£os-√†-obra&#34;&gt;Finalmente, m√£os √† obra üôÇ&lt;/h2&gt;

&lt;p&gt;Vamos come√ßar pelo arquivo index.html, que tem uma estrutura bem simples, veja:&lt;/p&gt;

&lt;pre&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&#34;utf-8&#34;&amp;gt;
&amp;lt;title&amp;gt;Teste com ECMAScript 6 classes&amp;lt;/title&amp;gt;
&amp;lt;link rel=&#34;stylesheet&#34; href=&#34;css/bootstrap.min.css&#34;&amp;gt;
&amp;lt;style type=&#34;text/css&#34;&amp;gt;
    .old-price{
        text-decoration: line-through;
    }
&amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&#34;container&#34;&amp;gt;
        &amp;lt;div class=&#34;row&#34; id=&#34;lista&#34;&amp;gt;
 
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;script type=&#34;text/javascript&#34; src=&#34;js/script.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;

&lt;p&gt;Bem simples n√£o?&lt;/p&gt;

&lt;p&gt;Vamos usar uma estrutura bem b√°sica, pois a nossa mini loja s√≥ vai mostrar alguns produtos e pronto. Como eu j√° disse, o objetivo √© usar a ES6.&lt;/p&gt;

&lt;p&gt;No final teremos o seguinte resultado:&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-46212&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2014/12/zoa.jpg&#34; alt=&#34;zoa&#34; width=&#34;1177&#34; height=&#34;576&#34; srcset=&#34;uploads/2014/12/zoa.jpg 1177w, uploads/2014/12/zoa-265x129.jpg 265w, uploads/2014/12/zoa-400x195.jpg 400w&#34; sizes=&#34;(max-width: 1177px) 100vw, 1177px&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Bem, vamos estudar um pouco o HTML acima.&lt;/p&gt;

&lt;p&gt;Nas linhas 6 a 10, apenas criamos um css para &amp;#8220;riscar&amp;#8221; o pre√ßo antigo no caso de promo√ß√£o usando a classe &lt;strong&gt;.old-price&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Na linha 13 criamos o container e na linha 14 uma div com o atributo id setado como &amp;#8220;lista&amp;#8221;, √© nesta div onde carregaremos os produtos.&lt;/p&gt;

&lt;h3 id=&#34;preparado-vamos-ao-javascript&#34;&gt;Preparado? Vamos ao JavaScript.&lt;/h3&gt;

&lt;p&gt;O JavaScript ser√° estudado mais a fundo, ent√£o n√£o vou simplesmente colar o c√≥digo e explicar as linhas como fiz com o HTML, vou fazer um passo √† passo e no final mostro o resultado do arquivo.&lt;/p&gt;

&lt;h4 id=&#34;qual-o-primeiro-passo&#34;&gt;Qual o primeiro passo?&lt;/h4&gt;

&lt;p&gt;Habilitar a ES6 no seu navegador, √© claro!&lt;/p&gt;

&lt;p&gt;Como a ES6 ainda n√£o est√° funcionando totalmente nos navegadores e ainda n√£o foi adotada como padr√£o, ela est√° por padr√£o desabilitada.&lt;/p&gt;

&lt;p&gt;Neste exemplo utilizei o Google Chrome Canary, indico que voc√™ o utilize tamb√©m, mas nada contra o firefox.&lt;/p&gt;

&lt;p&gt;Para habilitar a¬†ES6 no Chrome Canary, basta voc√™ abrir uma nova aba e acessar a url:¬†&lt;strong&gt;chrome://flags&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Ap√≥s acessar esta url, voc√™ vai procurar algo parecido com a imagem abaixo, basta apenas habilitar e pronto:&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-46218&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2014/12/zoa21.jpg&#34; alt=&#34;zoa2&#34; width=&#34;830&#34; height=&#34;316&#34; srcset=&#34;uploads/2014/12/zoa21.jpg 830w, uploads/2014/12/zoa21-265x100.jpg 265w, uploads/2014/12/zoa21-400x152.jpg 400w&#34; sizes=&#34;(max-width: 830px) 100vw, 830px&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Feito isso, podemos come√ßar :).&lt;/p&gt;

&lt;p&gt;O primeiro passo, √© habilitar o strict mode do JavaScript, pois objetos n√£o podem ser utilizados sem o modo strict. Voc√™ pode ver mais sobre o strict mode [Bom galera, j√° falei aqui no tableless, sobre o uso de classes na ECMAScript 6, por√©m, foram exemplos bem superficiais. Ent√£o decidi criar um exemplo mais pr√°tico de como utiliz√°-la. Voc√™ pode encontrar o artigo que estou falando &lt;a href=&#34;http://tableless.com.br/tableless-weekly-5/&#34; title=&#34;Tableless Weekly 5&#34;&gt;aqui&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;entendendo-o-projeto-1&#34;&gt;Entendendo o projeto&lt;/h2&gt;

&lt;p&gt;A ideia inicial foi criar uma mini (e p√µe mini nisso) loja virtual, utilizando dados em¬†JSON.&lt;/p&gt;

&lt;p&gt;O que teremos, nada mais √© que uma vari√°vel contendo dados em JSON e estes dados ser√£o transformados em objetos&amp;#8230; Advinha? Objetos de uma classe da ES6.&lt;/p&gt;

&lt;h3 id=&#34;t√°-mas-pra-qu√™-1&#34;&gt;T√°, mas pra qu√™?&lt;/h3&gt;

&lt;p&gt;Bem, hoje em dia temos muitas ferramentas no mercado que utilizam dados em JSON o tempo todo para o front-end. O AngularJS, o backbone.js, e v√°rios outros, s√£o frameworks que utilizam de dados JSON parar gerar views.&lt;/p&gt;

&lt;h2 id=&#34;estrutura-dos-arquivos-1&#34;&gt;¬†Estrutura dos arquivos&lt;/h2&gt;

&lt;p&gt;Os arquivos do projeto seguem a seguinte estrutura:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;/&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/css&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† bootstrap.min.css&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/img&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 01.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 02.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† 03.jpg&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† -/js&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¬† ¬† ¬† ¬† script.js&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;index.html&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Como voc√™ j√° deve ter percebido, na pasta css temos o bootstrap, na pasta img, temos algumas imagens, temos tamb√©m o arquivo index.html na raiz do projeto, e por fim, na pasta js temos o arquivo script.js, que √© onde acontece a m√°gica.&lt;/p&gt;

&lt;p&gt;No final do artigo deixarei um link com o reposit√≥rio deste projeto no github.&lt;/p&gt;

&lt;h2 id=&#34;finalmente-m√£os-√†-obra-1&#34;&gt;Finalmente, m√£os √† obra üôÇ&lt;/h2&gt;

&lt;p&gt;Vamos come√ßar pelo arquivo index.html, que tem uma estrutura bem simples, veja:&lt;/p&gt;

&lt;pre&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta charset=&#34;utf-8&#34;&amp;gt;
&amp;lt;title&amp;gt;Teste com ECMAScript 6 classes&amp;lt;/title&amp;gt;
&amp;lt;link rel=&#34;stylesheet&#34; href=&#34;css/bootstrap.min.css&#34;&amp;gt;
&amp;lt;style type=&#34;text/css&#34;&amp;gt;
    .old-price{
        text-decoration: line-through;
    }
&amp;lt;/style&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div class=&#34;container&#34;&amp;gt;
        &amp;lt;div class=&#34;row&#34; id=&#34;lista&#34;&amp;gt;
 
        &amp;lt;/div&amp;gt;
    &amp;lt;/div&amp;gt;
    &amp;lt;script type=&#34;text/javascript&#34; src=&#34;js/script.js&#34;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/pre&gt;

&lt;p&gt;Bem simples n√£o?&lt;/p&gt;

&lt;p&gt;Vamos usar uma estrutura bem b√°sica, pois a nossa mini loja s√≥ vai mostrar alguns produtos e pronto. Como eu j√° disse, o objetivo √© usar a ES6.&lt;/p&gt;

&lt;p&gt;No final teremos o seguinte resultado:&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-46212&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2014/12/zoa.jpg&#34; alt=&#34;zoa&#34; width=&#34;1177&#34; height=&#34;576&#34; srcset=&#34;uploads/2014/12/zoa.jpg 1177w, uploads/2014/12/zoa-265x129.jpg 265w, uploads/2014/12/zoa-400x195.jpg 400w&#34; sizes=&#34;(max-width: 1177px) 100vw, 1177px&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Bem, vamos estudar um pouco o HTML acima.&lt;/p&gt;

&lt;p&gt;Nas linhas 6 a 10, apenas criamos um css para &amp;#8220;riscar&amp;#8221; o pre√ßo antigo no caso de promo√ß√£o usando a classe &lt;strong&gt;.old-price&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Na linha 13 criamos o container e na linha 14 uma div com o atributo id setado como &amp;#8220;lista&amp;#8221;, √© nesta div onde carregaremos os produtos.&lt;/p&gt;

&lt;h3 id=&#34;preparado-vamos-ao-javascript-1&#34;&gt;Preparado? Vamos ao JavaScript.&lt;/h3&gt;

&lt;p&gt;O JavaScript ser√° estudado mais a fundo, ent√£o n√£o vou simplesmente colar o c√≥digo e explicar as linhas como fiz com o HTML, vou fazer um passo √† passo e no final mostro o resultado do arquivo.&lt;/p&gt;

&lt;h4 id=&#34;qual-o-primeiro-passo-1&#34;&gt;Qual o primeiro passo?&lt;/h4&gt;

&lt;p&gt;Habilitar a ES6 no seu navegador, √© claro!&lt;/p&gt;

&lt;p&gt;Como a ES6 ainda n√£o est√° funcionando totalmente nos navegadores e ainda n√£o foi adotada como padr√£o, ela est√° por padr√£o desabilitada.&lt;/p&gt;

&lt;p&gt;Neste exemplo utilizei o Google Chrome Canary, indico que voc√™ o utilize tamb√©m, mas nada contra o firefox.&lt;/p&gt;

&lt;p&gt;Para habilitar a¬†ES6 no Chrome Canary, basta voc√™ abrir uma nova aba e acessar a url:¬†&lt;strong&gt;chrome://flags&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Ap√≥s acessar esta url, voc√™ vai procurar algo parecido com a imagem abaixo, basta apenas habilitar e pronto:&lt;/p&gt;

&lt;p&gt;&lt;img class=&#34;alignnone size-full wp-image-46218&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2014/12/zoa21.jpg&#34; alt=&#34;zoa2&#34; width=&#34;830&#34; height=&#34;316&#34; srcset=&#34;uploads/2014/12/zoa21.jpg 830w, uploads/2014/12/zoa21-265x100.jpg 265w, uploads/2014/12/zoa21-400x152.jpg 400w&#34; sizes=&#34;(max-width: 830px) 100vw, 830px&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Feito isso, podemos come√ßar :).&lt;/p&gt;

&lt;p&gt;O primeiro passo, √© habilitar o strict mode do JavaScript, pois objetos n√£o podem ser utilizados sem o modo strict. Voc√™ pode ver mais sobre o strict mode]&lt;a href=&#34;http://tableless.com.br/javascript-strict-mode/&#34; title=&#34;JavaScript Strict Mode&#34;&gt;2&lt;/a&gt; do Fabiano de Lima Abreu.&lt;/p&gt;

&lt;p&gt;Para fazer isto √© simples, vamos inserir na primeira linha do arquivo o seguinte:&lt;/p&gt;

&lt;pre&gt;&#34;use strict&#34;;&lt;/pre&gt;

&lt;p&gt;Simples, n√£o?&lt;/p&gt;

&lt;p&gt;Agora vamos criar a nossa classe Produto e seu m√©todo construtor, veja abaixo:&lt;/p&gt;

&lt;pre&gt;class Produto{
    constructor(codigo,nome,imagem,promocao,preco,desconto){
        this.codigo = codigo;
        this.nome = nome;
        this.imagem = imagem;
        this.promocao = promocao;
        this.preco = preco;
        this.desconto = desconto;
    }
}&lt;/pre&gt;

&lt;p&gt;N√£o precisa ser um g√™nio para entender esta parte, e se voc√™ chegou a ler o artigo que deixei no in√≠cio deste, j√° estar√° familiarizado com o assunto.&lt;/p&gt;

&lt;p&gt;Criamos uma classe com seu m√©todo construtor, que possui os atributos, c√≥digo, nome, imagem, promocao, preco e desconto.&lt;/p&gt;

&lt;p&gt;Bacana, e agora?&lt;/p&gt;

&lt;p&gt;Vamos criar um m√©todo para listagem de produtos, que receber√° uma vari√°vel em JSON e organizar√° os produto¬†no HTML.&lt;/p&gt;

&lt;p&gt;Criaremos o m√©todo lista, que receber√° como par√¢metro uma vari√°vel contendo o JSON:&lt;/p&gt;

&lt;pre&gt;lista(products){
}
&lt;/pre&gt;

&lt;p&gt;Em seguida criaremos uma vari√°vel lista pegando a div onde a lista ser√° inserida pelo id:&lt;/p&gt;

&lt;pre&gt;lista(products){
    var lista = document.getElementById(&#34;lista&#34;);
}&lt;/pre&gt;

&lt;p&gt;Agora, vamos criar um la√ßo de repeti√ß√£o que percorrer√° nossa lista em JSON e criar√° seus elementos:&lt;/p&gt;

&lt;pre&gt;lista(products){
    var lista = document.getElementById(&#34;lista&#34;);
    for(var i=0; i &amp;lt; products.length; i++){
        //conte√∫do do loop
    }
}&lt;/pre&gt;

&lt;p&gt;Dentro deste la√ßo, criaremos e preencheremos os elementos HTML de cada produto, utilizaremos os thumbnails do bootstrap, como voc√™ p√¥de ver na foto com o resultado final.&lt;/p&gt;

&lt;p&gt;A estrutura b√°sica ser√° a seguinte:&lt;/p&gt;

&lt;pre&gt;&amp;lt;div class=&#34;col-xs-12 col-sm-6 col-md-4 col-lg-4&#34;&amp;gt;
    &amp;lt;div class=&#34;thumbnail&#34;&amp;gt;
        &amp;lt;h1 class=&#34;text-center&#34;&amp;gt;Sapat√™nis Puma Preto&amp;lt;/h1&amp;gt;
        &amp;lt;img src=&#34;img/01.jpg&#34;&amp;gt;
        &amp;lt;small class=&#34;old-price&#34;&amp;gt;R$ 250&amp;lt;/small&amp;gt;
        &amp;lt;p class=&#34;price&#34;&amp;gt;R$ 200&amp;lt;/p&amp;gt;
        &amp;lt;a class=&#34;btn btn-primary&#34;&amp;gt;Comprar&amp;lt;/a&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;&lt;/pre&gt;

&lt;p&gt;Para cada produto lido atrav√©s do JSON, teremos esta estrutura para exibi-lo.&lt;/p&gt;

&lt;p&gt;Primeiramente vamos instanciar a classe produto a cada repeti√ß√£o deste la√ßo, utilizando o m√©todo construtor para atribuir √†s suas propriedades:&lt;/p&gt;

&lt;pre&gt;let produto = new Produto(products[i].codigo,products[i].nome,products[i].imagem,products[i].promocao,products[i].preco,products[i].desconto);&lt;/pre&gt;

&lt;p&gt;Quando criamos um objeto √† partir de uma classe, √© necess√°rio a utiliza√ß√£o da palavra reservada &lt;strong&gt;let&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Em seguida, vamos criar os elementos HTML dos produtos, come√ßando pelas vari√°veis:&lt;/p&gt;

&lt;pre&gt;var column, thumbnail, title, image, old_price, price, btn;&lt;/pre&gt;

&lt;p&gt;Em seguida, atribu√≠mos o HTML nessas vari√°veis:&lt;/p&gt;

&lt;pre&gt;column = document.createElement(&#34;div&#34;);
thumbnail = document.createElement(&#34;div&#34;);
title = document.createElement(&#34;h1&#34;);
image = document.createElement(&#34;img&#34;);
old_price = document.createElement(&#34;small&#34;);
price = document.createElement(&#34;p&#34;);
btn = document.createElement(&#34;a&#34;);&lt;/pre&gt;

&lt;p&gt;Em seguida, vamos adicionar as classes aos elementos para receberem a formata√ß√£o do bootstrap:&lt;/p&gt;

&lt;pre&gt;column.classList.add(&#34;col-xs-12&#34;);
column.classList.add(&#34;col-sm-6&#34;);
column.classList.add(&#34;col-md-4&#34;);
column.classList.add(&#34;col-lg-4&#34;);

thumbnail.classList.add(&#34;thumbnail&#34;);

title.classList.add(&#34;text-center&#34;);

old_price.classList.add(&#34;old-price&#34;);

price.classList.add(&#34;price&#34;);

btn.classList.add(&#34;btn&#34;);
btn.classList.add(&#34;btn-primary&#34;);
btn.innerHTML = &#34;Comprar&#34;;&lt;/pre&gt;

&lt;p&gt;Para adiantar, j√° colocamos o innerHTML do bot√£o com o texto &amp;#8220;Comprar&amp;#8221;.&lt;/p&gt;

&lt;p&gt;Agora o que temos que fazer √© inserir nos elementos os seus valores:&lt;/p&gt;

&lt;pre&gt;title.innerHTML = produto.nome;

image.setAttribute(&#34;src&#34;,produto.imagem);&lt;/pre&gt;

&lt;p&gt;Eu coloquei por enquanto, apenas o nome do produto, e sua imagem. Pois precisamos pensar na promo√ß√£o.&lt;/p&gt;

&lt;p&gt;O atributo promocao, √© um valor booleano, que nos mostrar√° se o produto vai ou n√£o ter desconto.&lt;/p&gt;

&lt;p&gt;Caso promocao seja verdadeiro, colocaremos o pre√ßo normal do produto com a classe &lt;strong&gt;.old-price&lt;/strong&gt; que criamos l√° em cima para que ele fique &amp;#8220;riscado&amp;#8221;, e o pre√ßo real ser√° um c√°lculo do valor do produto subtra√≠do do desconto. Caso ocorra o contr√°rio, o elemento &lt;strong&gt;old_price&lt;/strong&gt; receber√° um &lt;strong&gt;display:none&lt;/strong&gt; e o pre√ßo n√£o sofrer√° altera√ß√£o:&lt;/p&gt;

&lt;pre&gt;if(produto.promocao == true){
    old_price.innerHTML = &#34;R$ &#34;+ produto.preco;
    price.innerHTML = &#34;R$ &#34;+ (produto.preco - produto.desconto);
}else{
    old_price.setAttribute(&#34;display&#34;,&#34;none&#34;);
    price.innerHTML = &#34;R$ &#34;+ produto.preco;
 }&lt;/pre&gt;

&lt;p&gt;E por fim, para finalizarmos o nosso la√ßo de repeti√ß√£o, iremos dar um &lt;strong&gt;appendChild()&lt;/strong&gt; onde for necess√°rio, criando a hierarquia do HTML:&lt;/p&gt;

&lt;pre&gt;thumbnail.appendChild(title);
thumbnail.appendChild(image);
thumbnail.appendChild(old_price);
thumbnail.appendChild(price);
thumbnail.appendChild(btn);

column.appendChild(thumbnail);

lista.appendChild(column);&lt;/pre&gt;

&lt;p&gt;N√£o vou postar o c√≥digo final do nosso m√©todo, pois o artigo j√° est√° bem grande. Basta dar uma olhadinha no reposit√≥rio no final do artigo e voc√™ ver√° a estrutura completa.&lt;/p&gt;

&lt;h3 id=&#34;beleza-mas-e-agora&#34;&gt;Beleza, mas e agora?&lt;/h3&gt;

&lt;p&gt;Bom, criei uma vari√°vel ap√≥s o final de nossa classe Produto, com os dados em formato JSON para testarmos os produtos. Em um sistema real, estes dados viriam de fontes externas.&lt;/p&gt;

&lt;p&gt;Abaixo o c√≥digo:&lt;/p&gt;

&lt;pre&gt;var products = [
 {
 codigo: 1,
 nome: &#34;Sapat√™nis Puma Preto&#34;,
 imagem: &#34;img/01.jpg&#34;,
 promocao: true,
 preco: 250.00,
 desconto: 50.00
 },
 {
 codigo: 2,
 nome: &#34;Sapat√™nis Preto Linha Vermelha&#34;,
 imagem: &#34;img/02.jpg&#34;,
 promocao: false,
 preco: 250.00,
 desconto: null
 },
 {
 codigo: 3,
 nome: &#34;Sapat√™nis Bege c/ Branco&#34;,
 imagem: &#34;img/03.jpg&#34;,
 promocao: false,
 preco: 250.00,
 desconto: null
 },
]&lt;/pre&gt;

&lt;p&gt;Por fim, basta apenas instanciar a classe Produto e chamarmos o m√©todo lista, passando como par√¢metro nossa vari√°vel contendo os dados em JSON:&lt;/p&gt;

&lt;pre&gt;let produto = new Produto();
produto.lista(products);&lt;/pre&gt;

&lt;h2 id=&#34;conclus√£o&#34;&gt;Conclus√£o&lt;/h2&gt;

&lt;p&gt;Bom galera, o artigo ficou um pouco longo, pois tentei ser o mais espec√≠fico poss√≠vel.&lt;/p&gt;

&lt;p&gt;Este foi s√≥ um exemplo do que podemos fazer com as novas features da ECMAScript 6 e as mudan√ßas (pra melhor) que ela nos proporciona.&lt;/p&gt;

&lt;p&gt;Aguardamos ansiosamente que ela comece √† ser suportada pelos browsers por completo, pois al√©m de tanta coisa que se pode fazer com ela, o Angular 2.0 est√° sendo escrito nela tamb√©m.&lt;/p&gt;

&lt;p&gt;Pra quem quiser dar um olhada no reposit√≥rio com o c√≥digo deste artigo basta seguir este &lt;a href=&#34;https://github.com/lnlwd/ECMAScript6-loja&#34; title=&#34;Reposit√≥rio&#34;&gt;link&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Por hoje √© s√≥ üôÇ at√© mais galera!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JavaScript: entendendo o this</title>
      <link>https://tableless.github.io/hugo-public/javascript-entendendo-o-this/</link>
      <pubDate>Thu, 25 Jul 2013 00:00:00 +0000</pubDate>
      
      <guid>https://tableless.github.io/hugo-public/javascript-entendendo-o-this/</guid>
      <description>

&lt;p&gt;O operador &lt;strong&gt;this&lt;/strong&gt; √© um dos maiores respons√°veis por erros e pegadinhas em um c√≥digo JavaScript. Entender o seu mecanismo de funcionamento e cria√ß√£o √© um grande passo para tirar maior proveito da linguagem.&lt;/p&gt;

&lt;h2 id=&#34;contexto-de-execu√ß√£o&#34;&gt;Contexto de execu√ß√£o&lt;/h2&gt;

&lt;p&gt;Toda fun√ß√£o JavaScript, ao ser executada, gera uma associa√ß√£o do objeto criado pelo interpretador atrav√©s da palavra reservada &lt;strong&gt;this&lt;/strong&gt;. A especifica√ß√£o da ECMAScript chama isso de &lt;strong&gt;ThisBinding&lt;/strong&gt;, um evento que acontece toda vez que um c√≥digo JavaScript √© executado e um novo contexto de execu√ß√£o √© estabelecido. O valor do &lt;strong&gt;this&lt;/strong&gt; √© constante e ele existe enquanto este contexto de execu√ß√£o existir.&lt;/p&gt;

&lt;p&gt;No browser, o &lt;strong&gt;this&lt;/strong&gt; &amp;#8220;padr√£o&amp;#8221; referencia o objeto global &lt;strong&gt;window&lt;/strong&gt;. Toda fun√ß√£o declarada no escopo global tamb√©m vai possuir o objeto &lt;strong&gt;window&lt;/strong&gt; como valor do &lt;strong&gt;this&lt;/strong&gt; (no &lt;a href=&#34;http://loopinfinito.com.br/2013/07/16/javascript-strict-mode/&#34; title=&#34;http://loopinfinito.com.br/2013/07/16/javascript-strict-mode/&#34; target=&#34;_blank&#34;&gt;strict mode&lt;/a&gt; vai ser &lt;strong&gt;undefined&lt;/strong&gt;).&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;function myFunc () {
     console.log(this);   
}

var myFunc2 = function () {
     console.log(this);   
}

myFunc(); // Window (...)
myFunc2();  // Window (...)&lt;/pre&gt;

&lt;h2 id=&#34;objetos&#34;&gt;Objetos&lt;/h2&gt;

&lt;p&gt;Quando uma fun√ß√£o representa um m√©todo de um objeto, o valor do &lt;strong&gt;this&lt;/strong&gt; passa a ser o objeto referenciado. Por exemplo:&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;var myObj = {
    init: function () {
        console.log(this);   
    }
};

myObj.init(); // Object {init: function}&lt;/pre&gt;

&lt;p&gt;O mesmo acontece quando um objeto √© criado utilizando uma &lt;a href=&#34;http://tableless.com.br/javascript-objetos-literais-vs-funcoes-construtoras/&#34; title=&#34;http://tableless.com.br/javascript-objetos-literais-vs-funcoes-construtoras/&#34; target=&#34;_blank&#34;&gt;fun√ß√£o construtora&lt;/a&gt;, s√≥ que nesse caso o &lt;strong&gt;this&lt;/strong&gt; representa o objeto instanciado.&lt;/p&gt;

&lt;pre&gt;function MyObj () {
    console.log(this);   
}

var obj = new MyObj(); // MyObj {}&lt;/pre&gt;

&lt;h2 id=&#34;callbacks-eventos&#34;&gt;Callbacks &amp;amp; Eventos&lt;/h2&gt;

&lt;p&gt;Um dos erros mais comuns acontece quando utilizamos a palavra reservada &lt;strong&gt;this&lt;/strong&gt; dentro de um &lt;em&gt;callback&lt;/em&gt; e confundimos seu valor. O &lt;strong&gt;this&lt;/strong&gt; dentro do &lt;em&gt;callback&lt;/em&gt; vai guardar o valor do objeto pai da fun√ß√£o &lt;em&gt;callback&lt;/em&gt; e n√£o da fun√ß√£o que recebe o &lt;em&gt;callback&lt;/em&gt;.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;var myObj = {
    init: function (callback) {
        callback(); 
    }
};

myObj.init(function () {
    console.log(this); // Window (...)  
});&lt;/pre&gt;

&lt;p&gt;Para esses casos especiais, podemos definir o valor do &lt;strong&gt;this&lt;/strong&gt; utilizando os m√©todos &lt;strong&gt;call&lt;/strong&gt; e &lt;strong&gt;apply&lt;/strong&gt; (falo mais sobre eles logo, logo).&lt;/p&gt;

&lt;p&gt;Outro ponto que merece aten√ß√£o √© o uso do &lt;strong&gt;this&lt;/strong&gt; na hora de anexar eventos a um elemento. Nesse caso, o valor da palavra reservada representa o elemento e n√£o a fun√ß√£o.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;var myObj = {
    init: function () {
        this.link = document.querySelector(&#39;a&#39;);
        this.link.onclick = function (e) {
            console.log(this);   
        };
    }
};

myObj.init();
// clique no link: &amp;lt;a href=&#34;#&#34;&amp;gt;link&amp;lt;/a&amp;gt;&lt;/pre&gt;

&lt;p&gt;Aqui a solu√ß√£o √© armazenar o estado do objeto em uma vari√°vel, normalmente chamada de &lt;strong&gt;that&lt;/strong&gt; ou &lt;strong&gt;self&lt;/strong&gt; e utiliz√°-la na fun√ß√£o do evento.&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;var myObj = {
    init: function () {
        var that = this;
        this.link = document.querySelector(&#39;a&#39;);
        this.link.onclick = function (e) {
            console.log(that);   
        };
    }
};

myObj.init();
// clique no link: Object {init: function, link: a}&lt;/pre&gt;

&lt;h2 id=&#34;call-apply&#34;&gt;call &amp;amp; apply&lt;/h2&gt;

&lt;p&gt;Os m√©todos &lt;strong&gt;call&lt;/strong&gt; e &lt;strong&gt;apply&lt;/strong&gt; permitem que seja definido um valor para o &lt;strong&gt;this&lt;/strong&gt; de uma fun√ß√£o. Vejamos o nosso exemplo de &lt;em&gt;callback&lt;/em&gt;, agora utilizando uma chamada com o m√©todo &lt;strong&gt;call&lt;/strong&gt;:&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;var myObj = {
    init: function (callback) {
        callback.call(this); 
    }
};

myObj.init(function () {
    console.log(this); // Object {init: function}
});&lt;/pre&gt;

&lt;p&gt;Notem que o valor retornado pelo log do console agora foi o pr√≥prio objeto ao inv√©s do objeto global &lt;strong&gt;window&lt;/strong&gt;. Isto porque executamos o &lt;em&gt;callback&lt;/em&gt; atrav√©s do m√©todo &lt;strong&gt;call&lt;/strong&gt;, definindo o valor do &lt;strong&gt;this&lt;/strong&gt; no contexto de execu√ß√£o como sendo o &lt;strong&gt;this&lt;/strong&gt; do objeto.&lt;/p&gt;

&lt;p&gt;Sobre os m√©todos &lt;strong&gt;call&lt;/strong&gt; e &lt;strong&gt;apply&lt;/strong&gt;, a principal diferen√ßa entre eles √© que um permite a passagem de argumentos utilizando um &lt;em&gt;array&lt;/em&gt; enquanto o outro aceita os argumentos como &lt;em&gt;strings&lt;/em&gt;:&lt;/p&gt;

&lt;pre class=&#34;lang-javascript&#34;&gt;fun.apply(thisArg[, argsArray])

fun.call(thisArg[, arg1[, arg2[, ...]]])&lt;/pre&gt;

&lt;h2 id=&#34;refer√™ncias&#34;&gt;Refer√™ncias&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this&#34; target=&#34;_blank&#34;&gt;MDN &amp;#8211; this&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply&#34; target=&#34;_blank&#34;&gt;MDN &amp;#8211; apply&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call&#34; target=&#34;_blank&#34;&gt;MDN &amp;#8211; call&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.digital-web.com/articles/scope_in_javascript/&#34; target=&#34;_blank&#34;&gt;Scope in JavaScript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>