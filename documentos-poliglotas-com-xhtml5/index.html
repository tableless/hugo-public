
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/documentos-poliglotas-com-xhtml5/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na prática
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/documentos-poliglotas-com-xhtml5/">Documentos poliglotas com XHTML5</a></h1>
  <p class="tb-hero-p">
    
    O XHTML5 permite utilizar a sintaxe do XML/XHTML em documentos HTML5
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/talita-pagani">Talita Pagani</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Quando se começou a falar massivamente a respeito do HTML5, em 2009, muitos desenvolvedores (inclusive eu) torceram o nariz para o fato de poder voltar a utilizar a sintaxe tolerante do HTML, ou seja, tags em uppercase ou sem fechamento, valores de atributos sem aspas, fechar tags em ordem incorreta, entre outros. Inclusive, <a href="http://tableless.com.br/o-dilema-da-sintaxe-no-html5/">comentei especificamente sobre isso em um outro artigo</a>.</p>

<p>Grande parte dos desenvolvedores aprenderam  e se habituaram a utilizar a sintaxe do XHTML, que segue as diretrizes do XML para documentos bem formados e que apresentariam erros de renderização caso essas diretrizes são fossem seguidas. Isto nos permitia códigos mais limpos e bem estruturados. Porém, no HTML5, a escolha é sua e você não será punido por não fechar tags.</p>

<p>Com toda essa preocupação, no mesmo ano começou a ideia do XHTML5, uma tentativa de contornar o problema, adicionando as restrições de marcação do XML a documentos escritos em HTML5. Podemos dizer que seria uma tentativa de unir o melhor de cada especificação. O <a href="http://html5doctor.com/html-5-xml-xhtml-5/">artigo escrito por Bruce Lawson para o HTML5 Doctor</a> (com <a href="http://www.pinceladasdaweb.com.br/blog/2009/12/10/html-5-xml-xhtml-5/">versão traduzida no Pinceladas da Web</a>) foi um dos primeiros a comentar sobre o tema.</p>

<p>Durante cerca de 1 ano isto era uma forma, digamos, marginalizada de tratar essa questão, por não ser algo reconhecido pelo  <a title="Web Hypertext Application Technology Working Group" href="http://www.whatwg.org/" target="_blank">WHATWG</a> / <a title="W3C HTML Working Group" href="http://www.w3.org/html/wg/" target="_blank">HTML WG</a>. Mas em 2010 surgiu o primeiro draft com a proposta de nortear o uso do HTML5 com a sintaxe do XML/XHTML. O W3C denominou essa metodologia de <a href="http://dev.w3.org/html5/html-xhtml-author-guide/">marcação poliglota</a>.</p>

<h3 id="o-que-é-um-documento-com-marcação-poliglota">O que é um documento com marcação poliglota?</h3>

<p>Um documento com marcação poliglota é um documento escrito em HTML5 que pode ser processado tanto como HTML quanto como XML dentro de um conjunto de restrições definidas, porém, ainda seguindo a especificação do HTML5. Eles são compatíveis com o HTML e XHTML.</p>

<p>Significa que você pode utilizar todo o poder do HTML5 dentro do padrão de marcação bem formada do XML. É importante ressaltar que isto não afeta as tags que você pode utilizar. Por exemplo, elementos que são considerados <em>deprecated</em> em XHTML mas válidos no HTML5 continuam a ser válidos. Uma exceção é com relação a algumas tags que são excluídas de documentos poliglotas por não serem possível de serem replicadas em um <em>parser</em> XML (como é o caso da tag <em><noscript></em>).</p>

<p>Mas em linhas gerais, esta “fusão” não altera a especificação, mas sim as regras de sintaxe para processamento e há influência no DOM também (ex.: <em>document.write</em> não é permitido, mas sim <em>innerHTML</em>).</p>

<p>Segundo o W3C, um documento poliglota resulta em:</p>

<ul>
<li>Um documento HTML5 válido;</li>
<li>Um documento XML bem formado (mas não significa um documento XML válido);</li>
<li>DOM idêntico quando processado tanto como HTML quanto como XML, isto porque os parsers geram diferentes DOMs para determinados atributos relativos ao XML.</li>
</ul>

<h3 id="como-escrever-um-documento-poliglota">Como escrever um documento poliglota</h3>

<p>Um dos principais requisitos para escrever um documento em XHTML5 é o MIME-type utilizado. Isto vai definir se o navegador irá interpretar o documento como HTML ou XHTML. Segundo o WHATWG, um documento HTML5 se torna um documento poliglota se for provido o MIME-type application/xhtml+xml.</p>

<p>[cc lang=&#8221;html&#8221;]</p>

<p><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
[/cc]</p>

<p>Até algum tempo atrás, o IE não suportava este MIME-type. Para isso, você pode indicar que o MIME-type é o usual <em>text/html</em>. Ele pode ser utilizado junto com o primeiro (separando por vírgula), ou pode ser feita uma validação do navegador para decidir qual o MIME-type a ser utilizado.</p>

<p>O doctype passa a ser opcional, mas ainda é recomendável utilizar para prevenir o <a href="http://en.wikipedia.org/wiki/Quirks_mode">quirks mode</a> dos navegadores. Se utilizado, a palavra doctype deve ser escrito adequadamente em uppercase, ex.: <em>&lt;!DOCTYPE html&gt;</em>. A meta-tag que especifica o charset e a declaração <em>&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;</em> (herdada do XHTML 1.1) também passam a ser opcionais se o charset desejado para o documento é UTF-8 (padrão do XML).</p>

<p>Além disso é preciso definir também o namespace do XHTML na tag <em><html></em>:</p>

<p>[cc lang=&#8221;html&#8221;][/cc]</p></p>

<p>Ao utilizar recursos como SVG e MathML, é preciso especificar também o atributo xml para a tag raiz correspondente de cada um.</p>

<p>Outras recomendações são:</p>

<ul>
<li>Usar tanto o atributo lang quanto xml:lang na tag <em><html></em>;</li>
<li>Usar <em>tbody</em> / <em>thead</em> / <em>tfoot</em> em _<table>_s;</li>
<li>Quando o elemento <em><col></em> é utilizado em tabelas, utilizar também o elemento <em><colgroup></em>;</li>
<li>Não utilizar o elemento <em><noscript></em>;</li>
<li>Não iniciar as tags <em><pre></em> e <em><textarea></em> com linha em branco;</li>
<li>Utilizar <em>innerHTML</em> ao invés de <em>documento.write</em>;</li>
<li>Para scripts embutidos na página, escreva o código entre uma seção CDATA com os delimitadores comentados. É uma forma de fazer com que o parser do XML (que analisa apenas a marcação) não acuse erros ao utilizar &lt; ou &amp; no script;</li>
<li>Os atributos <em>xml:space</em> e <em>xml:base</em> são permitidos apenas nos elementos relativos a SVG e MathML;</li>
<li>Elementos que podem ter conteúdo mas estão vazios não devem ser minimizados para o formato de tag órfã. Ex.: <em><p /></em> não deve ser utilizado, mas sim <em><p></p></em>.</li>
</ul>

<p>Ao escrever documentos poliglotas, é possível utilizar todas as funcionalidades do HTML5 com uma garantia de código bem formado de acordo com as restrições do XHTML. Com isso, é possível ter um código mais organizado e consistente que seja mais fácil de produzir, manter e reutilizar a longo prazo, principalmente quando este trabalho é realizado em equipe.</p>

<h3 id="referências">Referências</h3>

<p><a href="http://dev.w3.org/html5/html-xhtml-author-guide/">Polyglot Markup: HTML-Compatible XHTML Documents</a></p>

<p><a href="http://blog.whatwg.org/xhtml5-in-a-nutshell">XHTML5 in a nutshell</a></p>

<p><a href="http://www.xmlplease.com/xhtml/xhtml5polyglot/">Benefits of polyglot XHTML5</a></p>

<p><a href="http://html5doctor.com/html-5-xml-xhtml-5/">HTML 5 + XML = XHTML 5</a></p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos código front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

