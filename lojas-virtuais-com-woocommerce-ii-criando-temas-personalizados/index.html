
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="http://tableless.com.br/">
  <title>Tableless</title>
  <link rel="canonical" href="http://tableless.com.br/lojas-virtuais-com-woocommerce-ii-criando-temas-personalizados/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">
  
</head>
<body>


  <header id="tb-header">
    <a href="http://tableless.com.br/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/lojas-virtuais-com-woocommerce-ii-criando-temas-personalizados/">Lojas virtuais com WooCommerce II ‚Äì Criando temas personalizados</a></h1>
  <p class="tb-hero-p">
    
    Conhe√ßa o front-end do WooCommerce, aprenda a utilizar ganchos de a√ß√£o e filtros, organize seu CSS e crie seu pr√≥prio layout de loja virtual.
    
  </p>
      <span class="tb-author">por <a href="/author/dani-guerrato">Dani Guerrato</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>O <a href="http://www.woothemes.com/woocommerce/" title="WooCommerce">WooCommerce</a> √© um plugin capaz de transformar qualquer site desenvolvido em WordPress em uma loja virtual super potente. Mas para adaptar o seu tema para o sistema e garantir que o seu layout seja visualizado corretamente existem alguns truques, fun√ß√µes e a√ß√µes fundamentais para que tudo funcione direitinho. A documenta√ß√£o oficial, embora bem completa, pode ser um pouco confusa pois n√£o est√° organizada em uma ordem cronol√≥gica. ¬†Pensando nisto preparei este artigo recheado de dicas √∫teis para que voc√™ possa criar temas em WooCommerce facilmente. Vamos a ele!</p>

<h4 id="aviso-aos-navegantes">Aviso aos navegantes!</h4>

<p>Para compreender este artigo voc√™ precisar√° de dois requisitos b√°sicos:</p>

<ol>
<li><p>Saber <a href="http://codex.wordpress.org/Theme_Development" title="Wordpress Codex - Theme Development">criar temas para WordPress</a>.</p></li>

<li><p>Conhecer as <a href="http://tableless.com.br/lojas-virtuais-com-woocommerce/#.UnLaEJTXQv4" title="Lojas virtuais com WooCommerce">fun√ß√µes b√°sicas do WooCommerce</a>.</p></li>
</ol>

<h3 id="utilizando-seu-pr√≥prio-tema">Utilizando seu pr√≥prio tema</h3>

<p>Existem duas op√ß√µes b√°sicas para ter um tema personalizado: baixar um tema padr√£o do WooCommerce e realizar modifica√ß√µes na estrutura ou instalar o plugin em um tema comum de WordPress. Vamos trabalhar com a segunda op√ß√£o por fins did√°ticos. Mas eu recomendo experimentar as duas possibilidades para que voc√™ possa escolher a sua favorita.</p>

<p>O WooCommerce teoricamente √© desenvolvido para funcionar corretamente com qualquer tema de WordPress. Tudo que voc√™ precisa fazer, teoricamente, √© instalar o plugin e copiar os arquivos da pasta <strong>wp-content/plugins/woocommerce/templates/¬†</strong>para <strong>/wp-content/themes/nomedoseutema</strong>.</p>

<p>Mas √© claro. Se fosse simples assim n√£o ir√≠amos precisar deste artigo, certo? ¬†√â bem prov√°vel que o seu tema fique um Frankenstein desconfigurado, o layout quebre ou at√© mesmo simplesmente n√£o funcione. Mas, para tudo tem uma solu√ß√£o! Hoje vamos aprender como modificar a estrutura do WooCommerce para que voc√™ possa ter uma loja virtual customizada para chamar de sua.</p>

<h2 id="o-meu-tema-n√£o-oferece-suporte-ao-woocommerce-e-agora">O meu tema n√£o oferece suporte ao WooCommerce. E agora?</h2>

<p>Se voc√™ acabou de instalar o WooCommerce em um tema n√£o-padr√£o √© prov√°vel que aparece uma a mensagem em roxo como &#8220;<em>Seu tema n√£o oferece suporte ao WooCommerce ‚Äì Se voc√™ encontrar problemas de design, por favor, leia o guia de integra√ß√£o ou escolha um tema do WooCommerce üôÇ</em>&#8220;.¬†Isto acontece pois seu tema pode estar utilizando uma estrutura muito diferente e o plugin n√£o tem como adivinhar que p√°gina √© o que&#8230; N√£o entre em p√¢nico. Existem duas maneiras para solucionar este problema: substituir a estrutura do seu tema e/ou utilizar hooks.</p>

<h3 id="substituindo-o-loop">Substituindo o loop</h3>

<ol>
<li><p>Duplique o arquivo <strong>page.php</strong> do tema (ou o tipo de p√°gina personalizada que voc√™ deseja utilizar) e renomeio o arquivo para <strong>woocommerce.php</strong>. A localiza√ß√£o dele deve ser a seguinte <strong>wp-content/themes/nomedoseutema/woocommerce.php</strong>.</p></li>

<li><p>Procure pelo loop do seu post. Normalmente √© algo parecido com:</p></li>
</ol>

<pre>&lt;?php if ( have_posts() ) :
...
&lt;?php endif; ?&gt;</pre>

<p>&nbsp;</p>

<ol>
<li>Substitua este c√≥digo por:</li>
</ol>

<pre>&lt;?php woocommerce_content(); ?&gt;</pre>

<p>&nbsp;</p>

<ol>
<li>Pronto! Sua loja j√° deve estar funcionando. Por padr√£o, utilizando o WooCommerce em portugu√™s, a url ficar√° em www.seudominio.com.br/loja.</li>
</ol>

<p>Substituir o loop √© r√°pido e f√°cil. O ponto contra desta sa√≠da √© que todos os tipos de post e taxonomias do WooCommerce ficar√£o com o mesmo layout&#8230; Se voc√™ quiser criar templates diferentes para cada se√ß√£o ser√° necess√°rio partir para a pr√≥xima etapa.</p>

<h2 id="utilizando-hooks">Utilizando Hooks</h2>

<p>O WooCommerce (assim como o pr√≥prio WordPress) trabalha utilizando uma estrutura de hooks ou, em portugu√™s, ganchos. A id√©ia aqui √© chamar um determinado elemento de forma r√°pida atrav√©s de uma fun√ß√£o. Desta maneira voc√™ pode manipular o c√≥digo (e criar suas pr√≥prias p√°ginas), sem necessariamente modificar os arquivos do core. Esta solu√ß√£o √© mais complexa e flex√≠vel do que simplesmente substituir o loop, mas tamb√©m pode ser um pouco mais complicada se voc√™ for um iniciante.</p>

<p>Primeiro √© necess√°rio desconectar os ganchos padr√µes do WooCommerce. Para isto basta acrescentar estas linhas no arquivo <strong>functions.php</strong></p>

<pre>remove_action( 'woocommerce_before_main_content', 'woocommerce_output_content_wrapper', 10);
remove_action( 'woocommerce_after_main_content', 'woocommerce_output_content_wrapper_end', 10);</pre>

<p>&nbsp;</p>

<p>Depois conecte suas pr√≥prias fun√ß√µes para mostrar o conte√∫do do seu tema. Por exemplo:</p>

<p>&nbsp;</p>

<pre>add_action('woocommerce_before_main_content', 'my_theme_wrapper_start', 10);
add_action('woocommerce_after_main_content', 'my_theme_wrapper_end', 10);

function my_theme_wrapper_start() {
  echo '&lt;section id="main"&gt;';
}

function my_theme_wrapper_end() {
  echo '&lt;/section&gt;';
}</pre>

<p>&nbsp;</p>

<p>N√£o esque√ßa de substituir as classes e IDs pelas se√ß√µes do seu tema.</p>

<h3 id="criando-hooks-personalizados">Criando hooks personalizados</h3>

<p>O WooCommerce √© um plugin bem completo. Mas as vezes voc√™ deseja inserir alguma funcionalidade diferente da do tema padr√£o. Voc√™ pode fazer isto criando novos hooks personalizados atrav√©s do arquivo <strong>functions.php</strong>.</p>

<p>Existem dois tipos de hooks: ganchos de a√ß√µes e ganchos de filtros.</p>

<h4 id="action-hooks">Action hooks</h4>

<p>Permite que voc√™ insira um c√≥digo customizado.¬†Voc√™ pode criar os seus pr√≥prios ganchos de a√ß√£o atrav√©s do arquivo <strong>functions.php</strong>. Para isto basta seguir esta estrutura:</p>

<pre>add_action('action_name', 'your_function_name');
function your_function_name() {
// Seu c√≥digo
}</pre>

<p>&nbsp;</p>

<p>Ent√£o chame a fun√ß√£o no seu layout obedecendo a seguinte sintaxe:</p>

<pre>do_action(‚Äòaction_name‚Äô);</pre>

<h4 id="filter-hooks">Filter Hooks</h4>

<p>Os ganchos de filtros servem para retornar e/ou manipular uma determinada vari√°vel, como por exemplo o pre√ßo de um produto. De maneira bem semalhante a a√ß√µes, voc√™ pode criar seus pr√≥prios filtros atrav√©s do nosso bom e velho amigo <strong>functios.php</strong></p>

<pre>add_filter('filter_name', 'your_function_name');
function your_function_name( $variable ) {
// Seu c√≥digo
return $variable;
}</pre>

<p>E para chamar a fun√ß√£o no seu layout:</p>

<pre>apply_filter(‚Äòfilter_name‚Äô, $variable);</pre>

<p>Mas nem sempre √© preciso reinventar a roda. O WooCommerce possui uma <a href="http://docs.woothemes.com/document/hooks/" title="WooThemes Hooks">lista bem grande de hooks</a> para diversas situa√ß√µes. A se√ß√£o <a href="http://docs.woothemes.com/documentation/plugins/woocommerce/woocommerce-codex/snippets/" title="WooCommerce Snippets">snippets</a> da documenta√ß√£o do WooCommerce tamb√©m possui hooks que podem ser √∫teis para o seu tema. Vale a pena favoritar e consultar antes de criar uma nova fun√ß√£o.</p>

<h2 id="estrutura-b√°sica-de-um-template">Estrutura b√°sica de um Template</h2>

<p>Trabalhar com hooks √© uma maneira pr√°tica de criar suas pr√≥prias p√°ginas de template. Mas as vezes voc√™ quer simplesmente fazer uma modifica√ß√£o em alguma estrutura j√° existente. Na pasta <strong>/woocommerce/templates/</strong> voc√™ encontrar√° a estrutura do front-end da loja, bem como os templates para e-mail marketing do seu projeto.</p>

<p>**archive-pro</p>

<p>duct.php**</p>

<p><strong>cart/</strong></p>

<p>cart-empty.php</p>

<p>cart.php</p>

<p>cross-sells.php</p>

<p>mini-cart.php</p>

<p>shipping-calculator.php</p>

<p>shipping-methods.php</p>

<p>totals.php</p>

<p><strong>checkout/</strong></p>

<p>cart-errors.php</p>

<p>form-billing.php</p>

<p>form-checkout.php</p>

<p>form-coupon.php</p>

<p>form-login.php</p>

<p>form-pay.php</p>

<p>form-shipping.php</p>

<p>review-order.php</p>

<p>thankyou.php</p>

<p><strong>content-product_cat.php</strong></p>

<p><strong>content-product.php</strong></p>

<p><strong>content-single-product.php</strong></p>

<p><strong>emails/</strong></p>

<p>admin-new-order.php</p>

<p>customer-completed-order.php</p>

<p>customer-invoice.php</p>

<p>customer-new_account.php</p>

<p>customer-note.php</p>

<p>customer-processing-order.php</p>

<p>customer-reset-password.php</p>

<p>email-addresses.php</p>

<p>email-footer.php</p>

<p>email-header.php</p>

<p>email-order-items.php</p>

<p><strong>loop/</strong></p>

<p>add-to-cart.php</p>

<p>loop-end.php</p>

<p>loop-start.php</p>

<p>no-products-found.php</p>

<p>orderby.php</p>

<p>pagination.php</p>

<p>price.php</p>

<p>rating.php</p>

<p>result-count.php</p>

<p>sale-flash.php</p>

<p><strong>myaccount/</strong></p>

<p>form-change-password.php</p>

<p>form-edit-address.php</p>

<p>form-login.php</p>

<p>form-lost-password.php</p>

<p>my-account.php</p>

<p>my-address.php</p>

<p>my-downloads.php</p>

<p>my-orders.php</p>

<p><strong>order/</strong></p>

<p>form-tracking.php</p>

<p>order-details.php</p>

<p>tracking.php</p>

<p><strong>shop/</strong></p>

<p>breadcrumb.php</p>

<p>errors.php</p>

<p>form-login.php</p>

<p>messages.php</p>

<p>sidebar.php</p>

<p>wrapper-end.php</p>

<p>wrapper-start.php</p>

<p><strong>single-product/</strong></p>

<p>add-to-cart/</p>

<p>external.php</p>

<p>grouped.php</p>

<p>quantity.php</p>

<p>simple.php</p>

<p>variable.php</p>

<p>meta.php</p>

<p>price.php</p>

<p>product-attributes.php</p>

<p>product-image.php</p>

<p>product-thumbnails.php</p>

<p>related.php</p>

<p>review.php</p>

<p>sale-flash.php</p>

<p>share.php</p>

<p>short-description.php</p>

<p>tabs/</p>

<p>additional-information.php</p>

<p>description.php</p>

<p>tabs.php</p>

<p>title.php</p>

<p>up-sells.php</p>

<p><strong>single-product-reviews.php</strong></p>

<p><strong>single-product.php</strong></p>

<p><strong>taxonomy-product_cat.php</strong></p>

<p><strong>taxonomy-product_tag.php</strong></p>

<p>Em tese basta editar estes arquivos para alterar a estrutura. Mas tome cuidado: se voc√™ simplesmente alterar e salvar por cima o seu tema vai funcionar, mas toda vez que o plugin for atualizado suas modifica√ß√µes ser√£o perdidas‚Ä¶ Se voc√™ quiser fazer altera√ß√µes de forma segura duplique o arquivo desejado e salve na pasta <strong>nomedoseuthema/woocommerce/</strong>. Desta maneira voc√™ n√£o perder√° suas modifica√ß√µes em uma atualiza√ß√£o futura.</p>

<p>Ex: Vamos supor que voc√™ queira modificar o carrinho de compras. Copie o arquivo localizado em <strong>/templates/cart/cart.php</strong> para <strong>nomedoseutema/woocommerce/cart/cart.php</strong>.</p>

<h2 id="modificando-o-css">Modificando o CSS</h2>

<p>OK. Vamos supor que voc√™ j√° tenha editado todos os arquivos PHP e esteja satisfeito com a estrutura da loja. Mas o visual provavelmente est√° todo quebrado! √â preciso agora modificar o CSS do seu tema para criar estilos de bot√µes, links, texto, etc.</p>

<p>Dentro da pasta <strong>assets/css/</strong> voc√™ vai encontrar duas folhas de estilo: woocommerce.less e woocommerce.css A vers√£o .css est√° minificada, ou seja, o ideal √© trabalhar com o arquivo pr√©-processado (extens√£o .less) e depois compilar (<a href="http://tableless.com.br/css-dinamico-com-less/#.UnLuApTXQv4" title="Css dinamico com less">saiba mais sobre LESS</a>). Se voc√™ n√£o curte muito utilizar LESS n√£o se preocupe! Voc√™ pode tamb√©m descomprimir o css padr√£o.</p>

<p>Aqui vale o mesmo conselho dos outros arquivos do tema: n√£o sobrescreva os arquivos ou eles ir√£o para o grande limbo da internet na pr√≥xima atualiza√ß√£o do WooCommerce! Ao inv√©s disto crie seus pr√≥prios arquivos CSS e/ou LESS a partir de c√≥pias dos originais e desative as folhas antigas. Como fazer isto? Atrav√©s do arquivo <strong>functions.php</strong>. Basta inserir a seguinte linha de c√≥digo:</p>

<pre>define('WOOCOMMERCE_USE_CSS', false);</pre>

<p>&nbsp;</p>

<p>Depois de desativado √© s√≥ continuar trabalhando com a c√≥pia dentro da pasta do seu tema (que voc√™ fez no inicio do par√°grafo, lembra?)</p>

<h2 id="declararando-seu-suporte-ao-woocommerce">Declararando seu suporte ao WooCommerce</h2>

<p>Uma vez que voc√™ esteja satisfeito com o visual e as funcionalidades do seu tema, est√° na hora de remover aquela mensagem chatinha de erro (&#8220;seu tema n√£o √© compat√≠vel bl√° bl√° bl√°&#8230;&#8221;) e declarar o seu suporte ao WooCommerce. Para isto, basta colar esta linha de c√≥digo no <strong>functions.php</strong></p>

<pre>add_theme_support( 'woocommerce' );</pre>

<p>&nbsp;</p>

<p>E pronto! Agora √© s√≥ realizar as configura√ß√µes b√°sicas, acrescentar produtos e come√ßar a vender. Boa sorte! üôÇ</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

