
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/i18next-para-internacionalizacao/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/i18next-para-internacionalizacao/">i18next para Internacionaliza√ß√£o</a></h1>
  <p class="tb-hero-p">
    
    Eu nunca me importei at√© que em um belo dia, um cliente teve essa necessidade e foi a√≠ que precisei pensar, pesquisar e aprender sobre internacionaliza√ß√£o. Participei de um projeto para a copa do mundo e o conte√∫do deveria ser suportado por no m√≠nimo 3 linguas diferentes: o ingl√™s, espanhol e o portugu√™s. Mas eu nunca tinha feito nada multilinguagem e nesse momento quase bateu o desespero. Acho que a pior dificuldade foi de me expressar, porque at√© ent√£o eu n√£o tinha no√ß√£o de que o termo internacionaliza√ß√£o seria a palavra chave pra isso tudo.
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/thulio-philipe">Thulio Philipe</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Eu nunca me importei at√© que em um belo dia, um cliente teve essa necessidade e foi a√≠ que precisei pensar, pesquisar e aprender sobre internacionaliza√ß√£o. Participei de um projeto para a copa do mundo e o conte√∫do deveria ser suportado por no m√≠nimo 3 linguas diferentes: o ingl√™s, espanhol e o portugu√™s. Mas eu nunca tinha feito nada multilinguagem e nesse momento quase bateu o desespero. Acho que a pior dificuldade foi de me expressar, porque at√© ent√£o eu n√£o tinha no√ß√£o de que o termo <strong>internacionaliza√ß√£o</strong> seria a palavra chave pra isso tudo.</p>

<p>Os primeiros questionamentos que eu me fiz foram:</p>

<ul>
<li>&#8220;Vou ter que fazer 3 sites diferentes?&#8221;</li>
<li>&#8220;Vou ter mais trabalho que o normal?&#8221;</li>
<li>&#8220;Como eu vou pesquisar sobre alguma lib que me ajude com isso? Ser√° que existe?&#8221;</li>
</ul>

<p>Antes de ir adiante, vamos ver o significado da coisa segundo o dicion√°rio: <strong>Tornar-se internacional; Espalhar ou difundir por v√°rios pa√≠ses.</strong></p>

<p>Depois de toda essa introdu√ß√£o, finalmente apresento a voc√™s o maestro da orquestraque pode ser a solu√ß√£o para os seus problemas: O <a title="site da lib i18next" href="http://i18next.com/" target="_blank">i18next</a>!</p>

<p>Algumas considera√ß√µes sobre esta lib:</p>

<ul>
<li>Seu suporte n√£o √© s√≥ para JavaScript.</li>
<li>Possui integra√ß√£o com o jQuery.</li>
<li>Todo seu conte√∫do textual √© inserido em um JSON.</li>
<li>Documenta√ß√£o completa, f√°cil e direta.</li>
<li>Voc√™ pode traduzir todo e qualquer texto do seu projeto, seja ele um <em>title</em>, <em>alt</em>, ou de qualquer outro atributo.</li>
<li>Voc√™ pode detectar a linguagem do usu√°rio e inserir o conte√∫do de acordo com seu idioma.</li>
<li>Ativar a internacionaliza√ß√£o no clique.</li>
</ul>

<p>Vou descrever os passos para voc√™ conseguir chegar <a title="Resultado final" href="http://thulioph.github.io/i18next-internacionalizacao/" target="_blank">neste resultado</a> que ser√° acess√≠vel para espanhol, ingl√™s e portugu√™s.</p>

<p><em>ps: n√£o levem em conta as m√°s pr√°ticas nem a nomenclatura, apenas criei a p√°gina para ajudar no entendimento.</em></p>

<h2 id="como-iniciar">Como iniciar?</h2>

<p><strong>Estrutura b√°sica</strong></p>

<p>As tradu√ß√µes do conte√∫do dever√£o ser subpastas da pasta <code>locales</code> e precisam conter um arquivo <code>translation.json</code> com o json das tradu√ß√µes.</p>

<p>Ent√£o para o nosso exemplo a estrutura fica desta forma:</p>

<p><code>/locales -&gt; /en-US -&gt; translation.json&lt;br /&gt;
/locales -&gt; /es -&gt; translation.json&lt;br /&gt;
/locales -&gt; /pt-BR -&gt; translation.json</code></p>

<h3 id="configura√ß√µes-b√°sicas">Configura√ß√µes b√°sicas</h3>

<p>Para o texto da tradu√ß√£o ser inserido no local desejado voc√™ deve utilizar o atributo <code>data-i18n</code> que permite v√°rios valores, passando o objeto com chave e valor. Caso o conte√∫do traduzido seja um atributo, seu nome dever√° ser inserido dentro de colchetes <code>[]</code> seguido de sua posi√ß√£o no JSON. Algo assim:</p>

<pre class="lang-html">&lt;a href="#" data-i18n="link.general;[title]attr.linkGeneral"&gt;&lt;/a&gt;</pre>

<p>O HTML fica sem nenhum conte√∫do textual, pois todo conte√∫do ser√° inserido de acordo com a linguagem de forma din√¢mica.</p>

<p>Seguindo os passos para o HTML, voc√™ agora est√° pronto para o JavaScript, onde √© preciso setar algumas configura√ß√µes de inicializa√ß√£o. Algo como:</p>

<pre class="lang-javascript">i18n.init({
  fallbackLng: 'en-US'
  ,debug: true
  ,fixLng: true
  ,load: 'current'
},

function(translation) {
  $('[data-i18n]').i18n();
  var appName = translation('app.name');
});
</pre>

<h3 id="configura√ß√£o-detalhada">Configura√ß√£o detalhada</h3>

<p><strong>fallbackLng</strong> fallback para quando n√£o for definida ou n√£o for localizada a linguagem do usu√°rio.</p>

<p><strong>debug</strong> debug da lib, habilitando no console algumas informa√ß√µes que podem ser √∫teis para desenvolvimento.</p>

<p><strong>fixLng</strong> preserva o cookie da linguagem setada pelo usu√°rio para quando o mesmo for acessar novamente.</p>

<p><strong>load</strong> faz o request apenas para a linguagem definida.</p>

<p><strong>$(&#8216;[data-i18n]&#8217;).i18n();</strong> todos os atributos data-i18n recebem a tradu√ß√£o.</p>

<h3 id="explicando">Explicando</h3>

<p>Por padr√£o a lib detecta a linguagem do navegador e insere o conte√∫do de acordo, caso o idioma detectado n√£o possua tradu√ß√£o, o que for definido em <code>fallbackLng</code> ser√° o conte√∫do inserido.</p>

<p>Se o idioma for definido a partir de um clique ou qualquer outra intera√ß√£o voc√™ seta uma nova linguagem, preserva o cookie e inicia a tradu√ß√£o:</p>

<pre class="lang-javascript">$('elemento').on('click', function() {
  i18n.setLng('es', {fixLng: true}, function(translation){
    $('[data-i18n]').i18n();
  });
});
</pre>

<p>A lib √© realmente bastante simples, n√£o tem muito o que se fazer, seguindo os passos descritos, voc√™ consegue deixar seu conte√∫do mais acess√≠vel e em v√°rios idiomas. <a href="https://github.com/thulioph/i18next-internacionalizacao/" target="_blank">Aqui</a> voc√™ encontra o reposit√≥rio com o exemplo que foi mostrado e todo o c√≥digo comentado.</p>

<p>Qualquer d√∫vida, cr√≠tica ou sugest√£o voc√™ pode deixar nos coment√°rios ou entrar em contato comigo üôÇ</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

