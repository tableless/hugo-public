
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="http://tableless.com.br/">
  <title>Tableless</title>
  <link rel="canonical" href="http://tableless.com.br/keygen-certificando-suas-paginas-com-html/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">
  
</head>
<body>


  <header id="tb-header">
    <a href="http://tableless.com.br/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na prática
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/keygen-certificando-suas-paginas-com-html/">Keygen: Certificando suas paginas com HTML</a></h1>
  <p class="tb-hero-p">
    
    Uma tag que ressucitou do passado com mais força e vigor.
    
  </p>
      <span class="tb-author">por <a href="/author/alysson-franklin">Alysson Franklin</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Com a convergência tudo está indo para a web. Tudo. Por enquanto a grande maioria das apps e paginas estão abertas, mas a medida que o tempo passa, a web também evolui. Em um ambiente completamente social, aonde a relevância do conteúdo não está mais nas mãos de quem anuncia, mas sim na dos leitores, conteúdo cada vez mais segmentado vai surgir. E inevitavelmente, cada vez mais precisaremos de <strong>certificados</strong>.</p>

<h2 id="o-que-são-e-como-funcionam-os-certificados">O que são e como funcionam os certificados?</h2>

<p>Em criptografia, um certificado de chave pública (também conhecido como um certificado digital ou certificado de identidade – aka SSL) é um documento eletrônico que usa uma assinatura digital para vincular uma chave pública com informações sobre a identidade do remetente – que pode ter informações como o nome de uma pessoa ou um organização, seu endereço e assim por diante. O certificado pode ser usado para verificar se uma chave pública pertence a um indivíduo. Vamos cada vez mais agregando valor ao conteúdo na web através de rating, comentários, presença online, etc. Mas ainda sim a web oferece brechas no sistema, permitindo que pessoas possam emitir valores e opiniões sem a devida validação. Essas brechas vao diminuindo a medida que os certificados vão sendo usados, e em uma web puramente social, é difícil se imaginar sem um destes certificados, e acho que no futuro próximo, isso será realidade mandatória para todos.</p>

<p>O uso mais comum dos certificados é de web sites baseados em HTTPS. Browsers validam certificados SSL de servidores web, para que o usuário pode se sentir seguro de que sua interação com o site não tem espiões e que o site é quem afirma ser. Na prática, um usuário obtém uma chave criptografada gerada pelo website, que validada com um fornecedor certificado (uma loja de certificado$) confirma a procedência do certificado. Durante a navegação, este certificado público é enviado a qualquer browser que se conecte ao site, mostrando para o usuário que o endereço é validado – e seguro.</p>

<div id="attachment_3480" style="width: 662px" class="wp-caption alignleft">
  <a href="http://tableless.com.br/wp-content/uploads/2011/04/certifi.png"><img src="http://tableless.com.br/wp-content/uploads/2011/04/certifi.png" alt="Esta imagem é uma representacao grafica do ultimo paragrafo, mostrando a interacao que o usuario tem com servidor atraves de SSL" width="652" height="207" class="size-full wp-image-3480" srcset="uploads/2011/04/certifi.png 652w, uploads/2011/04/certifi-300x95.png 300w" sizes="(max-width: 652px) 100vw, 652px" /></a>
  
  <p class="wp-caption-text">
    Intercação de usuário com website seguro atraves de certificados SSL
  </p>
</div>

<p>Quem faz esta validação é chamado de <strong>entidade certificadora</strong>, e poderíamos mencionar a <strong>Certisign</strong>, <strong>Verisign</strong> e <strong>Serasa</strong> além de <strong>Federações e Sindicatos</strong>, como a <strong>FENACON</strong> e a <strong>PRODEMGE</strong>. No Brasil por exemplo, manter uma chave publica pessoal para atestar sua identidade (<a href="http://www.certisign.com.br/produtos-e-servicos/certificados-digitais/e-cpf">e-CPF</a>) custa em média R$130,00.</p>

<h2 id="single-sign-on-x-certificados">Single sign-on X Certificados</h2>

<p>É notório que o custo dos certificados são suas maiores barreiras. É visível o custo de manutenção de estruturas para manter servidores <strong>apenas</strong> para validar certificados – e não são poucos. Mas mesmo assim, algo tão importante deveria ser mantido em regime de economia de escala &#8211; e ser oferecido de maneira mais acessível a população.</p>

<p>Enquanto isso, vamos oferecendo soluções para os clientes que envolvem na maioria das vezes, <a href="http://www.opengroup.org/security/sso/">single-sign-on (SSO)</a>. O conceito vem sendo pregado pelo <a href="http://www.opengroup.org/security/sso/">Open Group</a> a muito tempo, e dele surgiu o <a href="http://openid.net/get-an-openid/what-is-openid/">OpenID</a>.</p>

<p>O funcionamento de um <strong>OpenID</strong> é simples, ele simplesmente valida a existência de um usuário baseado em serviços ja consolidados de login, que oferecem uma API bem documentada e incentivam o seu uso. <a href="http://openid.net/get-an-openid/">Google, Facebook e outras empresas oferecem estes servicos</a>. “Cascatear” a validação, oferecendo a segurança de uma entidade como as mencionadas é algo que fortalece muito a segurança da sua aplicação e a confiança do usuário. Se você não existe em uma rede social (eis que chegamos na <a href="http://pt.wikipedia.org/wiki/Reifica%C3%A7%C3%A3o_(marxismo)">reificação</a> do usuário através de sua existencia digital), não tem como logar, validar, navegar&#8230; enfim, nada.</p>

<p>Mas ainda sim este método apresenta falhas. Alguém que tenha posse de seu user e senha pode facilmente se passar por você. Isso o single sign-on não pode evitar, mas certificados resolvem este problema. Mas também não são perfeitos. É importante conhecer os dois métodos pois dependendo do nível de segurança que você precisa oferecer a aplicação, qualquer uma das opções serão válidas. Quer apenas ter certeza que o usuário existe antes de postar um comentário em seu site? Ok, dá pra usar um single sign-on sem problemas. Precisa mostrar que seu site é <strong>realmente seguro</strong> para garantir transações financeiras e honrar o cadeadinho na tray do navegador? Certificados são o que você deverá usar.</p>

<h2 id="como-requerer-um-certificado-pelo-método-usual">Como requerer um certificado pelo método usual?</h2>

<p>Um certificado custa dinheiro. E não é barato. Talvez por isso eles ainda nao sejam amplamente utilizados. Bancos por exemplo costumam pagar para seus clientes seus certificados como ferramentas de fidelização. Certificados são temporais e muitas pessoas quando necessitam, compram por um ano ou tres o serviço. Existem leis em tramite no congresso em relação ao RIC, o registro de identidade civil, com vinculações ao e-cpf, o que virtualmente obriga todos a possuírem certificados digitais atrelados ao CPF no longo prazo.</p>

<h2 id="como-montar-um-certificado-apenas-com-8230-html">Como montar um certificado apenas com&#8230; HTML?</h2>

<p>Mas até ai nada novo. Na real, nada do que esta neste post é novo, apenas <strong>obscuro</strong>. Desde a época do saudoso Netspace Navigator existe uma tag pouco utilizada, e da mesma maneira pouco conhecida &#8211; <keygen> </em>.</p>

<pre><code>  &lt;a href=&quot;http://tableless.com.br/wp-content/uploads/2011/04/IC341506.gif&quot;&gt;&lt;img src=&quot;http://tableless.com.br/wp-content/uploads/2011/04/IC341506.gif&quot; alt=&quot;&quot; width=&quot;561&quot; height=&quot;200&quot; class=&quot;alignleft size-full wp-image-3481&quot; /&gt;&lt;/a&gt;
</code></pre>

<p>Quando a internet ainda engatinhava, a Netscape criou um meio dela mesma poder emitir – e validar – certificados, usando HTTP e HTML. Essa tag é suportada pela maioria dos browsers (exceção a Apple – Safari e iOS), porém nunca foi oficialmente colocada no pacote das especificações HTML. Vinha sendo usada de maneira tímida, mas voltou aos spots com o HTML5. Ou seja, embora muitas documentações mencionem ela como elemento HTML5 (inclusive a do Mozilla Developer Network), é quase mais velha que a especificação HTML4.</p>

<h2 id="como-funciona">Como funciona?</h2>

<p>A sintaxe é simples e suporta atributos globais como o autofocus.</p>

<pre lang="html" line="1">&lt;keygen name="soureal" challenge="String de verificacao" keytype="tipo de chave" keyparams="pqg-params">
</pre>

<p><strong>Challenge</strong></p>

<p>Uma seqüência de desafio que é apresentado juntamente com a chave pública. O padrão é uma string vazia se não for especificada.</p>

<p><strong>Disabled</strong></p>

<p>Atributo booleano que indica que o controle de formulário não está disponível para interação.</p>

<p><strong>Form</strong></p>

<p>Todo <code>keygen</code> para funcionar depende de um form que processa a informação. Com isso, podemos dizer que por enquanto, adeus Ajax para fazer uso de keygen sem submeter formulários. Foi da tentativa de conseguir isso que resolvi criar este post. O elemento de form precisa existir associado ao &lt;keygen&amp;gt.</p>

<dl>
<dt>keyType</dt>
<dd>O tipo de chave gerada. O valor padrão é o RSA.</dd>
<dt>Nome</dt>
<dd>O nome do campo</dd>
</dl>

<p><strong>Name</strong> e <strong>Challenge</strong> são attributos obrigatórios. <strong>Keytype</strong> especifica o tipo de chave (RSA-DSA e EC). Caso use chaves DSA ou EC você precisa especificar <strong>keyparams</strong>. Para declará-los da seguinte maneira: <strong>keyparams=&#8221;pqg-params&#8221;</strong> ou <strong>pqg=&#8221;pqg-params&#8221;</strong>.</p>

<p>O modo como o keygen é apresentado varia de navegador a navegador, desde os tempos de Netscape (a Microsoft acreditem – criou um suporte sensacional – porém atrelado a registro de DLL’s, te obrigando a ter um IIS, e por consequencia uma licença de Windows). A interface do usuário para pode ser um menu, botões de rádio, ou até abordagens que ainda não conhecemos. As opções de encriptação apresentam níveis, médio e alto. Se o navegador do usuário estiver configurado para suportar</p>

<p>hardware criptográfico (por exemplo, &#8220;smart cards&#8221;), o usuário também poderá escolher aonde salvar seu certificado, em um cartão inteligente ou em um software(browser) e armazenado no disco.</p>

<h2 id="e-o-código">E o código?</h2>

<pre lang="html" line="1"></pre>

<p>Para ver o em ação, clique aqui: <a href="http://koolbanana.com.br/usehtml/keygen.html">http://koolbanana.com.br/usehtml/keygen.html</a></p>

<p>E pra quem achava que keygen era coisa de pirata&#8230;</p>

<p>Gostaria de agradecer o <strong>Gabriel Pereira Borges</strong> por ter ajudado (e inspirado) este post. A dor de cabeça valeu a pena!</p>

<h3 id="referências">Referências</h3>

<ul>
<li>Certificados SSL: <a href="http://en.wikipedia.org/wiki/Ssl_certificate">http://en.wikipedia.org/wiki/Ssl_certificate</a><br />
<a href="http://www.networksolutions.com/SSL-certificates/how-ssl-works.jsp">http://www.networksolutions.com/SSL-certificates/how-ssl-works.jsp</a></li>
<li>e-cpf: <a href="http://www.certisign.com.br/produtos-e-servicos/certificados-digitais/e-cpf">http://www.certisign.com.br/produtos-e-servicos/certificados-digitais/e-cpf</a><br />
<a href="http://www.receita.fazenda.gov.br/atendvirtual/solicemrenrevcd.htm">http://www.receita.fazenda.gov.br/atendvirtual/solicemrenrevcd.htm</a></li>
<li>Open Group: <a href="http://www.opengroup.org/">http://www.opengroup.org/</a></li>
<li>SSO: <a href="http://www.opengroup.org/security/sso/">http://www.opengroup.org/security/sso/</a><br />
<a href="http://code.google.com/googleapps/marketplace/sso.html">http://code.google.com/googleapps/marketplace/sso.html</a></li>
<li>SAML: <a href="http://code.google.com/googleapps/domain/sso/saml_reference_implementation.html">http://code.google.com/googleapps/domain/sso/saml_reference_implementation.html</a></li>
<li>OpenID: <a href="http://openid.net/get-an-openid/">http://openid.net/get-an-openid/</a><br />
<a href="http://openid.net/get-an-openid/what-is-openid/">http://openid.net/get-an-openid/what-is-openid/</a></li>
<li>Reificação: <a href="http://pt.wikipedia.org/wiki/Reifica%C3%A7%C3%A3o_(marxismo">http://pt.wikipedia.org/wiki/Reifica%C3%A7%C3%A3o_(marxismo</a>)</li>
<li>RIC: <a href="http://portal.mj.gov.br/ric">http://portal.mj.gov.br/ric</a></li>
<li>Keygen: <a href="https://developer.mozilla.org/En/HTML/Element/keygen">https://developer.mozilla.org/En/HTML/Element/keygen</a><br />
Obscure tags: <a href="http://obscuretags.com/showcode.php?id=19">http://obscuretags.com/showcode.php?id=19</a><br />
<a href="http://dev.w3.org/html5/markup/keygen.html">http://dev.w3.org/html5/markup/keygen.html</a><br />
<a href="http://msdn.microsoft.com/en-us/library/cc249768(v=prot.13).aspx">http://msdn.microsoft.com/en-us/library/cc249768(v=prot.13).aspx</a></li>
<li>documentacao de 1998(!!!): <a href="http://devedge-temp.mozilla.org/library/manuals/1998/htmlguide/tags10.html#1615503">http://devedge-temp.mozilla.org/library/manuals/1998/htmlguide/tags10.html#1615503</a></li>
<li>Gerando chaves com Keygen em IIS: <a href="http://forums.hostsearch.com/archive/index.php?t-2094.html">http://forums.hostsearch.com/archive/index.php?t-2094.html</a></li>
<li>IIS suporte a keygen: <a href="http://certs.ipsca.com/Support/CSRMicrosoft-Internet-Information-Server-4.0.asp">http://certs.ipsca.com/Support/CSRMicrosoft-Internet-Information-Server-4.0.asp</a></li>
</ul>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos código front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

