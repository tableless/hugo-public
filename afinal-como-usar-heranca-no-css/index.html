
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="http://tableless.com.br/">
  <title>Tableless</title>
  <link rel="canonical" href="http://tableless.com.br/afinal-como-usar-heranca-no-css/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">
  
</head>
<body>


  <header id="tb-header">
    <a href="http://tableless.com.br/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na prática
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/afinal-como-usar-heranca-no-css/">Afinal, como usar herança no CSS?</a></h1>
  <p class="tb-hero-p">
    
    Herança surgiu para ajudar desenvolvedores a escreverem mesmo e produzirem mais. Vamos ver aqui como esse conceito básico das folhas de estilo pode nos ajudar no dia-a-dia.
Geralmente quando alguém começa a desenvolver interfaces web, o processo é aos trancos e barrancos. Nessa situação, iniciantes buscam aprender como se faz aquela borda arredondada ou como aplicar transparência. Por fim, acabam deixando de lado conceitos básicos de CSS. Levando isso em conta, precisamos primeiramente aprender sobre especificidade e efeito cascata.
    
  </p>
      <span class="tb-author">por <a href="/author/fernahh">fernahh</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Herança surgiu para ajudar desenvolvedores a escreverem mesmo e produzirem mais. Vamos ver aqui como esse conceito básico das folhas de estilo pode nos ajudar no dia-a-dia.</p>

<p>Geralmente quando alguém começa a desenvolver interfaces web, o processo é aos trancos e barrancos. Nessa situação, iniciantes buscam aprender como se faz aquela borda arredondada ou como aplicar transparência. Por fim, acabam deixando de lado conceitos básicos de CSS. Levando isso em conta, precisamos primeiramente aprender sobre <strong>especificidade</strong> e <strong>efeito cascata</strong>. Esses dois pontos são essenciais para aprendermos como escrever folhas de estilo usando herança.</p>

<h2 id="a-especificidade-de-seletores">A especificidade de seletores</h2>

<p>Um documento web possui derivadas fontes de estilo, sendo elas:</p>

<ul>
<li>a folha de CSS servida pela página;</li>
<li>configurações setadas pelo usuário;</li>
<li>o estilo <em>default</em> aplicado pelo <em>user agent</em> (ex: navegadores).</li>
</ul>

<p>A primeira é a mais importante. A folha de estilo pode sobrescrever as configurações do usuário, que por sua vez pode sobrescrever os estilos aplicados <em>user agent</em>.</p>

<p>Apesar do CSS servido pela página web ser mais específico, é importante lembrar que o usuário tem a opção de forçar o estilo desejado por ele. Porém, isso <strong>não vale para regras</strong> que recebem <code>!important</code>.</p>

<p>A <a href="http://www.w3.org/TR/css3-selectors/#specificity" target="_blank">W3C criou uma forma de calcular a especificidade de seletores</a>. Para entender de forma simples, basicamente distribuímos pesos diferentes as regras aplicadas:</p>

<ul>
<li>CSS inline: 1000 pontos;</li>
<li>ID: 100 pontos;</li>
<li>Classes, pseudo-classe e atributos: 10 pontos;</li>
<li>Elementos: 1 ponto.</li>
</ul>

<p>Na prática, podemos fazer cálculos como os exemplos a seguir:</p>

<ul>
<li><code>p.foobar</code>: 1 classe + 1 elemento = 11 pontos.</li>
<li><code>div#foobar .foo .bar</code>: 1 ID + 1 elemento + 3 classes = 131</li>
</ul>

<p>A especificidade pode dar grandes dores de cabeça em projetos complexos, ainda mais quando o número de desenvolvedores é maior. Não é rara a aplicação com um grande número de uso do <code>!important</code>. Isso funciona como uma forma de quebrar a especificidade para sobrescrever uma regra.</p>

<pre>header h1 {
  color: red;
}

/* Essa regra será mais específica. */

h1 {
  color: red !important;
}
</pre>

<p>Evite ao máximo usar <code>!important</code>. Os 5 minutos que você economiza fazendo uso dele podem se tornar horas no futuro. Fica a dica:</p>

<blockquote class="twitter-tweet" lang="pt">
  <p dir="ltr" lang="en">
    Easy way to tell how screwed you are when dealing with CSS from a legacy project: `grep -rin &#8216;!important&#8217; assets/sass/ | wc -l`
  </p>
  
  <p>
    — Rafael Rinaldi (@rafaelrinaldi) <a href="https://twitter.com/rafaelrinaldi/status/586216597913739264">9 abril 2015</a>
  </p>
</blockquote>

<h2 id="efeito-cascata-o-coração-do-css">Efeito cascata: o coração do CSS</h2>

<p>Não é a toa que o a palavra <em>cascade</em> está no nome nas folhas de estilo. Essa técnica é utilizada para definir o estilo a um seletor mesmo em caso de conflitos.</p>

<p><em>Pergunta: você sabe o que acontece quando existem duas regras para um mesmo seletor?</em></p>

<p>A cascata define o peso de uma regra através das seguintes características:</p>

<ul>
<li>importância;</li>
<li>origem;</li>
<li>especificidade;</li>
<li>ordem de declaração.</li>
</ul>

<p>Saber como o efeito cascata funciona irá lhe poupar boas horas de trabalho.</p>

<p><em>Mas e como o navegador lida com conflitos de regras?</em> Primeiramente, ele vasculha <strong>todas as regras</strong> que se aplicam ao elemento. Como segundo passo, ele irá classificar os <strong>níveis de importância</strong> e suas <strong>origens</strong>. Depois disso, irá ocorrer um <em>match</em> das declarações com o <strong>mesmo nível de importância</strong>. Por último, se houver duas regras com o mesmo peso, a que é <strong>declarada por último</strong> ganhará.</p>

<p>Você já deve ter percebido que quanto mais fácil esse processo para o navegador, mais performática será sua aplicação.</p>

<p>Caso queira saber mais sobre efeito cascata e herança, <a href="http://tableless.com.br/efeito-cascata-e-especificidade-do-css/" target="_blank">recomendo esse post do Tableless de 2009</a>.</p>

<h2 id="a-herança">A herança</h2>

<p>A palavra herança rapidamente remete ao paradigma de <a href="https://pt.wikipedia.org/wiki/Orienta%C3%A7%C3%A3o_a_objetos" target="_blank">Orientação a Objetos</a>. Caso você acompanhe discussões sobre <em>front-end</em>, já deve saber que o termo &#8220;<em>orientação a objetos</em>&#8221; não é bem visto tratando-se de CSS.</p>

<p>Assim como você herda métodos e atributos de objetos, no CSS você herda as regras de um elemento pai.</p>

<pre>/* 
 * Todo o conteúdo textual do documento
 * terá 16px de tamanho, pois herdam do
 * `body`.
 */

body {
  font-size: 16px;
}</pre>

<p>É importante lembrar que nem todas as propriedades serão herdadas por elementos filho. Geralmente as propriedades que se referem ao <em>box-model</em> (<code>height</code>, <code>width</code>, <code>margin</code>, <code>padding</code>) não aceitam herança. Caso você queira forçar a herança, pode usar o valor <code>inherit</code>. Aliás, você sabe a <a href="http://tableless.com.br/entendendo-os-valores-initial-e-inherit-do-css/" target="_blank">diferença entre initial e inherit</a>?</p>

<p>Podemos fazer um uso inteligente de herança para economizar várias linhas de código. É muito mais fácil especificar valores para elementos pais e utilizá-los em seus filhos do que especificar um por um. Se você der uma olhada em códigos de <em>frameworks</em> de CSS, irá notar que herança é fortemente usada para melhorar a manutenção do projeto.</p>

<h2 id="herança-com-sass">Herança com Sass</h2>

<p>Pré-processadores deram super poderes para desenvolvedores escreverem CSS. Em nosso contexto, <code>@extend</code> e <em>mixins</em> nos trazem benefícios, mas que devem ser usados com bastante cautela.</p>

<h3 id="extend">@extend</h3>

<p>Podemos extender <em>placeholders</em> (<code>%placeholder</code>) e classes. Muitos autores desencorajam desenvolvedores a usarem esse recurso. O motivo é o CSS gerado.</p>

<p>Por exemplo, digamos que temos uma classe <code>.error</code> e queremos usar os estilos dela em outra classe.</p>

<pre>.error {
  color: red;
}

.icon--error {
  @extend .error;
}
</pre>

<p>O CSS gerado será o seguinte:</p>

<pre>.error, .icon--error {
  color: red;
}</pre>

<p>Ou seja, o Sass não <em>&#8220;copia&#8221;</em> os valores, ele apenas separa o valor em uma <em>mesma regra</em>.</p>

<p>Agora digamos que em outro contexto precisamos reescrever a cor de erro para um tom mais forte.</p>

<pre>.other_context .error {
  color: darken(red, 10%);
}
</pre>

<p>Além de criar a regra para a classe <code>.error</code>, o pré-processador irá aplicar a regra para as outras <em>&#8220;instâncias&#8221;</em> da classe:</p>

<pre>.other_context .error, .other_context .icon--error {
  color: #cc0000;
}
</pre>

<p><strong>Isso é péssimo</strong>. Além de tirar o controle do desenvolvedor, isso irá gerar <strong>código desnecessário</strong> e prejudicar outras áreas de uma interface. Lembre-se: tome cuidado com o <em>bug</em> dos <a href="http://blogs.msdn.com/b/ieinternals/archive/2011/05/14/10164546.aspx" target="_blank">4095 seletores</a>.</p>

<p>Usando <em>placeholders</em>, o Sass irá realmente &#8220;copiar&#8221; os estilos para a classe que possui o <code>@extend</code>. Porém, se o <em>placeholder</em> for alterado em um contexto, isso também irá gerar uma regra para as classes que o estenderam.</p>

<pre>%error,
.error {
  color: red;
}

.icon--error {
  @extend %error;
}

.other_context .error {
  color: darken(red, 10%);
}
</pre>

<p>O output será esse:</p>

<pre>.error {
  color: red;
}

.icon--error {
  color: red;
}

.other_context .error {
  color: #cc0000;
}
</pre>

<p>Perceba que dessa vez a instância de <code>.error</code>, a classe <code>.icon--error</code> <strong>não herdou as regras</strong> em outro contexto.</p>

<p><strong>Resumindo: evite o <code>@extend</code>. Se for usar, vá de <em>placeholders</em>.</strong></p>

<h3 id="mixins">Mixins</h3>

<p>Outra forma criar herança é usando <em>mixins</em>. Com eles você pode realmente <em>copiar</em> propriedades e valores para uma classe.</p>

<pre>@mixin error {
  color: red;
}

.icon--error {
  @include error;
}

.label--error {
  @include error;
}
</pre>

<p>O problema com essa abordagem é que ela não será tão performática, levando em conta que ela gerará duas regras com o mesmo código:</p>

<pre>.icon--error {
  color: red;
}

.label--error {
  color: red;
}
</pre>

<p>Porém, mixins são eficientes se você precisar de parâmetros.</p>

<p>Vamos continuar com nosso exemplo. Se precisarmos de uma cor mais forte, poderemos passar essa opção por parâmetro.</p>

<pre>@mixin error($critical: false) {
  @if $critical {
    color: darken(red, 10%);
  } @else {
    color: red;
  }
}

.icon--error {
  @include error;
}

.icon--critical-error {
  @include error($critical: true);
}
</pre>

<p>O Sass irá gerar o vermelho mais escuro quando passarmos o valor <code>true</code> para a variável <code>$critical</code>:</p>

<pre>.icon--error {
  color: red;
}

.icon--critical-error {
  color: #cc0000;
}
</pre>

<h2 id="concatenação-de-classes">Concatenação de classes</h2>

<p>Se você é purista e não gosta de pré-processadores ou prefere não usar as &#8220;mágicas&#8221; do Sass, você pode fazer uso da concatenação/composição de classes no HTML. O <a href="http://getbootstrap.com/" target="_blank">Bootstrap</a> usa essa abordagem.</p>

<p>Basicamente você terá estilo padrão em uma classe e usará outras, se necessário, para alterar o layout.</p>

<p>No HTML com um elemento de botão, teríamos a classe <code>.button</code>. Se precisarmos criar um botão de sucesso, usamos a classe <code>.button--success</code> juntamente com <code>.button</code>.</p>

<pre>.button {
  display: inline-block;
  padding: 10px;
  color: black;
  background-color: white;
}

.button--success {
  color: white;
  background-color: green;
}
</pre>

<p>Na minha opinião essa é a forma mais correta de usarmos herança. Sempre opte por usar <em>features</em> nativas do CSS ao invés das mágicas do Sass.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Herança é uma abordagem extremamente necessária para começar a entender o desenvolvimento de CSS escalável. Depois de entender bem o conceito, estude <a href="http://tableless.com.br/oocss-smacss-bem-dry-css-afinal-como-escrever-css/" target="_blank">padrões de escrita</a>. Olhe o código fonte de <em>frameworks</em> para entender a arquitetura usada.</p>

<p>Nunca saia escrevendo CSS até dar certo. Entenda as regras e planeja seus passos. Pensar antes de começar sem dúvidas será mais produtivo.</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos código front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

