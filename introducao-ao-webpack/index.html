
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/introducao-ao-webpack/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/introducao-ao-webpack/">Introdu√ß√£o ao webpack</a></h1>
  <p class="tb-hero-p">
    
    Conhe√ßa o webpack: um bundler que permite dividir seu c√≥digo em m√∫ltiplos m√≥dulos para serem lidos sob demanda.
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/leo-cavalcante">Leo Cavalcante</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<h2 id="o-que-√©-onde-vivem-o-que-comem">O que √©? (Onde vivem? O que comem?)</h2>

<p>webpack (com &#8220;w&#8221; min√∫sculo, respeitando a grafia do site oficial) √© um empacotador de c√≥digo para projetos web, como o <a href="http://browserify.org/">browserify</a>. O que ele se prop√µe a fazer de diferente √© focar em m√≥dulos da sua aplica√ß√£o. Nem sempre ter todo e qualquer JavaScript/CSS do seu projeto num √∫nico arquivo √© bom, por isso o webpack tem a ideia de <a href="http://webpack.github.io/docs/code-splitting.html">code splitting</a>, onde voc√™ modulariza partes reaproveit√°veis do seu projeto, facilitando o desenvolvimento independente, por exemplo, ter uma equipe trabalhando em um m√≥dulo X e outra num m√≥dulo Y, mas ambos de um mesmo projeto.</p>

<p>N√£o √© sempre que a gente faz um projeto t√£o grande assim, a ponto de precisar separar equipes em diferentes m√≥dulos, mas o webpack tamb√©m pode ser ideal para pequenos projetos.</p>

<h2 id="instalando">Instalando.</h2>

<p>√â bem simples. Voc√™ tem o webpack como pacote do <a href="http://nodejs.org/">NodeJS</a>. Se voc√™ n√£o sabe o que √© NodeJS, <a href="http://tableless.com.br/o-que-nodejs-primeiros-passos-com-node-js/">pare agora e leia esse artigo</a>. Sugiro dar uma pesquisada sobre <a href="https://www.npmjs.com/">NPM</a> antes. Se voc√™ entendeu tudo at√© aqui, pode escolher entre t√™-lo globalmente ou somente num projeto:</p>

<pre class="lang-bash">&gt; npm install&lt;/span> webpack -g
&gt; npm install webpack --<span class="hljs-built_in">save</span>-<span class="hljs-built_in">dev</span>
</pre>

<h2 id="usando">Usando</h2>

<p>√â bem simples, tamb√©m. O comando espera dois argumentos, um arquivo de entrada e um arquivo de sa√≠da que se n√£o existir vai ser criado e se j√° existir ser√° substitu√≠do.</p>

<pre class="lang-bash">$ webpack <span class="hljs-tag">&lt;<span class="hljs-title">entry</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">output</span>&gt;</span></pre>

<p>Voc√™ pode definir um arquivo de configura√ß√£o pro comando com a op√ß√£o <code>--config example.config.js</code> se nada for passado o webpack vai procurar um arquivo chamado <code>webpack.config.js</code> onde ele est√° sendo executado (normalmente raiz do projeto) se n√£o achar, vai usar as configura√ß√µes padr√£o, o famoso default.</p>

<h2 id="loaders-e-preloaders">Loaders e preloaders</h2>

<p>O webpack pode executar transforma√ß√µes nos arquivos durante o processo de empacotamento, essas transforma√ß√µes s√£o, por exemplo, nossos famosos pr√©-processadores, React (JSX), Coffee, 6to5, SweetJS, TypeScript&#8230; a lista de <em>loaders</em> j√° prontos √© muito boa e claro, voc√™ pode construir os seus se sentir falta de algum. Tamb√©m tem Less, Sass, Stylus, Jade, Ejs, Mustache, Handlebars, Markdown&#8230; n√£o √© s√≥ pra JavaScript. Em adi√ß√£o aos <em>loaders</em>, voc√™ pode ter plugins, que executam processos mais complexos que as transforma√ß√µes, por exemplo, <strong>UglifyJsPlugin!</strong> Yay!</p>

<h2 id="bora-ver-na-pr-tica">Bora ver na pr√°tica</h2>

<p>Vamos criar um m√≥dulo super √∫til que nunca vi por a√≠ que serve pra deixar as letras de um texto em caixa alta.</p>

<pre class="lang-javascript">// upper.js
module.exports = function(str) {
    return str.toUpperCase();
};
</pre>

<p>Agora a gente chama esse modulo no nosso arquivo de entrada, que n√£o √© necessariamente o principal, por isso a gente n√£o vai chamar de <em>main.js</em> ou <em>app.js.</em></p>

<pre class="lang-javascript">// entry.js
var upper = require('./upper.js');
console.log(upper('test'));
</pre>

<p>Sim! Como puderam perceber, podemos usar o padr√£o CommonJS pra criar nossos m√≥dulos, que √© o mesmo padr√£o usado pelo NodeJS, ent√£o a gente pode usar alguns pacotes do NPM tamb√©m, mesmo num build com target pro browser (m√≥dulo focado para o navegador). Vamos ver o que vai dar isso at√© agora.</p>

<pre class="lang-bash">&gt; webpack entry.js bundle.js</pre>

<p>O comando gera um <em>report</em> simples no console mesmo, aqui ficou:</p>

<pre class="lang-bash">Hash: 0b87391ad5027f171afe
Version: webpack 1.5.3
Time: 310ms
Asset Size Chunks Chunk Names
bundle.js 1706 0 [emitted] main
[0] ./entry.js 63 {0} [built]
[1] ./upper.js 67 {0} [built]
</pre>

<p>Se voc√™ estiver acompanhando na pr√°tica, pode abrir o <em>bundle.js</em> (se j√° n√£o fez isso seguindo o instinto curioso de qualquer dev) e ver como fica o <em>build</em>. Voc√™ vai notar que o <strong>webpack</strong> tem um <em>boilerplate</em> at√© consider√°vel, mas √© √∫til, ele tem um sistema de cache que performa os <em>builds</em>, ele vai saber qual m√≥dulo mudou de verdade ao inv√©s de pegar tudo e <em>buildar</em> tudo de novo.</p>

<pre class="lang-bash">&gt; node bundle.js
TEST
</pre>

<h2 id="react-t-na-moda-vamos-usar-">React t√° na moda, vamos usar.</h2>

<p>Vamos usar um arquivo de configura√ß√£o pra vincular os arquivos <em>.jsx</em> ao Loader certo, o webpack usa RegExp pra testar sobre o nome dos arquivos e vincular a um <em>loader</em> e o arquivo de configura√ß√£o √© um m√≥dulo CommonJS. J√° que estamos usando um arquivo para a configura√ß√£o, vamos por nele qual √© nosso <em>entry</em> e qual √© nosso <em>output</em>. Mas antes, como usaremos m√≥dulos do NPM, vamos inicia-lo em nosso projeto e ter um arquivo declarando essas depend√™ncias, o <em>packages.json</em>.</p>

<pre class="lang-bash">&gt; npm init
&gt; npm install react --save
&gt; npm install jsx-loader --save-dev
</pre>

<p>Nosso arquivo de configura√ß√£o vai ficar assim:</p>

<pre>// webpack.config.js
module.exports = {
    entry: "./entry.jsx",
    output: {
        filename: "bundle.js"
    },
    module: {
        loaders: [
            {test: /\.jsx/, loader: 'jsx-loader'}
        ]
    }
};
</pre>

<p>Agora √© s√≥ rodar o webpack, sem passar nada, ele j√° vai ler nas configura√ß√µes.</p>

<pre>&gt; webpack</pre>

<p>T√° l√°! Voc√™ tem um <em>bundle</em> com React pronto pra web.</p>

<h2 id="concluindo">Concluindo</h2>

<p>Essa foi s√≥ uma introdu√ß√£o e vale ressaltar que o webpack n√£o √© uma alternativa aos <em>tasks managers</em> como Gulp e Grunt (caso algu√©m tenha entendido isso), mas s√≥ com o webpack voc√™ tem um <em>watcher</em> pro <em>build</em> acontecer logo que ele detecta uma altera√ß√£o em um arquivo e o plugin do UglifyJS pra <em>minificar</em> seu <em>build</em>.</p>

<p>Isso a√≠, se ficou alguma d√∫vida, s√≥ chamar üòâ</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

