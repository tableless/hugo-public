
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="http://tableless.com.br/">
  <title>Tableless</title>
  <link rel="canonical" href="http://tableless.com.br/templates-joomla-o-basico-e-relacoes-com-o-wordpress/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">
  
</head>
<body>


  <header id="tb-header">
    <a href="http://tableless.com.br/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/templates-joomla-o-basico-e-relacoes-com-o-wordpress/">Templates Joomla!: o b√°sico e rela√ß√µes com o WordPress</a></h1>
  <p class="tb-hero-p">
    
    Saiba como criar um template b√°sico para o Joomla! e conhe√ßa as rela√ß√µes existentes com os temas do WordPress¬†‚Äî¬†os melhores CMS que existem atualmente.
    
  </p>
      <span class="tb-author">por <a href="/author/wellyson-freitas">Wellyson Freitas</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Ao lado do WordPress, o Joomla! √© sem d√∫vida um dos melhores CMS que existem atualmente. Como o amigo Girlan bem j√° escreveu <a title="Vamos falar de Joomla!?" href="http://tableless.com.br/vamos-falar-de-joomla/" target="_blank">noutro artigo</a>, o Joomla! tem se superado muito a cada vers√£o&nbsp;e, desta perspectiva, torna-se mais que vantajoso ao desenvolvedor front-end dominar a cria√ß√£o de temas tanto para&nbsp;o WordPress quanto para o Joomla!.</p>

<p>A boa not√≠cia √© que se voc√™ j√° sabe&nbsp;criar temas para o WordPress, voc√™ praticamente j√°&nbsp;sabe criar&nbsp;templates para o Joomla! tamb√©m. O objetivo deste artigo, portanto, n√£o √© embarcar naquela velha discuss√£o <del>formada sobre tudo</del> de qual CMS √© o melhor. Estamos mais interessados em criar um template b√°sico (ou sandbox) para o Joomla! observando as rela√ß√µes existentes com&nbsp;o desenvolvimento de temas para o WordPress, despertando, quem sabe, novos joomlers pela comunidade Tableless!&nbsp;<img class="emoji" src="http://s.w.org/images/core/emoji/72x72/1f609.png" alt="üòâ" /></p>

<h2 id="entendendo-o-joomla">Entendendo o Joomla!</h2>

<p>Antes de criar um template para o Joomla!, primeiro precisamos entender, pelo menos superficialmente, como ele funciona.&nbsp;Em suma, podemos dizer que a principal fun√ß√£o do&nbsp;Joomla! √© reunir o conte√∫do armazenado no banco de dados e gerenciado no painel de administra√ß√£o com ACL usando um&nbsp;template para produzir p√°ginas HTML de forma din√¢mica&nbsp;via PHP.</p>

<p>O Joomla! se&nbsp;assemelha ao WordPress em muitos aspectos. O&nbsp;conceito de artigo, por exemplo, se assemelha ao de post do WordPress: √© a forma concebida ao conte√∫do principal armazenado no banco de dados para ser&nbsp;gerenciado no painel de administra√ß√£o. O mesmo vale para os m√≥dulos e widgets, templates e temas, plugins, entre outras semelhan√ßas ‚Äî √© claro que&nbsp;cada CMS apresenta as suas pr√≥prias especificidades, mas, por hora, vamos deixar assim.</p>

<p>Composto basicamente por um framework e suas extens√µes ‚Äî&nbsp;analogamente a&nbsp;um sistema operacional e suas aplica√ß√µes ‚Äî, o diferencial do Joomla! est√° justamente nas extens√µes chamadas de <strong>componentes</strong>, que permitem desenvolver sites de todas as formas e tamanhos&nbsp;atrav√©s de <a title="MVC ‚Äì Afinal, √© o qu√™ ?" href="http://tableless.com.br/mvc-afinal-e-o-que/" target="_blank">arquitetura MVC</a>. No desenvolvimento de templates, s√≥ nos interessa a camada <em>view</em> dos componentes, doravante chamada apenas de &#8220;componente&#8221;.</p>

<p>Vejamos mais sobre as extens√µes&#8230;</p>

<h3 id="as-extens√µes-do-joomla">As extens√µes do Joomla!</h3>

<blockquote>
<p>Uma extens√£o √© um pacote de programa que estende a instala√ß√£o do Joomla! de diferentes maneiras.&nbsp;<cite>Documenta√ß√£o do Joomla!</cite></p>
</blockquote>

<p>Ainda segundo a documenta√ß√£o do Joomla!, as extens√µes podem ser classificadas basicamente em&nbsp;<strong>componentes</strong>, <strong>m√≥dulos</strong>, <strong>plugins</strong> e <strong>templates</strong>. Tamb√©m os idiomas do Joomla! e os pacotes de extens√µes relacionadas, os&nbsp;packages, s√£o consideradas extens√µes, assim como as bibliotecas que fornecem fun√ß√µes que podem ser usadas por outras extens√µes.</p>

<p>O Joomla! possui extens√µes nativas que se mostram&nbsp;suficientes na&nbsp;maioria dos nossos projetos, o que n√£o nos&nbsp;impede de criar as nossas pr√≥prias extens√µes ou usar&nbsp;algumas das&nbsp;<strong>9 mil extens√µes dispon√≠veis</strong> (e aumentando!) no <a title="Diret√≥rio de Extens√µes do Joomla!" href="http://extensions.joomla.org/" target="_blank">JED</a>, o&nbsp;diret√≥rio de extens√µes do Joomla!.</p>

<p>Para conhecer melhor o CMS, voc√™ pode&nbsp;<a title="Download da √∫ltima vers√£o do Joomla!" href="http://www.joomla.org/download.html" target="_blank">baixar a √∫ltima vers√£o do Joomla!</a>&nbsp;e instalar localmente ou <a title="Fazer test-drive r√°pido do Joomla!" href="http://demo.joomla.org/" target="_blank">fazer um test-drive r√°pido no Joomla.org</a>, que gera instantaneamente uma instala√ß√£o remota todinha&nbsp;sua por 90 minutos. Aqui, nos referimos √† vers√£o 3.4.1 do Joomla! e, para compara√ß√£o, √† vers√£o 4.2.2 do WordPress ‚Äî as mais recentes at√© a&nbsp;publica√ß√£o deste artigo.</p>

<p>Sem mais&nbsp;delongas, vamos ao que interessa!</p>

<h2 id="criando-um-template-para-o-joomla">Criando um template para o Joomla!</h2>

<p>Assim como, por padr√£o, os temas do WordPress ficam localizados no diret√≥rio <em>/wp-content/themes/</em>, os templates do Joomla! ficam localizados no diret√≥rio <em>/templates/</em>. Para come√ßar, vamos criar um diret√≥rio chamado &#8220;meunovotemplate&#8221; com a seguinte estrutura b√°sica de arquivos de todo template Joomla!:</p>

<p><img class="alignnone size-full wp-image-49093" src="http://tableless.com.br/wp-content/uploads/2015/05/estrutura-basica-de-arquivos-de-templates-joomla.png" alt="estrutura-basica-de-arquivos-de-templates-joomla" width="283" height="226" /></p>

<p>Adicionamos&nbsp;arquivos <em>index.html</em>&nbsp;em branco no&nbsp;diret√≥rio do template e em seus subdiret√≥rios como&nbsp;medida adicional de seguran√ßa contra a exposi√ß√£o de informa√ß√µes da instala√ß√£o por eventuais tentativas de&nbsp;acesso direto aos&nbsp;diret√≥rios com permiss√µes 775 de FTP ‚Äî equivalente aos arquivos <em>index.php</em>&nbsp;&#8220;silence is golden&#8221; do WordPress.</p>

<h3 id="definindo-as-informa√ß√µes-do-template">Definindo as informa√ß√µes do template</h3>

<p>O arquivo <em>templateDetails.xml</em>&nbsp;√© equivalente aos coment√°rios iniciais do arquivo <em>style.css</em> dos temas do WordPress&nbsp;(stylesheet header). Atrav√©s de XML, s√£o marcadas as informa√ß√µes do template para a instala√ß√£o e, posteriormente, para serem exibidas no Gerenciador de Temas do painel de administra√ß√£o. Veja um&nbsp;exemplo:</p>

<pre class="lang-php">&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;extension version="3.4.1" type="template"&gt;
  &lt;name&gt;Meu novo template&lt;/name&gt;
  &lt;creationDate&gt;25/05/2015&lt;/creationDate&gt;
  &lt;author&gt;Tableless&lt;/author&gt;
  &lt;authorEmail&gt;contato@tableless.com.br&lt;/authorEmail&gt;
  &lt;authorUrl&gt;http://www.tableless.com.br&lt;/authorUrl&gt;
  &lt;copyright&gt;¬© 2015 Tableless. Todos os direitos reservados.&lt;/copyright&gt;
  &lt;license&gt;GNU/GPL&lt;/license&gt;
  &lt;version&gt;1.0&lt;/version&gt;
  &lt;description&gt;Descri√ß√£o do meu novo template.&lt;/description&gt;
  &lt;files&gt;
    &lt;folder&gt;css&lt;/folder&gt;
    &lt;folder&gt;images&lt;/folder&gt;
    &lt;filename&gt;index.php&lt;/filename&gt;
    &lt;filename&gt;templateDetails.xml&lt;/filename&gt;
    &lt;filename&gt;index.html&lt;/filename&gt;
  &lt;/files&gt;
  &lt;positions&gt;
    &lt;position&gt;breadcrumb&lt;/position&gt;
    &lt;position&gt;mainmenu&lt;/position&gt;
    &lt;position&gt;aside&lt;/position&gt;
  &lt;/positions&gt;
&lt;/extension&gt;</pre>

<p>Na primeira linha, informamos&nbsp;a vers√£o <abbr style="cursor: help" title="eXtensible Markup Language">XML</abbr> e o tipo de codifica√ß√£o do arquivo (recomenda-se&nbsp;o uso de&nbsp;<a title="HTML: Encode UTF-8" href="http://tableless.com.br/html-encode-utf-8/" target="_blank">UTF-8</a> sem BOM). Na segunda, informamos&nbsp;a vers√£o da instala√ß√£o do Joomla!&nbsp;e&nbsp;o tipo da extens√£o.&nbsp;A partir da√≠, as tags falam por si mesmas: as tags <code>&lt;name&gt;</code> informam o nome do template, as tags <code>&lt;creationDate&gt;</code> informam a data de cria√ß√£o do template e por a√≠ vai&#8230;</p>

<p>As tags&nbsp;<code>&lt;filemame&gt;</code>&nbsp;e&nbsp;<code>&lt;folder&gt;</code>&nbsp;informam, respectivamente, os arquivos e os diret√≥rios do template. Vale ressaltar que se j√° informamos algum diret√≥rio do template, n√£o precisamos informar os arquivos e subdiret√≥rios contidos nele (tome como exemplo o diret√≥rio para as folhas de estilo, cujos arquivos <em>style.css</em> e <em>index.html</em>&nbsp;contidos nele n√£o&nbsp;informamos&nbsp;diretamente). Assim, os √∫nicos arquivos e diret√≥rios&nbsp;que precisamos informar s√£o os que se encontram <strong>imediatamente</strong> no diret√≥rio que criamos.</p>

<p>J√° as&nbsp;tags <code>&lt;positions&gt;</code> informam os nomes das&nbsp;posi√ß√µes que os m√≥dulos poder√£o ocupar nas p√°ginas do&nbsp;site&nbsp;‚Äî&nbsp;mas ainda n√£o as posi√ß√µes em si, o que definiremos&nbsp;no modelo.</p>

<h3 id="modelo-nbsp-a-nbsp-estrutura-do-nbsp-template">Modelo:&nbsp;a&nbsp;estrutura do&nbsp;template</h3>

<p>Ao contr√°rio do que acontece no&nbsp;WordPress, em que a estrutura de um tema √©&nbsp;dividida em <a title="Hierarquia de arquivos do WordPress" href="http://tableless.com.br/hierarquia-de-arquivos-do-wordpress/" target="_blank">v√°rios arquivos</a>&nbsp;pela funcionalidade, a estrutura de um template do Joomla! normalmente&nbsp;se concentra em apenas um: o <em>index.php</em>. Com ele, n√≥s criamos uma p√°gina gen√©rica para todo o site, isto √©, um <strong>modelo</strong> para todas as p√°ginas espec√≠ficas do site, incluindo declara√ß√µes pr√≥prias&nbsp;do Joomla! que processar√£o o conte√∫do din√¢mico a cada requisi√ß√£o de p√°gina.</p>

<p>Entretanto, e como no WordPress, n√≥s podemos implementar a p√°gina de erros e a do componente (para impress√£o)&nbsp;separadamente&nbsp;em&nbsp;arquivos semelhantes chamados de&nbsp;<em>error.php</em> e <em>component.php</em>, respectivamente, mas aqui nos concentraremos no b√°sico, ok?</p>

<p>O&nbsp;conte√∫do din√¢mico&nbsp;nada mais √© do que o&nbsp;c√≥digo&nbsp;HTML gerado pelo Joomla! para as partes do site que dependem das p√°ginas espec√≠ficas, ou seja, que podem mudar de uma p√°gina para outra. Ele&nbsp;pode ser:</p>

<ul>
<li>o&nbsp;<strong>componente</strong>&nbsp;da p√°gina, isto √©, o conte√∫do principal da p√°gina;</li>
<li>o conte√∫do padr√£o do <strong>elemento <code>&lt;head&gt;</code></strong>&nbsp;da p√°gina, como folhas de estilos, scripts e meta elementos;</li>
<li>os <strong>m√≥dulos</strong>, de acordo com suas configura√ß√µes de visibilidade;</li>
<li>as poss√≠veis&nbsp;<strong>mensagens</strong> de sistema e de erros de&nbsp;requisi√ß√£o de p√°gina.</li>
</ul>

<p>Por exemplo: atrav√©s do Gerenciador de Menus do painel de administra√ß√£o, podemos&nbsp;criar uma p√°gina no menu principal&nbsp;para exibir um √∫nico artigo&nbsp;selecionando a op√ß√£o &#8220;Artigos &gt; √önico Artigo&#8221; (componente nativo de conte√∫do) como o tipo de item de menu. Ao acessar a p√°gina atrav√©s do item correspondente no menu principal, o Joomla! processar√° o c√≥digo HTML daquele componente na parte identificada para o processamento de&nbsp;componente no modelo ‚Äî&nbsp;atrav√©s daquelas declara√ß√µes pr√≥prias&nbsp;do Joomla!. √â assim que criamos p√°ginas simples com o&nbsp;Joomla!.</p>

<p>Ou ainda,&nbsp;atrav√©s do Gerenciador de M√≥dulos, podemos criar um m√≥dulo para ocupar determinada&nbsp;posi√ß√£o&nbsp;nas p√°ginas do site ‚Äî tamb√©m identificada por aquelas declara√ß√µes pr√≥prias&nbsp;do Joomla! no&nbsp;modelo ‚Äî e configurar sua visibilidade ‚Äî o que √© exclusividade dos m√≥dulos&nbsp;‚Äî apenas para a&nbsp;p√°gina inicial. Assim, ao&nbsp;acessar a p√°gina inicial,&nbsp;o Joomla! processar√°&nbsp;o c√≥digo HTML daquele m√≥dulo naquela determinada posi√ß√£o, mas ao&nbsp;acessar as p√°ginas internas, isso n√£o acontecer√°.&nbsp;Em outras palavras, o Joomla! s√≥ &#8220;carregar√°&#8221; o m√≥dulo na p√°gina inicial. Simples, n√£o?</p>

<p>Mas&nbsp;afinal, o que&nbsp;s√£o essas &#8220;declara√ß√µes pr√≥prias do Joomla!&#8221;?</p>

<h3 id="as-declara√ß√µes-jdoc">As declara√ß√µes JDOC</h3>

<p>O Joomla! possui seus pr√≥prios m√©todos de processamento de conte√∫do din√¢mico chamados de&nbsp;<strong>declara√ß√µes JDOC</strong>, que possuem mais ou menos essa cara:</p>

<pre class="lang-php">&lt;jdoc:include type="component" /&gt;</pre>

<p>Nas declara√ß√µes JDOC, o&nbsp;uso das aspas duplas e do espa√ßo antes do fechamento <code>/&gt;</code>&nbsp;√© obrigat√≥rio. Al√©m disso, devemos sempre informar o tipo de conte√∫do din√¢mico a ser processado atrav√©s do atributo <code>type</code>. No exemplo acima, o Joomla! processaria o componente das p√°ginas espec√≠ficas no lugar da declara√ß√£o. Os poss√≠veis valores para o atributo <code>type</code>&nbsp;s√£o:</p>

<h4 id="component">Component</h4>

<p>Deve ser declarado apenas uma vez no elemento <code>&lt;body&gt;</code> do modelo&nbsp;para processar&nbsp;o conte√∫do principal da p√°gina.</p>

<pre class="lang-php">&lt;jdoc:include type="component" /&gt;</pre>

<h4 id="head">Head</h4>

<p>Deve ser declarado apenas uma vez no elemento <code>&lt;head&gt;</code> do&nbsp;modelo&nbsp;para processar seu respectivo conte√∫do padr√£o da p√°gina, como folhas de estilo, scripts e meta elementos.</p>

<pre class="lang-php">&lt;jdoc:include type="head" /&gt;</pre>

<h4 id="message">Message</h4>

<p>Deve ser declarado apenas uma vez no elemento <code>&lt;body&gt;</code> do modelo&nbsp;para processar as poss√≠veis&nbsp;mensagens de sistema e de erros de requisi√ß√£o de p√°gina.</p>

<pre class="lang-php">&lt;jdoc:include type="message" /&gt;</pre>

<h4 id="module-e-modules">Module e modules</h4>

<p>Pode ser declarado v√°rias vezes no&nbsp;modelo&nbsp;para processar&nbsp;os m√≥dulos, de acordo com suas configura√ß√µes de visibilidade. Aqui, tamb√©m √© obrigat√≥rio identificarmos aquelas posi√ß√µes que&nbsp;antecipamos pelo nome no arquivo&nbsp;<em>templateDetails.xml</em> atrav√©s do atributo <code>name</code>.</p>

<p>O tipo <code>module</code> define uma posi√ß√£o&nbsp;do modelo que poder√° ser ocupada por um e apenas um m√≥dulo. Nesse caso, o atributo <code>title</code> se refere ao t√≠tulo atribu√≠do&nbsp;para o m√≥dulo no Gerenciador de M√≥dulos. Veja o&nbsp;exemplo para o m√≥dulo que exibe o menu:</p>

<pre class="lang-php">&lt;jdoc:include type="module" name="mainmenu" title="Menu" /&gt;</pre>

<p>J√° o&nbsp;tipo <code>modules</code> define uma posi√ß√£o mais gen√©rica do modelo que poder√° ser ocupada por v√°rios m√≥dulos ‚Äî&nbsp;como uma sidebar, por exemplo. Nesse caso, o atributo <code>title</code> n√£o √© necess√°rio.</p>

<p>Observe que para <a title="Criando Sidebar Din√¢mica no WordPress" href="http://tableless.com.br/criando-sidebar-dinamica-no-wordpress/" target="_blank">criar&nbsp;uma sidebar din√¢mica&nbsp;no WordPress</a>, normalmente&nbsp;registramos a posi√ß√£o&nbsp;no arquivo <em>functions.php</em> e adicionamos&nbsp;o seguinte trecho em algum lugar do arquivo <em>sidebar.php</em>:</p>

<pre class="lang-php">&lt;div id="sidebar" role="complementary"&gt;
  &lt;?php dynamic_sidebar( 'aside' ); ?&gt;
&lt;/div&gt;</pre>

<p>No&nbsp;Joomla!, para a mesma finalidade, registramos&nbsp;a posi√ß√£o no arquivo <em>templateDetails.xml</em> e adicionamos&nbsp;o seguinte trecho no&nbsp;modelo:</p>

<pre class="lang-php">&lt;aside id="sidebar" role="complementary"&gt;
   &lt;jdoc:include type="modules" name="aside" /&gt;
&lt;/aside&gt;</pre>

<h4 id="resumo-das-declara√ß√µes-jdoc">Resumo das declara√ß√µes JDOC</h4>

<p>Podemos, ent√£o, esquematizar as declara√ß√µes JDOC na seguinte tabela:</p>

<table>
  <tr>
    <th style="text-align: left">
      Tipo
    </th>
    
    <th style="text-align: left">
      Fun√ß√£o
    </th>
  </tr>
  
  <tr>
    <td>
      <code>component</code>
    </td>
    
    <td>
      Carrega o conte√∫do principal da p√°gina.
    </td>
  </tr>
  
  <tr>
    <td>
      <code>head</code>
    </td>
    
    <td>
      Carrega folhas de estilo, scripts e meta elementos padr√µes da p√°gina.
    </td>
  </tr>
  
  <tr>
    <td>
      <code>message</code>
    </td>
    
    <td>
      Carrega, n√£o necessariamente, mensagens de sistema e de erros de requisi√ß√£o de p√°gina.
    </td>
  </tr>
  
  <tr>
    <td>
      <code>module</code>
    </td>
    
    <td>
      Carrega, n√£o necessariamente, um √∫nico m√≥dulo na posi√ß√£o e de t√≠tulo atribu√≠dos.
    </td>
  </tr>
  
  <tr>
    <td>
      <code>modules</code>
    </td>
    
    <td>
      Carrega, n√£o necessariamente, um ou v√°rios m√≥dulos na posi√ß√£o atribu√≠da.
    </td>
  </tr>
</table>

<h3 id="modelo-b√°sico">Modelo b√°sico</h3>

<p>Apresentadas as declara√ß√µes JDOC, j√° podemos implementar um&nbsp;modelo b√°sico com&nbsp;marca√ß√£o sem√¢ntica sugerida:</p>

<pre class="lang-php">&lt;?php defined('_JEXEC') or die('Acesso restrito!'); ?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="&lt;?php echo $this-&gt;language; ?&gt;"&gt;
&lt;head&gt;
  &lt;jdoc:include type="head" /&gt;
  &lt;link rel="stylesheet" href="&lt;?php echo $this-&gt;baseurl; ?&gt;/templates/&lt;?php echo $this-&gt;template; ?&gt;/css/style.css" type="text/css" /&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;header&gt;
    &lt;h1&gt;&lt;?php echo $this-&gt;title; ?&gt;&lt;/h1&gt;
    &lt;nav&gt;&lt;jdoc:include type="module" name="mainmenu" title="Menu" /&gt;&lt;/nav&gt;
  &lt;/header&gt;
  &lt;section id="content"&gt;
     &lt;article role="main"&gt;
       &lt;jdoc:include type="message" /&gt;
       &lt;jdoc:include type="component" /&gt;
     &lt;/article&gt;
     &lt;aside role="complementary"&gt;
       &lt;jdoc:include type="modules" name="aside" /&gt;
     &lt;/aside&gt;
  &lt;/section&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

<h4 id="prote√ß√£o-contra-acesso-direto">Prote√ß√£o contra acesso direto</h4>

<p>Na primeira linha, protegemos o arquivo contra o acesso direto. Funciona assim: o&nbsp;Joomla! define uma constante chamada <strong>_JEXEC</strong> que marca uma entrada segura de acesso aos arquivos atrav√©s do <em>/index.php</em>&nbsp;na raiz da instala√ß√£o; se, portanto, o arquivo&nbsp;<em>/templates/meunovotemplate/index.php</em>&nbsp;for&nbsp;acessado diretamente, o Joomla! verificar√° que a constante n√£o foi definida e&nbsp;n√£o exibir√° informa√ß√µes em mensagens de erros que muito provavelmente ocorrer√£o&nbsp;e&nbsp;que podem expor a instala√ß√£o para mal-intencionados de plant√£o ‚Äî √© exibida a mensagem &#8220;Acesso restrito!&#8221; que definimos.</p>

<p>Com o&nbsp;WordPress&nbsp;√© quase a mesma coisa: a diferen√ßa √© que a&nbsp;constante&nbsp;se chama&nbsp;<strong>ABSPATH</strong> e √©&nbsp;definida mais especificamente no arquivo <em>/wp-load.php</em> (o <em>/index.php</em> inclui o <em>/wp-blog-header.php</em>, que por sua vez inclui o <em>/wp-load.php</em>&nbsp;‚Äî todos na raiz da instala√ß√£o). A n√≠vel de curiosidade, aqui no Tableless n√£o exibimos nenhuma mensagem para as tentativas de acesso direto aos arquivos.</p>

<h4 id="processando-mais-nbsp-conte√∫do-din√¢mico">Processando mais&nbsp;conte√∫do din√¢mico</h4>

<p>Na&nbsp;terceira&nbsp;linha, definimos o idioma da p√°gina dinamicamente&nbsp;com o trecho&nbsp;<code>&lt;?php echo $this-&gt;language; ?&gt;</code>, que retorna via PHP o c√≥digo HTML do idioma definido para&nbsp;o site no Gerenciador de Idiomas do painel de administra√ß√£o.&nbsp;Tamb√©m utilizamos essa t√©cnica para informar o endere√ßo da folha de estilo <em>style.css</em>:</p>

<pre class="lang-php">&lt;link rel="stylesheet" href="<strong>&lt;?php echo $this-&gt;baseurl; ?&gt;</strong>/templates/<strong>&lt;?php echo $this-&gt;template; ?&gt;</strong>/css/style.css" type="text/css" /&gt;</pre>

<p>Assim, al√©m das declara√ß√µes JDOC, o Joomla! tamb√©m processa essas&nbsp;propriedades do site dispon√≠veis a partir do template, o que&nbsp;minimiza a sua manuten√ß√£o ‚Äî&nbsp;j√° que n√£o precisamos ficar editando o modelo toda vez que mudarmos&nbsp;o t√≠tulo&nbsp;do site, ou o dom√≠nio, idioma, etc. Os nomes para retornar as propriedades mais importantes s√£o:</p>

<ul>
<li><strong>baseurl:</strong>&nbsp;o dom√≠nio do&nbsp;site (ex.: <a href="http://www.tableless.com.br">http://www.tableless.com.br</a>);</li>
<li><strong>language:</strong>&nbsp;o c√≥digo HTML do idioma definido para o site&nbsp;(ex.: pt-br);</li>
<li><strong>template:</strong>&nbsp;o nome do diret√≥rio do template atual&nbsp;do site (ex.: meunovotemplate);</li>
<li><strong>title:</strong>&nbsp;o t√≠tulo do site;</li>
<li><strong>description:</strong>&nbsp;a descri√ß√£o do site.</li>
</ul>

<p><a title="Propriedades do site Joomla! dispon√≠veis a partir do template" href="https://docs.joomla.org/Objects,_methods_and_properties_available_from_your_template" target="_blank">Consulte a lista completa das propriedades dispon√≠veis</a>.</p>

<p>Observe que as declara√ß√µes JDOC somadas a&nbsp;essas propriedades&nbsp;est√£o para os templates do Joomla! assim como as <strong>template tags</strong>&nbsp;est√£o para os temas do WordPress. Bacana, n√©?</p>

<h3 id="componente-s√≥-nas-p√°ginas-internas">Componente s√≥ nas p√°ginas internas</h3>

<p>Podemos ainda fazer com que o Joomla! processe apenas o componente das p√°ginas internas&nbsp;com o aux√≠lio de um m√≥dulo. O truque √© definir sua visibilidade&nbsp;apenas para a&nbsp;p√°gina inicial&nbsp;e&nbsp;da√≠, atrav√©s de operadores condicionais e do&nbsp;m√©todo <code>int countModules( $condition )</code>, que verifica a visibilidade do m√≥dulo na p√°gina, controlamos manualmente o que carregar na p√°gina inicial e o que carregar nas p√°ginas internas. Segue uma sugest√£o de c√≥digo:</p>

<pre class="lang-php">&lt;article role="main"&gt;

  &lt;!-- conte√∫do exibido em todas as p√°ginas --&gt;

  &lt;?php if ($this-&gt;countModules( 'slideshow' )) :
  // se o m√≥dulo estiver vis√≠vel na p√°gina ?&gt;

  &lt;div id="home"&gt;
    &lt;jdoc:include type="module" name="slideshow" title="Slideshow" /&gt;
    &lt;!-- conte√∫do exibido somente na p√°gina inicial --&gt;
  &lt;/div&gt;

  &lt;?php endif; ?&gt;
  &lt;?php if (!$this-&gt;countModules( 'slideshow' )) :
  // se o m√≥dulo n√£o estiver vis√≠vel na p√°gina ?&gt;

  &lt;div id="inner"&gt;
    &lt;jdoc:include type="component" /&gt;
    &lt;!-- conte√∫do exibido somente nas p√°ginas internas --&gt;
  &lt;/div&gt;

  &lt;?php endif; ?&gt;

&lt;/article&gt;</pre>

<p>No exemplo acima, com a&nbsp;configura√ß√£o de visibilidade&nbsp;do m√≥dulo &#8220;slideshow&#8221; apenas para&nbsp;a p√°gina inicial, o componente da p√°gina inicial n√£o ser√° processado quando ela for&nbsp;acessada ‚Äî embora o back-end do Joomla! ainda entenda que a p√°gina inicial se refere √†quele&nbsp;componente. Mas lembre-se: a p√°gina inicial √© a principal p√°gina do seu site e o componente, seu principal conte√∫do. Pelo que voc√™ iria substitu√≠-lo? Ser√° que o Google e os seus coleguinhas iriam gostar?</p>

<h2 id="instalando-o-template-no-joomla">Instalando o template no Joomla!</h2>

<p>Existem quatro&nbsp;formas de instalar extens√µes no Joomla!: pelo JED, enviando um pacote de arquivos, a partir do diret√≥rio da instala√ß√£o ou&nbsp;a partir de um URL. Em&nbsp;nosso caso, optaremos por enviar&nbsp;um pacote de arquivos: √© s√≥ compactar o conte√∫do do diret√≥rio do template&nbsp;(<em>.zip</em>, <em>.tar.gz</em> ou <em>tar.bz2</em>) e fazer o upload no Joomla! pelo Gerenciador de Extens√µes do painel de administra√ß√£o:</p>

<p><a href="http://tableless.com.br/wp-content/uploads/2015/05/instalacao-de-extensoes-no-joomla.png"><img class="alignnone size-full wp-image-48873" src="http://tableless.com.br/wp-content/uploads/2015/05/instalacao-de-extensoes-no-joomla.png" alt="Instala√ß√£o de extens√µes no Joomla!" width="900" height="500" /></a></p>

<p>Os arquivos e subdiret√≥rios do template ser√£o colocados em um diret√≥rio com o mesmo nome do arquivo compactado em <em>/templates/</em>. Al√©m disso,&nbsp;o template ser√° listado no Gerenciador de Temas ‚Äî com aquelas informa√ß√µes que informamos no arquivo&nbsp;<em>templateDetails.xml&nbsp;‚Äî,</em>&nbsp;em que&nbsp;deve ser definido&nbsp;como <strong>tema padr√£o do site</strong>.</p>

<p>Ap√≥s a instala√ß√£o, voc√™ ainda pode continuar editando&nbsp;o seu template sem nenhum problema. Considere, por exemplo, adicionar um script ao site: crie&nbsp;diretamente um diret√≥rio&nbsp;para scripts no diret√≥rio do template instalado&nbsp;(e n√£o esque√ßa do <em>index.html</em> em branco), informe-os no respectivo&nbsp;<em>templatesDetails.xml</em> (como boa pr√°tica), adicione-os ao modelo&nbsp;e pronto!</p>

<p>Go ahead!&nbsp;Voc√™ √© livre para editar o template e conferir o resultado em tempo real ‚Äî inclusive editar a gera√ß√£o do c√≥digo HTML pelo Joomla! para o conte√∫do din√¢mico com <strong>overrides</strong>, mas isso √© assunto de&nbsp;outro artigo.</p>

<h2 id="conclus√£o">Conclus√£o</h2>

<p>A cria√ß√£o de&nbsp;um template b√°sico para o Joomla!, como se v√™, n√£o&nbsp;√© nenhuma novidade para quem j√° desenvolve temas para o WordPress.&nbsp;√â claro que esta √©&nbsp;apenas uma introdu√ß√£o aos templates do&nbsp;Joomla! e n√£o aborda&nbsp;tudo o que podemos fazer. Podemos, por exemplo, manipular o conte√∫do din√¢mico do elemento <code>&lt;head&gt;</code>&nbsp;(como retirar scripts padr√µes desnecess√°rios em alguns casos),&nbsp;definir par√¢metros para&nbsp;o template configur√°veis pelo&nbsp;painel de administra√ß√£o (como nos temas do WordPress a partir da vers√£o 3.4), permitir a mudan√ßa de&nbsp;idioma do pr√≥prio modelo (para sites multil√≠ngues) e muito mais! Aqui, por√©m, nos contentamos com a&nbsp;cria√ß√£o de um template que voc√™ poder√° usar como base em&nbsp;seus pr√≥ximos projetos com o Joomla!.</p>

<p><a href="http://tableless.com.br/wp-content/uploads/2015/05/template.zip">Baixe o template</a>.</p>

<p>E at√© a pr√≥xima pessoal!</p>

<h3 id="refer√™ncias">Refer√™ncias</h3>

<ul>
<li><a title="Documenta√ß√£o do Joomla!" href="http://docs.joomla.org" target="_blank">Documenta√ß√£o do Joomla!</a></li>
<li><a title="Documenta√ß√£o do WordPress" href="http://codex.wordpress.org" target="_blank">Documenta√ß√£o do WordPress</a></li>
</ul>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

