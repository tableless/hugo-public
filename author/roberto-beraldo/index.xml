<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Roberto Beraldo on Tableless</title>
    <link>http://tableless.com.br/author/roberto-beraldo/index.xml</link>
    <description>Recent content in Roberto Beraldo on Tableless</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt-br</language>
    <atom:link href="http://tableless.com.br/author/roberto-beraldo/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>10 Dicas Simples Para Acelerar Seu Site Até 278 Vezes</title>
      <link>http://tableless.com.br/10-dicas-simples-para-acelerar-seu-site-ate-278-vezes/</link>
      <pubDate>Sat, 07 Nov 2015 00:00:00 +0000</pubDate>
      
      <guid>http://tableless.com.br/10-dicas-simples-para-acelerar-seu-site-ate-278-vezes/</guid>
      <description>

&lt;p&gt;Seu site é veloz?&lt;/p&gt;

&lt;p&gt;Você sabia que, quanto mais veloz for seu site, mais satisfeito seu visitante vai ficar?&lt;/p&gt;

&lt;p&gt;Isso é o que apontam algumas pesquisas realizadas pela &lt;em&gt;Akamai&lt;/em&gt; e pela &lt;em&gt;Gomez.com&lt;/em&gt;. Elas demonstraram que a satisfação do seu visitante com o seu site decai em 16% a cada 1 segundo a mais que ele aguarda pelo carregamento da página.&lt;/p&gt;

&lt;p&gt;As pesquisas também concluíram que os usuários esperam que os sites carreguem em 2 segundos ou menos, sendo que eles abandonariam páginas que levassem mais de 3 segundos para carregar.&lt;/p&gt;

&lt;p&gt;E ainda: 79% dos clientes que tiveram problemas com o desempenho de um site não voltariam a fazer negócio. E 44% deles contariam aos amigos sobre a má experiência.&lt;/p&gt;

&lt;p&gt;Por isso, o tempo de carregamento das páginas é extremamente importante. Pode ser uma das chaves para seu negócio dar certo de verdade e atrair clientes.&lt;/p&gt;

&lt;p&gt;Velocidade de carregamento é fundamental em qualquer site. E é o critério que mais pesa nas avaliações feitas por usuários.&lt;/p&gt;

&lt;p&gt;Afinal, ninguém poderá avaliar o &lt;em&gt;design&lt;/em&gt; do site ou seu conteúdo antes dele carregar completamente.&lt;/p&gt;

&lt;p&gt;O grande problema é que muitos desenvolvedores focam muito em &lt;em&gt;design&lt;/em&gt; e em conteúdo, deixando o desempenho em segundo plano. Muitas vezes, perdem alguns segundos de carregamento em prol de um efeito visual.&lt;/p&gt;

&lt;p&gt;Pense que seu visitante é um cliente fiel, que voltará inúmeras vezes ao seu site. Mas ele só fará isso se o site for rápido e confiável.&lt;/p&gt;

&lt;p&gt;Por isso separei aqui 10 dicas simples, focadas em banco de dados, para você otimizar o carregamento das páginas do seu site.&lt;/p&gt;

&lt;div id=&#34;attachment_51733&#34; style=&#34;width: 510px&#34; class=&#34;wp-caption aligncenter&#34;&gt;
  &lt;img class=&#34;size-full wp-image-51733&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2015/10/1909270-many-cars-are-driving-at-night-on-a-highway-and-create-light-trails.jpg&#34; alt=&#34;O mundo se move rápido. Seu site deve fazer o mesmo&#34; width=&#34;500&#34; height=&#34;248&#34; /&gt;
  
  &lt;p class=&#34;wp-caption-text&#34;&gt;
    &lt;em&gt;O mundo se move rápido. Seu site deve fazer o mesmo&lt;/em&gt;
  &lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;selecione-apenas-os-campos-que-realmente-vai-usar&#34;&gt;1. Selecione Apenas os Campos que Realmente Vai Usar&lt;/h2&gt;

&lt;p&gt;É muito comum vermos consultas como &lt;code&gt;SELECT * FROM tabela&lt;/code&gt;. O asterisco (&lt;code&gt;*&lt;/code&gt;) vai trazer todas as colunas da tabela. Mas nem sempre precisamos de todas elas.&lt;/p&gt;

&lt;p&gt;Muitas vezes, temos uma tabela com 20, 50 ou até 100 ou mais colunas. Serão raros os casos em que você precisará de todas elas.&lt;/p&gt;

&lt;p&gt;Por isso sempre defina quais campos quer selecionar.&lt;/p&gt;

&lt;h2 id=&#34;modele-corretamente-o-banco-de-dados&#34;&gt;2. Modele Corretamente o Banco de Dados&lt;/h2&gt;

&lt;p&gt;Esta dica parece bem óbvia, mas o fato é que a maioria dos problemas com desempenho são devido à modelagem errada dos bancos de dados.&lt;/p&gt;

&lt;p&gt;Um simples exemplo que vejo com muita frequência é, salvar diversas informações como dados pessoais e financeiros na mesma coluna de uma tabela.&lt;/p&gt;

&lt;p&gt;Outro exemplo é, salvar em um único campo os valores selecionados em &lt;em&gt;checkboxes&lt;/em&gt;. Alguns programadores pegam todos os valores e os armazenam separados por vírgula em um único campo. Quando o usuário decide atualizar ou remover uma opção, o programador deve escrever linhas e mais linhas para separar os valores, comparar e depois unir de novo.&lt;/p&gt;

&lt;p&gt;Modelagem errada prejudica o banco de dados, o programador, que precisará escrever mais códigos. e, principalmente, o desempenho da aplicação, que precisará processar todo esse código em excesso.&lt;/p&gt;

&lt;p&gt;Modelagem de dados é a primeira fase do desenvolvimento. Estruture bem seu banco de dados antes mesmo de começar a escrever seus códigos.&lt;/p&gt;

&lt;h2 id=&#34;use-a-cláusula-limit&#34;&gt;3. Use a Cláusula &lt;code&gt;LIMIT&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Outra vez, parece uma dica óbvia. Até demais.&lt;/p&gt;

&lt;p&gt;Porém, por incrível que pareça, tem muita gente por aí que não faz isso.&lt;/p&gt;

&lt;p&gt;Imagine um site ou blog que exibe apenas 10 registros por página. O correto é usar &lt;code&gt;LIMIT&lt;/code&gt; para trazer apenas esses 10.&lt;/p&gt;

&lt;p&gt;Já vi códigos sem esse &lt;code&gt;LIMIT&lt;/code&gt;, que buscam diversos registros e pegam, via programação, apenas os 10 primeiros.&lt;/p&gt;

&lt;div id=&#34;attachment_51740&#34; style=&#34;width: 505px&#34; class=&#34;wp-caption aligncenter&#34;&gt;
  &lt;img class=&#34;size-full wp-image-51740&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2015/10/usuaio-impaciente.jpg&#34; alt=&#34;Esse cliente você já perdeu&#34; width=&#34;495&#34; height=&#34;309&#34; /&gt;
  
  &lt;p class=&#34;wp-caption-text&#34;&gt;
    &lt;em&gt;Esse cliente você já perdeu&lt;/em&gt;
  &lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;faça-cache-das-consultas&#34;&gt;4. Faça &lt;em&gt;Cache&lt;/em&gt; das Consultas&lt;/h2&gt;

&lt;p&gt;As consultas mais rápidas são aquelas não executadas.&lt;/p&gt;

&lt;p&gt;Explico.&lt;/p&gt;

&lt;p&gt;Sempre que você executa uma consulta SQL, uma determinada quantidade de recursos do servidor é usada, além do tempo gasto, é claro.&lt;/p&gt;

&lt;p&gt;Por isso, uma ótima opção para sites grandes e com muito tráfego é criar &lt;em&gt;cache&lt;/em&gt; de dados, evitando que algumas consultas SQL frequentes sejam executadas pelo SGBD.&lt;/p&gt;

&lt;p&gt;Há diversas ferramentas para isso, como, por exemplo, AdoDB e Memcached.&lt;/p&gt;

&lt;h2 id=&#34;não-execute-consultas-dentro-de-loops&#34;&gt;5. Não Execute Consultas Dentro de &lt;em&gt;Loops&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;O velho &lt;a href=&#34;http://rberaldo.com.br/o-problema-do-n-mais-1/&#34; target=&#34;_blank&#34;&gt;&lt;strong&gt;Problema do N + 1&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Imagine esta situação: um site de artigos, com uma tabela de usuários e outra de artigos, que possui um campo que relaciona o artigo com seu autor.&lt;/p&gt;

&lt;p&gt;Se precisar listar os autores e os títulos de seus respectivos posts, alguns programadores fariam o seguinte:&lt;/p&gt;

&lt;ol type=&#34;1&#34;&gt;
  &lt;li&gt;
    Selecionar todos os usuários: &lt;code&gt;SELECT id, nome FROM usuarios;&lt;/code&gt;
  &lt;/li&gt;
  &lt;li&gt;
    Para cada usuário, buscar seus posts: &lt;code&gt;SELECT titulo FROM posts WHERE user_id = id_do_usuario;&lt;/code&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;A segunda consulta seria executada &lt;code&gt;N&lt;/code&gt; vezes, sendo &lt;code&gt;N&lt;/code&gt; o número total de usuários.&lt;/p&gt;

&lt;p&gt;Ou seja, total de consultas seria &lt;code&gt;N + 1&lt;/code&gt; (&lt;code&gt;N&lt;/code&gt; consultas de posts mais uma consulta para a lista de usuários).&lt;/p&gt;

&lt;p&gt;Porém, bastariam duas consultas ou mesmo um simples &lt;code&gt;JOIN&lt;/code&gt; para resolver o problema, o que pode trazer um ganho de desempenho &lt;a href=&#34;http://rberaldo.com.br/o-problema-do-n-mais-1/&#34; target=&#34;_blank&#34;&gt;de até 13 Vezes&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Explico o &lt;strong&gt;Problema do N + 1&lt;/strong&gt; em mais detalhes &lt;a href=&#34;http://rberaldo.com.br/o-problema-do-n-mais-1/&#34; target=&#34;_blank&#34;&gt;neste artigo&lt;/a&gt;.&lt;/p&gt;

&lt;div id=&#34;attachment_51745&#34; style=&#34;width: 510px&#34; class=&#34;wp-caption aligncenter&#34;&gt;
  &lt;img class=&#34;size-full wp-image-51745&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2015/10/seo-slow-loading11.jpg&#34; alt=&#34;De olho no relógio!&#34; width=&#34;500&#34; height=&#34;333&#34; /&gt;
  
  &lt;p class=&#34;wp-caption-text&#34;&gt;
    &lt;em&gt;De olho no relógio!&lt;/em&gt;
  &lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;use-joins-em-vez-de-sub-consultas&#34;&gt;6. Use &lt;code&gt;JOIN&lt;/code&gt;s em Vez de Sub-Consultas&lt;/h2&gt;

&lt;p&gt;Quando programamos, usar sub-consultas é algo simples, lógico e funcional, como neste exemplo:&lt;/p&gt;

&lt;pre class=&#34;sourceCode sql&#34;&gt;&lt;code class=&#34;sourceCode sql&#34;&gt;&amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; usuarios.id,
       (
        &amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; &amp;lt;span class=&#34;fu&#34;&gt;MAX&amp;lt;/span&gt;(data_criacao)
               &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; posts
               &amp;lt;span class=&#34;kw&#34;&gt;WHERE&amp;lt;/span&gt; usuario_id = usuarios.id
       ) &amp;lt;span class=&#34;kw&#34;&gt;AS&amp;lt;/span&gt; ultimo_post
       &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; usuarios u&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Embora sub-consultas sejam úteis, usar &lt;code&gt;JOIN&lt;/code&gt; é igualmente funcional e mais rápido.&lt;/p&gt;

&lt;p&gt;A consulta anterior pode ser transformada nesta:&lt;/p&gt;

&lt;pre class=&#34;sourceCode sql&#34;&gt;&lt;code class=&#34;sourceCode sql&#34;&gt;&amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; a.id, &amp;lt;span class=&#34;fu&#34;&gt;MAX&amp;lt;/span&gt;(p.data_criacao) &amp;lt;span class=&#34;kw&#34;&gt;AS&amp;lt;/span&gt; ultimo_post
       &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; usuarios u
       &amp;lt;span class=&#34;kw&#34;&gt;INNER&amp;lt;/span&gt; &amp;lt;span class=&#34;kw&#34;&gt;JOIN&amp;lt;/span&gt; posts p &amp;lt;span class=&#34;kw&#34;&gt;ON&amp;lt;/span&gt; (u.id = p.usuario_id)
       &amp;lt;span class=&#34;kw&#34;&gt;GROUP&amp;lt;/span&gt; &amp;lt;span class=&#34;kw&#34;&gt;BY&amp;lt;/span&gt; u.id&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;use-unions-em-vez-de-ors&#34;&gt;7. Use &lt;code&gt;UNION&lt;/code&gt;s ao invés de &lt;code&gt;OR&lt;/code&gt;s&lt;/h2&gt;

&lt;p&gt;A seguinte consulta utiliza a cláusula &lt;code&gt;OR&lt;/code&gt; para filtrar os registros:&lt;/p&gt;

&lt;pre class=&#34;sourceCode sql&#34;&gt;&lt;code class=&#34;sourceCode sql&#34;&gt;&amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; * 
      &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; tabela1, tabela2
      &amp;lt;span class=&#34;kw&#34;&gt;WHERE&amp;lt;/span&gt; tabela1.p = tabela2.q 
            &amp;lt;span class=&#34;kw&#34;&gt;OR&amp;lt;/span&gt; tabela1.x = tabela2.y;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A cláusula &lt;code&gt;UNION&lt;/code&gt; permite combinar os resultados de dois ou mais &lt;code&gt;SELECT&lt;/code&gt;s.&lt;/p&gt;

&lt;p&gt;A seguinte consulta, usando &lt;code&gt;UNION&lt;/code&gt;, vai trazer os mesmos resultados que a consulta anterior, sendo mais rápida:&lt;/p&gt;

&lt;pre class=&#34;sourceCode sql&#34;&gt;&lt;code class=&#34;sourceCode sql&#34;&gt;&amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; *
      &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; tabela1, tabela2 
      &amp;lt;span class=&#34;kw&#34;&gt;WHERE&amp;lt;/span&gt; tabela1.p = tabela2.q
&amp;lt;span class=&#34;kw&#34;&gt;UNION&amp;lt;/span&gt;
&amp;lt;span class=&#34;kw&#34;&gt;SELECT&amp;lt;/span&gt; * 
      &amp;lt;span class=&#34;kw&#34;&gt;FROM&amp;lt;/span&gt; tabela1, tabela2 
      &amp;lt;span class=&#34;kw&#34;&gt;WHERE&amp;lt;/span&gt; tabela1.x = tabela2.y&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;utilize-índices&#34;&gt;8. Utilize Índices&lt;/h2&gt;

&lt;p&gt;Índices de banco de dados são como índices de bibliotecas. Eles permitem ao banco de dados encontrar os resultados sem perder tempo olhando registro por registro. Assim como um leitor olha o índice da biblioteca e encontra um livro com mais facilidade e rapidez.&lt;/p&gt;

&lt;p&gt;Sempre crie índices em suas tabelas, indexando os campos que são frequentemente consultados.&lt;/p&gt;

&lt;h2 id=&#34;otimize-as-tabelas-do-banco-de-dados&#34;&gt;9. Otimize as Tabelas do Banco de Dados&lt;/h2&gt;

&lt;p&gt;Alguns SGBDs, como o MySQL, possuem ferramentas nativas para otimização de seus dados.&lt;/p&gt;

&lt;p&gt;Se suas tabelas são frequentemente modificadas, recebendo novos dados e removendo outros, pode ser interessante rodar uma otimização com certa frequência, para tornar as tabelas menores e mais rápidas.&lt;/p&gt;

&lt;p&gt;A otimização toma um certo tempo para ser executada, por isso, é recomendável agendá-la para madrugadas ou para horários quando seu sistema tem pouco uso.&lt;/p&gt;

&lt;p&gt;Para o MySQL, um simples exemplo de otimização pode ser feito com esta consulta:&lt;/p&gt;

&lt;pre class=&#34;sourceCode sql&#34;&gt;&lt;code class=&#34;sourceCode sql&#34;&gt;OPTIMIZE &amp;lt;span class=&#34;kw&#34;&gt;TABLE&amp;lt;/span&gt; nome_da_tabela;&lt;/code&gt;&lt;/pre&gt;

&lt;div id=&#34;attachment_51742&#34; style=&#34;width: 646px&#34; class=&#34;wp-caption aligncenter&#34;&gt;
  &lt;img class=&#34;size-full wp-image-51742&#34; src=&#34;http://tableless.com.br/wp-content/uploads/2015/10/foguete.jpg&#34; alt=&#34;Site rápido como foguete: desempenho até 278 Vezes maior&#34; width=&#34;636&#34; height=&#34;301&#34; /&gt;
  
  &lt;p class=&#34;wp-caption-text&#34;&gt;
    &lt;em&gt;Site rápido como foguete: desempenho até 278 Vezes maior&lt;/em&gt;
  &lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;use-um-servidor-de-busca&#34;&gt;10. Use um Servidor de Busca&lt;/h2&gt;

&lt;p&gt;Todas as dicas anteriores são válidas e trazem um certo ganho de desempenho.&lt;/p&gt;

&lt;p&gt;Mas já imaginou conseguir ganhos de desempenho de &lt;a href=&#34;http://buscasupersonica.com.br&#34; target=&#34;_blank&#34;&gt;Até 278 Vezes&lt;/a&gt;?!&lt;/p&gt;

&lt;p&gt;Esse é o ganho que podemos conseguir com um Servidor de Busca como o ElasticSearch.&lt;/p&gt;

&lt;p&gt;O ElasticSearch permite armazenar dados de forma otimizada para buscas extremamente rápidas.&lt;/p&gt;

&lt;p&gt;Se o seu sistema faz muitos &lt;code&gt;SELECT&lt;/code&gt;s, o ElasticSearch pode trazer &lt;a href=&#34;http://buscasupersonica.com.br&#34; target=&#34;_blank&#34;&gt;ganhos fenomenais em desempenho&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Veja &lt;a href=&#34;http://buscasupersonica.com.br&#34; target=&#34;_blank&#34;&gt;Neste Vídeo&lt;/a&gt; algumas dicas para Acelerar o Seu Site Até 278 Vezes!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>10 novidades do PHP 7</title>
      <link>http://tableless.com.br/10-novidades-do-php-7/</link>
      <pubDate>Tue, 29 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://tableless.com.br/10-novidades-do-php-7/</guid>
      <description>

&lt;p&gt;O PHP 7 está prestes a ser lançada oficialmente, até o final deste ano de 2015.&lt;/p&gt;

&lt;p&gt;A versão &lt;em&gt;Release Candidate&lt;/em&gt; (RC) do PHP 7 foi lançada no dia 21 de agosto. Sendo uma versão RC, não haverá implementações novas no PHP 7.0, apenas correções de bugs.&lt;/p&gt;

&lt;p&gt;Vou apresentar aqui algumas novidades e recursos novos desta versão do PHP.&lt;/p&gt;

&lt;h2 id=&#34;1-desempenho-fantástico&#34;&gt;1. Desempenho Fantástico&lt;/h2&gt;

&lt;p&gt;O PHP 7 teve seu motor remodelado. Com isso, houve um grande ganho de desempenho.&lt;/p&gt;

&lt;p&gt;Em alguns casos, é possível alcançar &lt;a href=&#34;http://rberaldo.com.br/php-7-9-vezes-mais-rapido-que-php-5-6/&#34; target=&#34;_blank&#34;&gt;até 9 vezes mais velocidade&lt;/a&gt;. Mas esse número pode variar conforme a plataforma e a aplicação utilizada nos testes.&lt;/p&gt;

&lt;p&gt;Eu utilizei o script para benchmark criado pela própria equipe do PHP, disponibilizado junto com o código-fonte da linguagem. Em comparação com a versão 5.6, consegui aproximadamente 9 vezes mais velocidade usando o PHP 7. Expliquei esse teste com mais detalhes &lt;a href=&#34;http://rberaldo.com.br/php-7-9-vezes-mais-rapido-que-php-5-6/&#34; target=&#34;_blank&#34;&gt;neste meu artigo&lt;/a&gt;.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;MySQL Removido&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Desde o PHP 5.5, &lt;a href=&#34;http://PS: funções mysql_* estão obsoletas desde o PHP 5.5  e já foram removidas no PHP 7. Prefira usar MySQLi ou PDO. Veja mais aqui: http://www.ultimatephp.com.br/php-por-que-nao-utilizar-funcoes-mysql&#34; target=&#34;_blank&#34;&gt;as funções mysql_* eram consideradas obsoletas&lt;/a&gt;. Ou seja, tudo indicava que elas seriam removidas em um futuro bem próximo.&lt;/p&gt;

&lt;p&gt;Pois bem. A hora chegou.&lt;/p&gt;

&lt;p&gt;No PHP 7, as funções mysql_* (como mysql_connect(), mysql_query() e outras) deixaram de existir. Agora é preciso utilizar MySQLi ou PDO.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.ultimatephp.com.br/como-usar-pdo-com-banco-de-dados-mysql/&#34; target=&#34;_blank&#34;&gt;Recomendo utilizar PDO&lt;/a&gt;, por ser mais robusta e ser independente de SGBD.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Funções ereg_* Removidas&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Além das funções mysql_*, as funções ereg_* e eregi_* (como ereg(), ereg_replace, eregi() e outras) eram consideradas obsoletas desde o PHP 5.3.&lt;/p&gt;

&lt;p&gt;Elas também foram removidas no PHP 7.&lt;/p&gt;

&lt;p&gt;Agora é preciso usar as funções preg_*, da &lt;a href=&#34;http://php.net/manual/pt_BR/book.pcre.php&#34; target=&#34;_blank&#34;&gt;biblioteca PCRE&lt;/a&gt;, como preg_match e preg_replace.&lt;/p&gt;

&lt;p&gt;As funções preg_* exigem delimitadores. Consequentemente, é possível utilizar &lt;a href=&#34;http://php.net/manual/pt_BR/reference.pcre.pattern.modifiers.php&#34; target=&#34;_blank&#34;&gt;modificadores&lt;/a&gt;, como &amp;#8220;i&amp;#8221; e &amp;#8220;u&amp;#8221;. O &amp;#8220;i&amp;#8221;, por exemplo, significa case-insensitive. Ou seja, se você usava eregi_*, passará a usar preg_*, sempre com o modificador &amp;#8220;i&amp;#8221;.&lt;/p&gt;

&lt;h2 id=&#34;3-erros-fatais-e-exceções&#34;&gt;3. Erros Fatais e Exceções&lt;/h2&gt;

&lt;p&gt;No PHP 7, erros fatais passaram a ser Exceções. Isso quer dizer que eles podem ser tratados em bloco try/catch, sem interromper a execução do script.&lt;/p&gt;

&lt;p&gt;Para exemplificar, vamos executar este código (no PHP 7, não no PHP 5):&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;ereg(&#39;^[a-z]$&#39;, &#39;php7&#39;);
echo &#34;FIM&#34;;
&lt;/pre&gt;

&lt;p&gt;Veremos este erro:&lt;/p&gt;

&lt;pre&gt;Fatal error: Uncaught Error: Call to undefined function ereg()...
&lt;/pre&gt;

&lt;p&gt;E o texto &amp;#8220;FIM&amp;#8221; não será exibido. Isso ocorre pois a exceção interrompe o script.&lt;/p&gt;

&lt;p&gt;Agora execute este script:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;try
{
    ereg(&#39;^[a-z]$&#39;, &#39;php7&#39;);
}
catch (Error $e)
{
    echo &#34;Ocorreu um erro: &#34; . $e-&amp;gt;getMessage();
}

echo &#34;FIM&#34;;
&lt;/pre&gt;

&lt;p&gt;Você verá a seguinte saída:&lt;/p&gt;

&lt;pre&gt;Ocorreu um erro: Call to undefined function ereg()
FIM
&lt;/pre&gt;

&lt;p&gt;Ou seja, nossa aplicação tratou a exceção e a execução continuou normalmente.&lt;/p&gt;

&lt;h2 id=&#34;4-construtores-do-php-4-obsoletos&#34;&gt;4. Construtores do PHP 4 Obsoletos&lt;/h2&gt;

&lt;p&gt;Antes do PHP 5, os construtores recebiam o mesmo nome da classe. Por exemplo:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;class ClassePHP4
{
    function ClassePHP4()
    {
        echo &#34;Construtor chamado&#34;;
    }
}
&lt;/pre&gt;

&lt;p&gt;Isso continuou funcionando no PHP 5, mas era recomendado usar o método &lt;code&gt;__construct&lt;/code&gt;, ficando desta forma:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;class ClassePHP5
{
    public function __construct()
    {
        echo &#34;Construtor chamado&#34;;
    }
}
&lt;/pre&gt;

&lt;p&gt;O PHP 7 recomenda que seja usado método &lt;code&gt;__construct&lt;/code&gt; em vez do método com o mesmo nome da classe. Ou seja, o uso de construtores no padrão do PHP 4 continuará sendo possível, mas é um recurso obsoleto (&lt;em&gt;Deprecated&lt;/em&gt;).&lt;/p&gt;

&lt;p&gt;Para testar isso, vamos executar este código:&lt;/p&gt;

&lt;h2 id=&#34;5-indução-de-tipos-scalar-types&#34;&gt;5. Indução de Tipos: &lt;em&gt;Scalar Types&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;PHP é uma linguagem &lt;strong&gt;NÃO&lt;/strong&gt; tipada.&lt;/p&gt;

&lt;p&gt;Aos poucos ela vem ganhando alguns recursos que a torna fracamente tipada.&lt;/p&gt;

&lt;p&gt;Isso significa que podemos criar códigos mais consistentes e menos suscetíveis a erros e problemas.&lt;/p&gt;

&lt;p&gt;O PHP 5 já possui o recurso de &lt;a href=&#34;http://php.net/manual/pt_BR/language.oop5.typehinting.php&#34; target=&#34;_blank&#34;&gt;Indução de Tipos&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;É possível definir alguns tipos para parâmetros de métodos e funções. Mas só é possível definir dois tipos: arrays (o tipo &amp;#8220;array&amp;#8221;) e objetos (com o nome da classe).&lt;/p&gt;

&lt;p&gt;A partir do PHP 7, poderemos usar outros tipos também: int, float, string e bool.&lt;/p&gt;

&lt;p&gt;Esses tipos podem ser definidos nos parâmetros de funções e métodos, como já era feito no PHP 5. Mas agora há uma novidade: também poderemos definir o tipo do retorno.&lt;/p&gt;

&lt;h2 id=&#34;6-tipo-de-retorno-de-funções-e-métodos&#34;&gt;6. Tipo de Retorno de Funções e Métodos&lt;/h2&gt;

&lt;p&gt;Seguindo a mesma ideia da Indução de Tipos que vimos anteriormente, o PHP 7 vai permitir definir o tipo de retorno de uma função ou método.&lt;/p&gt;

&lt;p&gt;Basta seguir esta sintaxe:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;function nomeFuncao() : tipo
{
    // corpo da função
}
&lt;/pre&gt;

&lt;p&gt;Por exemplo:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;function soma($x, $y) : float
{
    return $x + $y + 1.5;
}
&lt;/pre&gt;

&lt;p&gt;E, claro, pode usar todos os tipos suportados: int, float, string, bool, array e objeto.&lt;/p&gt;

&lt;h2 id=&#34;7-novo-operador-spaceship&#34;&gt;7. Novo Operador &lt;em&gt;Spaceship&lt;/em&gt; (&lt;code&gt;&amp;lt;=&amp;gt;&lt;/code&gt;)&lt;/h2&gt;

&lt;p&gt;Esse operador recebe o nome de &amp;#8220;&lt;em&gt;Spaceship&lt;/em&gt;&amp;#8221; em algumas outras linguagens, e é usado para comparação numérica.&lt;/p&gt;

&lt;p&gt;Se você já usou a função &lt;code&gt;strcmp()&lt;/code&gt;, com certeza vai entender esse operador sem dificuldades.&lt;/p&gt;

&lt;p&gt;Mesmo se não usou, é simples de entender.&lt;/p&gt;

&lt;p&gt;Veja estes exemplos:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;var_dump(2 &amp;lt;=&amp;gt; 3); // retorna -1
var_dump(2 &amp;lt;=&amp;gt; 2); // retorna 0
var_dump(2 &amp;lt;=&amp;gt; 1); // retorna 1
&lt;/pre&gt;

&lt;p&gt;Ou seja, o operador &lt;code&gt;&amp;lt;=&amp;gt;&lt;/code&gt; retorna um destes 3 valores:&lt;/p&gt;

&lt;p&gt;&amp;#8211; retorna -1 quando o primeiro operando é menor que o segundo&lt;/p&gt;

&lt;p&gt;&amp;#8211; retorna 0 quando os dois operandos são iguais&lt;/p&gt;

&lt;p&gt;&amp;#8211; retorna 1 quando o segundo operando é maior que o primeiro&lt;/p&gt;

&lt;h2 id=&#34;9-null-coalesce-operator-operador&#34;&gt;9. &lt;em&gt;Null Coalesce Operator&lt;/em&gt; (operador &lt;code&gt;??&lt;/code&gt;)&lt;/h2&gt;

&lt;p&gt;O nome parece complicado, mas ele faz algo bem simples.&lt;/p&gt;

&lt;p&gt;Ele é útil para verificar a existência de variáveis, como fazemos com valores de &lt;code&gt;$_GET&lt;/code&gt; ou &lt;code&gt;$_POST&lt;/code&gt;, usando &lt;code&gt;isset&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Ele faz com que esta linha:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;$email = $_POST[&#39;email&#39;] ?? &#39;valor padrão&#39;;
&lt;/pre&gt;

&lt;p&gt;&amp;#8230; seja transformada nesta:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;$email = isset($_POST[&#39;email&#39;]) ? $_POST[&#39;email&#39;] : &#39;valor padrão&#39;;
&lt;/pre&gt;

&lt;p&gt;Super simples!&lt;/p&gt;

&lt;h2 id=&#34;10-classes-anônimas&#34;&gt;10. Classes Anônimas&lt;/h2&gt;

&lt;p&gt;O PHP, a partir da versão 5.4, permite a criação de &lt;a href=&#34;http://php.net/manual/pt_BR/functions.anonymous.php&#34; target=&#34;_blank&#34;&gt;Funções Anônimas&lt;/a&gt;. Elas são úteis especialmente para criação de &lt;em&gt;callbacks&lt;/em&gt; ou para usar em parâmetros de funções, como &lt;code&gt;array_map()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;A partir do PHP 7, podemos criar Classes Anônimas também.&lt;/p&gt;

&lt;p&gt;Podemos, por exemplo, fazer uma função retornar uma classe, definida ns própria expressão &lt;code&gt;return&lt;/code&gt;:&lt;/p&gt;

&lt;pre class=&#34;lang-php&#34;&gt;function createObject()
{
    return new class{
        public function test()
        {
            echo &#34;test&#34; . PHP_EOL;
        }
    };
}

$obj = createObject();
$obj-&amp;gt;test();
&lt;/pre&gt;

&lt;p&gt;Há outros casos de uso, como em testes de software.&lt;/p&gt;

&lt;p&gt;Você pode ver a proposta e alguns casos de uso no &lt;a href=&#34;https://wiki.php.net/rfc/anonymous_classes&#34; target=&#34;_blank&#34;&gt;RFC que descreve esse recurso&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;conclusão&#34;&gt;Conclusão&lt;/h2&gt;

&lt;p&gt;O PHP 7 traz diversas novidades. E, se você seguia as Boas Práticas e padrões que o PHP recomendava, a partir da versão 5.5, provavelmente terá pouquíssimos problemas (ou nenhum) para migrar para o PHP 7.&lt;/p&gt;

&lt;p&gt;Se quiser conhecer melhor essas novidades e algumas outras, criei um &lt;a href=&#34;http://cursophp7.ultimatephp.com.br&#34; target=&#34;_blank&#34;&gt;curso gratuito&lt;/a&gt;, onde mostro com mais detalhes cada um desses novos recursos. Também mostro como instalar o PHP 7, sem afetar a sua instalação atual do PHP 5.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://cursophp7.ultimatephp.com.br&#34; target=&#34;_blank&#34;&gt;Clique aqui e se inscreva no meu curso gratuito do PHP 7&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Bons estudos e fique de olho no PHP 7!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>