
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/underscore-js-cinto-de-utilidades-javascript/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/underscore-js-cinto-de-utilidades-javascript/">Underscore.js: cinto de utilidades JavaScript</a></h1>
  <p class="tb-hero-p">
    
    Conhe√ßa esta biblioteca JavaScript que apresenta um conjunto s√≥lido de utilit√°rios para manipular listas e estruturas de dados.
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/davi-ferreira">Davi Ferreira</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Underscore.js √© uma pequena biblioteca de c√≥digos utilit√°rios voltados principalmente para a manipula√ß√£o de estrutura de dados.</p>

<p>Por m√≠seros 4kb voc√™ ganha funcionalidades como <em>map</em>, <em>select</em> e <em>invoke</em>, al√©m de uma engine de <em>templating</em> que, por si s√≥, j√° faz valer o uso da biblioteca.</p>

<p>Outro ponto legal √© que os scripts procuram sempre utilizar recursos nativos do navegador, ou seja, em browsers modernos a biblioteca tira proveito das implementa√ß√µes de <em>forEach</em>, <em>map</em>, <em>indexOf</em>, <em>filter</em> etc.</p>

<h2 id="utilizando">Utilizando</h2>

<p>O processo √© simples e conhecido. Basta fazer o [download do c√≥digo-fonte][1] e incluir o script em sua p√°gina/aplica√ß√£o. Todas as novas funcionalidades ficam dispon√≠veis atrav√©s do objeto global da biblioteca, o caractere underscore: _. Funciona basicamente como o $ do jQuery.</p>

<p>Vejamos agora algumas das principais fun√ß√µes disponibilizadas.</p>

<h2 id="cole√ß√µes-arrays-e-objetos">Cole√ß√µes (arrays e objetos)</h2>

<h3 id="each">each</h3>

<p>Este m√©todo varre uma lista de elementos e retorna a chave (quando houver) e o valor para uma fun√ß√£o pr√©-determinada.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.each([&#8216;BA&#8217;, &#8216;MT&#8217;, &#8216;RJ&#8217;, &#8216;RN&#8217;, &#8216;RS&#8217;], function (estado) { console.log(estado); });</p>

<p>_.each({RJ: &#8216;Rio de Janeiro&#8217;, SP: &#8216;S√£o Paulo&#8217;, RS: &#8216;Rio Grande do Sul&#8217;}, function (estado, sigla) { console.log(estado + &#8216;/&#8217; + sigla); });</p>

<p>[/cce]</p>

<h3 id="map">map</h3>

<p>A fun√ß√£o <strong>map</strong> retorna uma nova lista de elementos criada a partir de uma fun√ß√£o executada em cada um dos itens da lista original.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var times = [&#8216;Flamengo&#8217;, &#8216;Fluminense&#8217;, &#8216;Vasco&#8217;, &#8216;Botafogo&#8217;];</p>

<p>_.map(times, function (time) { return time + &#8216;-RJ&#8217;; });</p>

<p>// [&#8220;Flamengo-RJ&#8221;, &#8220;Fluminense-RJ&#8221;, &#8220;Vasco-RJ&#8221;, &#8220;Botafogo-RJ&#8221;]</p>

<p>[/cce]</p>

<h3 id="filter">filter</h3>

<p>O utilit√°rio <strong>filter</strong> busca por elementos que retornem verdadeiro no teste especificado.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var multiplosDeTres = _.filter([1, 2, 3, 4, 5, 6, 7, 8, 9], function(num){ return num % 3 == 0; });</p>

<p>// [3, 6, 9]</p>

<p>[/cce]</p>

<h3 id="find">find</h3>

<p>Diferentemente do m√©todo <strong>_filter_</strong>, o <strong>_find_</strong> retorna apenas o primeiro elemento que passe no teste especificado.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var primeiroMultiploDeTres = _.find([1, 2, 3, 4, 5, 6, 7, 8, 9], function(num){ return num % 3 == 0; });</p>

<p>// 3</p>

<p>[/cce]</p>

<h3 id="pluck">pluck</h3>

<p>O m√©todo <strong>_pluck</strong> √© uma vers√£o muito usada do utilit√°rio <strong>_map_</strong> que retorna uma lista formada por valores de uma propriedade espec√≠fica.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var estados = [{sigla: &#8216;RJ&#8217;, nome: &#8216;Rio de Janeiro&#8217;},</p>

<p>{sigla: &#8216;SP&#8217;, nome: &#8216;S√£o Paulo&#8217;},</p>

<p>{sigla: &#8216;RS&#8217;, nome: &#8216;Rio Grande do Sul&#8217;}],</p>

<p>nomes = _.pluck(estados, &#8216;nome&#8217;);</p>

<p>// [&#8220;Rio de Janeiro&#8221;, &#8220;S√£o Paulo&#8221;, &#8220;Rio Grande do Sul&#8221;]</p>

<p>[/cce]</p>

<h3 id="max-min">max, min</h3>

<p>Os m√©todos <strong>max</strong> e <strong>min</strong> retornam os maiores e menores valores em uma lista. Estes valores podem ser tanto os n√∫meros em uma lista simples, como valores de propriedades de um objeto quando voc√™ especifica uma fun√ß√£o.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var numeros = [100, 32, 29, 105, 30];</p>

<p>_.min(numeros);</p>

<p>// 29</p>

<p>_.max(numeros);</p>

<p>// 105</p>

<p>var times = [{nome: &#8216;Flamengo&#8217;, titulos: 6},</p>

<p>{nome: &#8216;Fluminense&#8217;, titulos: 2},</p>

<p>{nome: &#8216;Vasco&#8217;, titulos: 4},</p>

<p>{nome: &#8216;Botafogo&#8217;, titulos: 1}];</p>

<p>_.max(times, function (time) { return time.titulos });</p>

<p>// {nome: &#8220;Flamengo&#8221;, titulos: 6}</p>

<p>[/cce]</p>

<h3 id="sortby">sortBy</h3>

<p>Este m√©todo ordena uma lista do maior para o menor valor. O par√¢metro de ordena√ß√£o pode ser uma propriedade comum dos objetos ou uma fun√ß√£o comparativa.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>// usando a mesma vari√°vel times acima üôÇ</p>

<p>_.sortBy(times, &#8216;titulos&#8217;).reverse();</p>

<p>// [{nome: &#8220;Flamengo&#8221;, titulos: 6}, {nome: &#8220;Vasco&#8221;, titulos: 4}, {nome: &#8220;Fluminense&#8221;, titulos: 2}, {nome: &#8220;Botafogo&#8221;, titulos: 1}]</p>

<p>[/cce]</p>

<h2 id="arrays">Arrays</h2>

<h3 id="first-last">first, last</h3>

<p>Os m√©todos <strong>first</strong> e <strong>last</strong> retornam, respectivamente, os primeiros e os √∫ltimos elementos de um array. Voc√™ pode especificar, como segundo par√¢metro, a quantidade de itens a ser retornada.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var linguagens = [&#8216;ruby&#8217;, &#8216;python&#8217;, &#8216;php&#8217;, &#8216;java&#8217;];</p>

<p>_.first(linguagens, 2);</p>

<p>// [&#8220;ruby&#8221;, &#8220;python&#8221;]</p>

<p>_.last(linguagens);</p>

<p>// java</p>

<p>[/cce]</p>

<h3 id="union">union</h3>

<p>O m√©todo <strong>union</strong> retorna uma lista com os elementos √∫nicos de dois ou mais arrays.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.union([1, 2, 3], [4, 3], [10, 2, 9])</p>

<p>// [1, 2, 3, 4, 10, 9]</p>

<p>[/cce]</p>

<h3 id="difference">difference</h3>

<p>O utilit√°rio <strong>difference</strong> retorna elementos de um array que n√£o est√£o presentes em outros arrays.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var times = [&#8216;Flamengo&#8217;, &#8216;Vasco&#8217;, &#8216;Botafogo&#8217;, &#8216;Fluminense&#8217;];</p>

<p>var segundaDivisao = [&#8216;Vasco&#8217;, &#8216;Botafogo&#8217;];</p>

<p>var terceiraDivisao = [&#8216;Fluminense&#8217;];</p>

<p>_.difference(times, segundaDivisao, terceiraDivisao);</p>

<p>// [&#8220;Flamengo&#8221;]</p>

<p>[/cce]</p>

<h3 id="indexof">indexOf</h3>

<p>O m√©todo <strong>indexOf</strong> retorna o √≠ndice de um elemento no array especificado.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var times = [&#8216;Flamengo&#8217;, &#8216;Vasco&#8217;, &#8216;Botafogo&#8217;, &#8216;Fluminense&#8217;];</p>

<p>_.indexOf(times, &#8216;Vasco&#8217;);</p>

<p>// 1</p>

<p>[/cce]</p>

<h2 id="fun√ß√µes">Fun√ß√µes</h2>

<h3 id="bind">bind</h3>

<p>N√£o confunda o <strong>bind</strong> do Underscore.js com o <strong>bind</strong> do jQuery. Aqui, este m√©todo associa um objeto a uma fun√ß√£o, ou seja, o <strong>this</strong> no contexto da fun√ß√£o ser√° o objeto informado. Voc√™ ainda pode passar valores para os par√¢metros da fun√ß√£o.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var retornaTotalArtigos = function () { return this.nome + &#8216;: &#8216; + this.totalArtigos };</p>

<p>retornaTotalArtigos = _.bind(retornaTotalArtigos, {nome: &#8216;Davi Ferreira&#8217;, totalArtigos: 12});</p>

<p>retornaTotalArtigos();</p>

<p>// Davi Ferreira: 12</p>

<p>[/cce]</p>

<h3 id="once">once</h3>

<p>O m√©todo <strong>once</strong> cria uma fun√ß√£o que s√≥ pode ser executada uma √∫nica vez. As pr√≥ximas chamadas da fun√ß√£o v√£o sempre retornar o valor da primeira execu√ß√£o.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var dataCarregamentoInicial = function () { return +new Date; };</p>

<p>dataCarregamentoInicial = _.once(dataCarregamentoInicial);</p>

<p>dataCarregamentoInicial();</p>

<p>dataCarregamentoInicial();</p>

<p>// as duas chamadas v√£o retornar sempre o mesmo timestamp</p>

<p>[/cce]</p>

<h2 id="objetos">Objetos</h2>

<h3 id="keys-values">keys, values</h3>

<p>Os m√©todos acima retornam, respectivamente, os nomes e os valores das propriedades de um objeto.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.keys({RJ: &#8216;Rio de Janeiro&#8217;, SP: &#8216;S√£o Paulo&#8217;, RS: &#8216;Rio Grande do Sul&#8217;});</p>

<p>// [&#8220;RJ&#8221;, &#8220;SP&#8221;, &#8220;RS&#8221;]</p>

<p>_.values({RJ: &#8216;Rio de Janeiro&#8217;, SP: &#8216;S√£o Paulo&#8217;, RS: &#8216;Rio Grande do Sul&#8217;});</p>

<p>// [&#8220;Rio de Janeiro&#8221;, &#8220;S√£o Paulo&#8221;, &#8220;Rio Grande do Sul&#8221;]</p>

<p>[/cce]</p>

<h3 id="clone">clone</h3>

<p>Este m√©todo clona um objeto, mantendo suas refer√™ncias.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.clone({RJ: &#8216;Rio de Janeiro&#8217;, SP: &#8216;S√£o Paulo&#8217;, RS: &#8216;Rio Grande do Sul&#8217;});</p>

<p>// {RJ: &#8216;Rio de Janeiro&#8217;, SP: &#8216;S√£o Paulo&#8217;, RS: &#8216;Rio Grande do Sul&#8217;}</p>

<p>[/cce]</p>

<h3 id="fun√ß√µes-verificadoras">fun√ß√µes verificadoras</h3>

<p>A biblioteca Underscore.js oferece uma vasta gama de fun√ß√µes verificadoras para objetos, entre elas: <strong>isEqual</strong>, <strong>isEmpty</strong>, <strong>isFunction</strong> e <strong>isNull</strong>.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var obj = {},</p>

<p>obj2 = {};</p>

<p>_.isEmpty(obj);</p>

<p>// true</p>

<p>obj = {site: &#8216;Tableless&#8217;, categorias: [&#8216;JavaScript&#8217;. &#8216;jQuery&#8217;, &#8216;HTML5&#8217;]};</p>

<p>obj2 = {site: &#8216;Tableless&#8217;, categorias: [&#8216;JavaScript&#8217;. &#8216;jQuery&#8217;, &#8216;HTML5&#8217;]};</p>

<p>_.isEqual(obj, obj2);</p>

<p>// true</p>

<p>obj = function () { console.log(&#8216;Sou uma func√ß√£o!&#8217;); };</p>

<p>_.isFunction(obj);</p>

<p>// true</p>

<p>[/cce]</p>

<h2 id="utilit√°rios">Utilit√°rios</h2>

<h3 id="mixin">mixin</h3>

<p>Este m√©todo permite a cria√ß√£o de suas pr√≥prias fun√ß√µes utilit√°rias no objeto Underscore.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.mixin({</p>

<p>isEven : function(number) {</p>

<p>return number % 2 ? false : true;</p>

<p>}</p>

<p>});</p>

<p>_.isEven(3);</p>

<p>// false</p>

<p>_.isEven(10);</p>

<p>// true</p>

<p>[/cce]</p>

<h3 id="escape">escape</h3>

<p>O m√©todo <strong>escape</strong> transforma caracteres como &#8220;&amp;&#8221; e &#8220;/&#8221; para utiliza√ß√£o dentro de um bloco HTML.</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>_.escape(&#8216;</p>

<p>Tableless: JavaScript, HTML &amp; CSS</p>

<p>&#8216;);</p>

<p>// <p>Tableless: JavaScript, HTML &amp; CSS&lt;&#x2F;p&gt;</p>

<p>[/cce]</p>

<h3 id="template">template</h3>

<p>Por fim, um m√©todo para aplicar templates em seu c√≥digo JavaScript:</p>

<p>[cce lang=&#8221;javascript&#8221;]</p>

<p>var times = [{nome: &#8216;Flamengo&#8217;, titulos: 6},</p>

<p>{nome: &#8216;Fluminense&#8217;, titulos: 2},</p>

<p>{nome: &#8216;Vasco&#8217;, titulos: 4},</p>

<p>{nome: &#8216;Botafogo&#8217;, titulos: 1}],</p>

<p>tpl = &#8220;&lt;% _.each(times, function(time) { %&gt; <li>&lt;%= time.nome %&gt; &#8211; &lt;%= time.titulos %&gt; t√≠tulo(s)</li> &lt;% }); %&gt;&#8221;;</p>

<p>_.template(tpl, {times: times});</p>

<p>// <li>Flamengo &#8211; 6 t√≠tulo(s)</li> <li>Fluminense &#8211; 2 t√≠tulo(s)</li> <li>Vasco &#8211; 4 t√≠tulo(s)</li> <li>Botafogo &#8211; 1 t√≠tulo(s)</li></p>

<p>[/cce]</p>

<p>Para facilitar e aumentar a legibilidade, o seu template pode ser declarado em uma tag script separada:</p>

<p>[cce lang=&#8221;html&#8221;]</p>

<script type=&#8221;text/html&#8221; id=&#8221;tplTimes&#8221;>
  
<% _.each(times, function(time) { %>
    
<li><%= time.nome %> &#8211; <%= time.titulos %> t√≠tulo(s)</li>
  
<% }); %>
  
</script>

<script>
  
var times = [{nome: &#8216;Flamengo&#8217;, titulos: 6},
               
{nome: &#8216;Fluminense&#8217;, titulos: 2},
               
{nome: &#8216;Vasco&#8217;, titulos: 4},
               
{nome: &#8216;Botafogo&#8217;, titulos: 1}],
      
tpl = $(&#8216;#tplTimes&#8217;).html();
  
_.template(tpl, {times: times});
  
</script>
  

<p>[/cce]</p>

<p>Estes foram apenas alguns exemplos de m√©todos e fun√ß√µes utilit√°rias presentes na biblioteca Underscore.js. Para saber mais sobre o projeto, visite o <a href="http://underscorejs.org/">site oficial</a>.</p>

<p>[1]: <a href="http://underscorejs.org/">http://underscorejs.org/</a> &ldquo;&rdquo;</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

