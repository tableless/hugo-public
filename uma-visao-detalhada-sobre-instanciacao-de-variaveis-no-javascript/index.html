
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/uma-visao-detalhada-sobre-instanciacao-de-variaveis-no-javascript/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na pr√°tica
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/uma-visao-detalhada-sobre-instanciacao-de-variaveis-no-javascript/">Uma vis√£o detalhada sobre instancia√ß√£o de variaveis no JavaScript</a></h1>
  <p class="tb-hero-p">
    
    Sabe quando a vari√°vel acaba ganhando um valor que voc√™ n√£o esperava ? Pois bem, o JavaScript tem algumas formas de tratar vari√°veis e √© sobre isso que vamos tratar aqui neste artigo. Escrevi este texto para o curso beMEAN - Instagram criado pelo Jean Suissa, fundador da Webschool. Gostaria de compartilhar com a comunidade, especialmente com os iniciantes. Vamos la! ;)
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/alex-miranda">Alex Miranda</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<h2 id="hoisting">Hoisting</h2>

<p>Antes de falarmos sobre hoisting √© importante lembrar como funciona escopo em JavaScript. Escopo nada mais √© do que um contexto criado para os valores e express√µes terem sua validade. Em JavaScript o escopo √© criado com a declara√ß√£o de fun√ß√µes. Vamos a um exemplo:</p>

<pre class="lang-javascript">// Escopo global
var num = 0; 

// Escopo criado pela fun√ß√£o
function imprimir(){
    var num = 1;
    console.log(num);
}

// Executar a fun√ß√£o e o que tem em seu escopo
imprimir(); // 1

// Imprimindo a vari√°vel do escopo global
console.log(num); // 0
</pre>

<p>No exemplo acima temos o seguinte: A vari√°vel &#8220;num&#8221; foi declarada com o mesmo nome em 2 lugares diferentes: No escopo global e no escopo criado pela fun√ß√£o imprimir. Por elas estarem em escopos diferentes, n√£o tem problema terem o mesmo nome.</p>

<p>Mas cuidado! As vari√°veis declaradas sem a palavra reservada &#8220;var&#8221; passam a ser parte do escopo global. Olha s√≥:</p>

<pre class="lang-javascript">// Escopo global
var num = 0;

// Escopo criado para a fun√ß√£o imprimir
function imprimir(){
    num = 1; 
    console.log(num);
}

// Executar a fun√ß√£o e o que tem no escopo
imprimir(); // 1

// Acessando a vari√°vel do escopo global
console.log(num); // 1
</pre>

<p>Uma das boas praticas em JavaScript √© sempre declarar as vari√°veis com a palavra reservada &#8216;var&#8217; para conter o valor em seu escopo local e manter o escopo global limpo.</p>

<p>Legal, agora que j√° relembramos o escopo em JavaScript vamos entender o que √© o hoisting.</p>

<p><em>Hoisting pode ser traduzido como levantar, erguer ou i√ßar.</em></p>

<p>Esse comportamento na linguagem JavaScript vale para fun√ß√µes e vari√°veis. Vamos falar primeiro sobre o hoisting de vari√°veis. Quando declaramos uma vari√°vel em JavaScript a mesma √© erguida, ou hoisted, para o topo do escopo, no caso de variaveis somente a sua declara√ß√£o √© levada para o topo do escopo mas sua inicializa√ß√£o n√£o. Por exemplo:</p>

<pre class="lang-javascript">function nome(){
    var nome = "Alex";
    console.log(nome + " " + sobreNome);
    var sobreNome = "Miranda";
}
nome(); // Alex undefined
</pre>

<p>O valor da vari√°vel sobreNome √© undefined, ou seja, ela esta sendo considerada na fun√ß√£o mas o seu valor n√£o.</p>

<p>E √© assim que funciona o hoisting de vari√°vel. üòâ</p>

<p>No caso de fun√ß√µes o hoisting ocorre de um jeito diferente. Tanto a sua declara√ß√£o quanto o seu escopo √© i√ßado</p>

<p>para o topo. Olha que interessante:</p>

<pre class="lang-javascript">nome(); // Alex
function nome(){
    var nome = "Alex";
    console.log(nome);
}
</pre>

<p>Sim, a fun√ß√£o foi executada antes da sua declara√ß√£o por conta do hoisting. Por√©m, aqui vale um lembrete, uma das formas de declaramos fun√ß√µes em JavaScript √© armazenando elas em vari√°veis, nesse caso a regra para hoisting em vari√°veis entra em cena novamente. Vamos ver o que o nosso exemplo anterior retornaria neste caso:</p>

<pre class="lang-javascript">nome();
var nome = function(){
    var nome = "Alex";
    console.log(nome);
}
</pre>

<p>Declarando a fun√ß√£o desta forma o JavaScript retorna um erro dizendo que &#8220;nome&#8221; n√£o √© uma fun√ß√£o.</p>

<h2 id="closure">Closure</h2>

<p>A tradu√ß√£o para a Closure em portugu√™s seria clausura que quer dizer confinamento ou ambiente fechado. Para conseguir esse confinamento basta declarar uma fun√ß√£o dentro de outra, a fun√ß√£o externa confina a fun√ß√£o interna.</p>

<p>O confinamento acontece por conta da regra do JavaScript referente a escopo. Sabemos que o escopo √© criado por fun√ß√µes, isso quer dizer que a fun√ß√£o externa cria um escopo em que a fun√ß√£o interna fica confinada podendo ser executada somente dentro desse escopo. As vari√°veis e par√¢metros da fun√ß√£o externa podem ser acessados pela fun√ß√£o interna.</p>

<p>Vamos a um exemplo:</p>

<pre class="lang-javascript">// fun√ß√£o externa
function lancamentoDeNota(nome, exercicio , nota){
    // fun√ß√£o interna
    function fechamento(){
        var mensagem = "Avalia√ß√£o do exerc√≠cio : " + exercicio;
        mensagem += "\n Aluno: " + nome;
        mensagem += "\n Nota: " + nota;
        console.log(mensagem)
    }
    // executa a fun√ß√£o interna
    fechamento();

} // fecha fun√ß√£o externa

lancamentoDeNota("Alex", "Importando collections", "10"); // Avalia√ß√£o do exerc√≠cio : Importando collections Aluno: Alex Nota: 10
</pre>

<p>Acabamos de ver um exemplo de closure em JavaScript, mas ainda temos uma diferen√ßa muito bacana na linguagem. Em JavaScript √© poss√≠vel escapar a fun√ß√£o interna do seu confinamento. Vamos avaliar o c√≥digo abaixo:</p>

<pre class="lang-javascript">// fun√ß√£o externa
function lancamentoDeNota(nome, exercicio , nota){
    // fun√ß√£o interna
    function fechamento(){
        var mensagem = "Avalia√ß√£o do exerc√≠cio: " + exercicio;
        mensagem += "\n Aluno: " + nome;
        mensagem += "\n Nota: " + nota;
        console.log(mensagem)
    }
    // escapando a fun√ß√£o interna retornando ela de forma literal para fun√ß√£o externa. Malandragem √© pouco pro JS kkkk
    return fechamento;
}
var primeiroExercicio = lancamentoDeNota("Alex", "Importando collections", "10");
var segundoExercicio = lancamentoDeNota("Alex", "Inserindo Pokemons", "10");

primeiroExercicio(); // Avalia√ß√£o do exerc√≠cio : Importando collections Aluno: Alex Nota: 10
segundoExercicio(); // Avalia√ß√£o do exerc√≠cio : Importando Pokemons Aluno: Alex Nota: 10
</pre>

<p>O return faz com que a fun√ß√£o interna seja retornada de forma literal podendo ser executada fora do confinamento.</p>

<h2 id="vari√°vel-global">Vari√°vel Global</h2>

<p>Vari√°veis globais s√£o todas aquelas definidas fora de alguma fun√ß√£o. Isso porque cada fun√ß√£o gera seu pr√≥prio escopo. A vari√°vel global pode ser acessada por qualquer fun√ß√£o. Fizemos isso segundo exemplo.</p>

<pre class="lang-javascript">// Escopo global
var num = 0;

// Escopo criado para a fun√ß√£o imprimir
function imprimir(){
    num = 1; 
    console.log(num);
}

// Executar a fun√ß√£o e o que tem no escopo
imprimir(); // 1

// Acessando a vari√°vel do escopo global
console.log(num); // 1
</pre>

<p>Todas as vari√°veis que n√£o forem declaradas com a palavra reservada &#8216;var&#8217; ser√£o consideradas parte do escopo</p>

<p>global.</p>

<h2 id="vari√°vel-por-par√¢metro">Vari√°vel por par√¢metro</h2>

<p>Quando declaramos uma fun√ß√£o temos a op√ß√£o de indicar alguns par√¢metros para elas. Tais par√¢metros s√£o considerados como vari√°veis que recebem um valor na hora da execu√ß√£o da fun√ß√£o. Esses valores s√£o utilizados dentro da fun√ß√£o. Exemplo:</p>

<pre class="lang-javascript">function sub(num1, num2){
 console.log(num1-num2)
}
sub(10, 2) // 8
</pre>

<p>Caso esse par√¢metro seja uma vari√°vel global o valor dela n√£o se altera. Por exemplo:</p>

<pre class="lang-javascript">var global = 12;
function sub(global, num2){
 console.log(global-num2);
}
sub(15, 2) // 13
console.log(global); // 12
</pre>

<h2 id="instancia√ß√£o-usando-uma-iife">Instancia√ß√£o usando uma IIFE</h2>

<p>IIFE √© a abrevia√ß√£o para Imediately Invoked Function Expression, que pode ser traduzida para Express√£o de Fun√ß√£o Invocada Imediatamente. Esse tipo de fun√ß√£o √© executada no mesmo momento que esta sendo interpretada, veja a sintaxe dela:</p>

<pre class="lang-javascript">(function(){
 // corpo da fun√ß√£o
}())
</pre>

<p>Os parenteses que envolvem a fun√ß√£o fazem dela uma express√£o e os parenteses no final da declara√ß√£o executa a</p>

<p>fun√ß√£o. Esse tipo de fun√ß√£o tamb√©m pode ser armazenada em uma vari√°vel. Dessa forma:</p>

<pre class="lang-javascript">var nome = (function(){
 // corpo da fun√ß√£o
}())
</pre>

<p>Como toda fun√ß√£o, a IIFE tamb√©m pode receber par√¢metros. Mas agora pense o seguinte, se ela √© chamada imediatamente em tempo de execu√ß√£o, como podemos passar os par√¢metros ? Vamos ver:</p>

<pre class="lang-javascript">var nome = (function(nome){
 // corpo da fun√ß√£o
 console.log("Artigo escrito por: " + nome); // Alex
}("Alex"))
</pre>

<p>Bem bacana n√© ? A IIFE √© um partner em JavaScript que evita polui√ß√£o no escopo global e com ela tamb√©m √© poss√≠vel modularizar o c√≥digo e deixar tudo mais organizado.</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos c√≥digo front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

