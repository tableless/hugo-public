
<!DOCTYPE html>
<html lang="pt-br" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  <base href="https://tableless.github.io/hugo-public/">
  <title>Tableless</title>
  <link rel="canonical" href="https://tableless.github.io/hugo-public/silex-middlewares-101-parte-1/">
  <link href="" rel="alternate" type="application/rss+xml" title="Tableless" />
  <link rel="stylesheet" href="https://tableless.github.io/hugo-public/css/style.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css">

</head>
<body>


  <header id="tb-header">
    <a href="https://tableless.github.io/hugo-public/" class="tb-logo"><img src="images/logo.svg"></a>

    

    <nav id="tb-menu">
      <ul>

        
          
              
            <li>
              <a href="/hugo-public/categories/html">
                  
                  HTML
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/css/">
                  
                  CSS
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/javascript/">
                  
                  JavaScript
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/back-end/">
                  
                  Back-end
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/wordpress/">
                  
                  WordPress
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/acessibilidade/">
                  
                  Acessibilidade
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/design/">
                  
                  Design
              </a>
          
            </li>
          
              
            <li>
              <a href="/hugo-public/categories/t%C3%A9cnicas-e-pr%C3%A1ticas/">
                  
                  Na prática
              </a>
          
            </li>
          

      </ul>
    </nav>

  </header>

  <header class="tb-post-header">
    <h1 class="tb-hero-title"><a href="/hugo-public/silex-middlewares-101-parte-1/">Silex Middlewares 101 – Parte 1</a></h1>
  <p class="tb-hero-p">
    
    Os middlewares no Silex são utilizados para mudar o comportamento padrão do mesmo, os middlewares se mostram muito úteis quando pensamos na validação de tokens de acesso, save de logs e muitas outras tarefas. Basicamente temos dois tipos de middlewares, os de aplicação e os de rota. 
    
  </p>
      <span class="tb-author">por <a href="/hugo-public/author/nando-kstro-net">Nando Kstro Net</a></span>


  </header>


<section class="tb-post">

  <section class="tb-post-content">
    <article class="tb-post-article">
      

<p>Fala pessoal! Tudo bem? Espero que sim! Depois de uma longa temporada retorno com mais este post sobre o micro-framework Silex! Desta vez abordarei o uso dos middlewares no mesmo.</p>

<h2 id="middlewares">Middlewares</h2>

<p>Os middlewares no Silex são utilizados para mudar o comportamento padrão do mesmo, os middlewares se mostram muito úteis quando pensamos na validação de tokens de acesso, save de logs e muitas outras tarefas. Basicamente temos dois tipos de middlewares, os de aplicação e os de rota. Mostraremos as diferenças abaixo:</p>

<h2 id="middlewares-de-aplicação">Middlewares De Aplicação</h2>

<p>Como o próprio nome já diz, esses middlewares impactam a aplicação como um todo e são três. Vamos ver como cada um funciona logo abaixo:</p>

<h3 id="before-method">Before Method</h3>

<p>O método <code>before();</code> é sempre executado antes de suas rotas, no escopo de aplicação ele será acionado sempre que um usuário fizer alguma requisição a mesma. Veja o código abaixo:</p>

<pre>&lt;?php
#...
$app = new Application();

$app-&gt;before(function(){
    //Sua lógica aqui.
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Middlewares');
});

$app-&gt;run();
</pre>

<p>Das linhas 5 a 7 temos a definição do nosso middleware <code>before</code>, como comentado, sempre que nossa aplicação for acessada, o middleware será acionado antes da execução da rota em questão. O before se torna muito útil para validação de tokens de acesso, validação de sessão, transformação de dados, dentre outros.</p>

<h3 id="after-method">After Method</h3>

<p>O <code>after();</code>, apesar do nome sugestivo, não quer dizer que o mesmo será executado após a chamada da rota, calma vô explicar!</p>

<p>O <code>after</code> executa antes da saída do response da rota chamada!</p>

<pre>&lt;?php
#...
$app-&gt;after(function(){
    //Exemplo
    print 'After Middleware | ';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content!');
});

#...
</pre>

<p>A saida do código acima seria algo como:</p>

<p>``Fala pessoal! Tudo bem? Espero que sim! Depois de uma longa temporada retorno com mais este post sobre o micro-framework Silex! Desta vez abordarei o uso dos middlewares no mesmo.</p>

<h2 id="middlewares-1">Middlewares</h2>

<p>Os middlewares no Silex são utilizados para mudar o comportamento padrão do mesmo, os middlewares se mostram muito úteis quando pensamos na validação de tokens de acesso, save de logs e muitas outras tarefas. Basicamente temos dois tipos de middlewares, os de aplicação e os de rota. Mostraremos as diferenças abaixo:</p>

<h2 id="middlewares-de-aplicação-1">Middlewares De Aplicação</h2>

<p>Como o próprio nome já diz, esses middlewares impactam a aplicação como um todo e são três. Vamos ver como cada um funciona logo abaixo:</p>

<h3 id="before-method-1">Before Method</h3>

<p>O método <code>before();</code> é sempre executado antes de suas rotas, no escopo de aplicação ele será acionado sempre que um usuário fizer alguma requisição a mesma. Veja o código abaixo:</p>

<pre>&lt;?php
#...
$app = new Application();

$app-&gt;before(function(){
    //Sua lógica aqui.
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Middlewares');
});

$app-&gt;run();
</pre>

<p>Das linhas 5 a 7 temos a definição do nosso middleware <code>before</code>, como comentado, sempre que nossa aplicação for acessada, o middleware será acionado antes da execução da rota em questão. O before se torna muito útil para validação de tokens de acesso, validação de sessão, transformação de dados, dentre outros.</p>

<h3 id="after-method-1">After Method</h3>

<p>O <code>after();</code>, apesar do nome sugestivo, não quer dizer que o mesmo será executado após a chamada da rota, calma vô explicar!</p>

<p>O <code>after</code> executa antes da saída do response da rota chamada!</p>

<pre>&lt;?php
#...
$app-&gt;after(function(){
    //Exemplo
    print 'After Middleware | ';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content!');
});

#...
</pre>

<p>A saida do código acima seria algo como:</p>

<p>``</p>

<p>Um caso de uso para tal, seria a transformação do response dentre outras tarefas!</p>

<h3 id="finish-method">Finish Method</h3>

<p>Existe ainda o middleware <code>finish();</code>, esse sim! É executado após a execução da rota em questão!</p>

<p>Vamos ao exemplo:</p>

<pre>&lt;?php
#...
$app-&gt;finish(function(){
    //Exemplo
    print 'Finish middleware';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content | ');
});
#...
</pre>

<p>A saída do código seria:</p>

<p>```Fala pessoal! Tudo bem? Espero que sim! Depois de uma longa temporada retorno com mais este post sobre o micro-framework Silex! Desta vez abordarei o uso dos middlewares no mesmo.</p>

<h2 id="middlewares-2">Middlewares</h2>

<p>Os middlewares no Silex são utilizados para mudar o comportamento padrão do mesmo, os middlewares se mostram muito úteis quando pensamos na validação de tokens de acesso, save de logs e muitas outras tarefas. Basicamente temos dois tipos de middlewares, os de aplicação e os de rota. Mostraremos as diferenças abaixo:</p>

<h2 id="middlewares-de-aplicação-2">Middlewares De Aplicação</h2>

<p>Como o próprio nome já diz, esses middlewares impactam a aplicação como um todo e são três. Vamos ver como cada um funciona logo abaixo:</p>

<h3 id="before-method-2">Before Method</h3>

<p>O método <code>before();</code> é sempre executado antes de suas rotas, no escopo de aplicação ele será acionado sempre que um usuário fizer alguma requisição a mesma. Veja o código abaixo:</p>

<pre>&lt;?php
#...
$app = new Application();

$app-&gt;before(function(){
    //Sua lógica aqui.
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Middlewares');
});

$app-&gt;run();
</pre>

<p>Das linhas 5 a 7 temos a definição do nosso middleware <code>before</code>, como comentado, sempre que nossa aplicação for acessada, o middleware será acionado antes da execução da rota em questão. O before se torna muito útil para validação de tokens de acesso, validação de sessão, transformação de dados, dentre outros.</p>

<h3 id="after-method-2">After Method</h3>

<p>O <code>after();</code>, apesar do nome sugestivo, não quer dizer que o mesmo será executado após a chamada da rota, calma vô explicar!</p>

<p>O <code>after</code> executa antes da saída do response da rota chamada!</p>

<pre>&lt;?php
#...
$app-&gt;after(function(){
    //Exemplo
    print 'After Middleware | ';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content!');
});

#...
</pre>

<p>A saida do código acima seria algo como:</p>

<p>``Fala pessoal! Tudo bem? Espero que sim! Depois de uma longa temporada retorno com mais este post sobre o micro-framework Silex! Desta vez abordarei o uso dos middlewares no mesmo.</p>

<h2 id="middlewares-3">Middlewares</h2>

<p>Os middlewares no Silex são utilizados para mudar o comportamento padrão do mesmo, os middlewares se mostram muito úteis quando pensamos na validação de tokens de acesso, save de logs e muitas outras tarefas. Basicamente temos dois tipos de middlewares, os de aplicação e os de rota. Mostraremos as diferenças abaixo:</p>

<h2 id="middlewares-de-aplicação-3">Middlewares De Aplicação</h2>

<p>Como o próprio nome já diz, esses middlewares impactam a aplicação como um todo e são três. Vamos ver como cada um funciona logo abaixo:</p>

<h3 id="before-method-3">Before Method</h3>

<p>O método <code>before();</code> é sempre executado antes de suas rotas, no escopo de aplicação ele será acionado sempre que um usuário fizer alguma requisição a mesma. Veja o código abaixo:</p>

<pre>&lt;?php
#...
$app = new Application();

$app-&gt;before(function(){
    //Sua lógica aqui.
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Middlewares');
});

$app-&gt;run();
</pre>

<p>Das linhas 5 a 7 temos a definição do nosso middleware <code>before</code>, como comentado, sempre que nossa aplicação for acessada, o middleware será acionado antes da execução da rota em questão. O before se torna muito útil para validação de tokens de acesso, validação de sessão, transformação de dados, dentre outros.</p>

<h3 id="after-method-3">After Method</h3>

<p>O <code>after();</code>, apesar do nome sugestivo, não quer dizer que o mesmo será executado após a chamada da rota, calma vô explicar!</p>

<p>O <code>after</code> executa antes da saída do response da rota chamada!</p>

<pre>&lt;?php
#...
$app-&gt;after(function(){
    //Exemplo
    print 'After Middleware | ';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content!');
});

#...
</pre>

<p>A saida do código acima seria algo como:</p>

<p>``</p>

<p>Um caso de uso para tal, seria a transformação do response dentre outras tarefas!</p>

<h3 id="finish-method-1">Finish Method</h3>

<p>Existe ainda o middleware <code>finish();</code>, esse sim! É executado após a execução da rota em questão!</p>

<p>Vamos ao exemplo:</p>

<pre>&lt;?php
#...
$app-&gt;finish(function(){
    //Exemplo
    print 'Finish middleware';
});

$app-&gt;get('/', function(Application $app) {
    return $app-&gt;escape('Router Content | ');
});
#...
</pre>

<p>A saída do código seria:</p>

<p>```</p>

<p>Muito útil para save de logs dentre outras tarefas!</p>

<h2 id="conclusão">Conclusão</h2>

<p>Esses são os middlewares de aplicação do Silex Framework, percebemos que os mesmos tornam nossos trabalhos bem mais simplificados em determinados casos, só precisamos tomar um pouco de cuidado para não deixa-los um tanto quanto complexos, evitando assim dor de cabeça futura!</p>

<p>Em nosso próximo post, ainda sobre Middlewares, abordaremos os middlewares de rotas e algumas particularidades dos middlewares como um todo!</p>

<p>O código completo deste post você pode encontrar no <a href="https://goo.gl/LI4BsY" target="_blank">gist</a>. Abraços e até a próxima!</p>

    </article>

<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = '';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
  </section>


  <aside class="tb-aside">
    Banner
  </aside>

</section>


<footer id="tb-footer">
    <div class="tb-container">
    <ul class="tb-social-links">
        <li><a href="http://facebook.com/tablelessbr">Facebook</a></li>
        <li><a href="http://twitter.com/tableless">Twitter</a></li>
        <li><a href="http://tableless.com.br/feed">RSS</a></li>
        <li><a href="http://medium.com/tableless">Medium</a></li>
    </ul>
    <nav class="tb-footer-nav">
        <a href="">Contato</a>
        <a href="">Anuncie</a>
        <a href="">Seja um Autor</a>
        <a href="">Fazemos código front-end</a>
    </nav>

    <p class="tb-for-community">
        Escrito pela e para a comunidade web brasileira. <a href="">Ajude</a>.
    </p>
    </div>
</footer>
<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>
$(document).ready(function() {
  $('pre').each(function(i, block) {
    hljs.highlightBlock(block);
  });
})</script>


</body>
</html>

